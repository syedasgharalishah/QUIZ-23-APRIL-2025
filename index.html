<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - July 14, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include seedrandom.js for consistent daily question shuffling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <style>
        /* Base Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDF5E6; /* Old Lace */
            color: #8B4513; /* SaddleBrown */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Top Bar Styling */
        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #555;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .top-bar .whatsapp-link {
            color: #555;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Header Section Styling */
        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #8B4513; /* SaddleBrown */
            margin-bottom: 1rem;
        }

        /* Progress Bar Styling */
        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #D2B48C, #CD853F); /* Tan to Peru */
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Banner Image and Credits */
        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        /* Card Styling */
        .card {
            background-color: #FAF0E6; /* Linen */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        /* Button Styling */
        .button-gradient {
            background-image: linear-gradient(to right, #F4A460, #D2B48C); /* SandyBrown to Tan */
            color: #4B2E2E;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        /* Option Button Styling */
        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #8B4513;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #CD853F; /* Peru */
            background-color: #FFF8DC; /* Cornsilk */
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #2E8B57; /* SeaGreen */
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #F08080; /* LightCoral */
            border-color: #CD5C5C; /* IndianRed */
            animation: shake-red 0.5s ease-out forwards;
        }

        /* Special Question Highlight */
        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* Explanation Section */
        .explanation {
            background-color: #FFF5EE; /* SeaShell */
            border-left: 5px solid #D2B48C; /* Tan */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #8B4513;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .quiz-title { font-size: 1.5rem; }
            .card { padding: 1rem; }
        }

        /* Keyframe Animations */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        // Disable right-click, copy/paste, and developer tools for security
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault();
            }
            if (e.key === 'F12') { e.preventDefault(); }
        });
        document.addEventListener('copy', event => event.preventDefault());
        document.addEventListener('paste', event => event.preventDefault());
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-700" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-700" value="free">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-700" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display text-lg font-bold text-gray-700 mb-4 text-center" id="timerDisplay"></div>
            <div class="question-progress text-center text-sm text-gray-500 mb-4" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6"></div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-2"><strong>Attempted MCQs:</strong> <span id="resultAttempted"></span> / 100</p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "July 14, 2025";
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Function to update the live date display
        function updateLiveDate() {
            document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
            document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
            document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;
        }

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 100;
        const TOTAL_QUESTIONS = 100;
        let specialQuestionIndex = -1;

        // --- Helper Functions ---
        function shuffleArrayWithSeed(array, seed) {
            let rng = new Math.seedrandom(seed);
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(rng() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        function showPage(pageId) {
            ['loginPage', 'candidateNamePage', 'quizPage', 'resultsPage'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }

        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60;

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true);
                } else {
                    timeLeft--;
                }
            }
            updateTimerDisplay();
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');
            if (question.special) {
                quizCard.classList.add('special-question');
            }
            
            const optionSeed = `${CURRENT_DATE_STR}-${currentQuestionIndex}`;
            const shuffledOptions = [...question.options];
            shuffleArrayWithSeed(shuffledOptions, optionSeed);

            shuffledOptions.forEach((option) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.innerHTML = option;
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));
                optionsContainer.appendChild(button);
            });

            const userAnswer = userAnswers[currentQuestionIndex];
            if (userAnswer && userAnswer.selectedOptionIndex !== undefined) {
                 Array.from(optionsContainer.children).forEach((button) => {
                    button.disabled = true;
                    const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);
                    if (btnOriginalIndex === userAnswer.selectedOptionIndex) {
                        button.classList.add('selected', userAnswer.isCorrect ? 'correct' : 'incorrect');
                    }
                    if (!userAnswer.isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                         button.classList.add('correct');
                    }
                });
            }

            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            explanationDiv.style.display = (userAnswer && userAnswer.selectedOptionIndex !== undefined) ? 'block' : 'none';

            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            const showNextButton = currentQuestionIndex < quizQuestions.length - 1 && (userAnswer && userAnswer.selectedOptionIndex !== undefined);
            document.getElementById('nextBtn').classList.toggle('hidden', !showNextButton);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);
        }

        function selectOption(selectedOptionOriginalIndex) {
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) return;

            const question = quizQuestions[currentQuestionIndex];
            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true;
                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);
                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
                }
                if (btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct');
                }
            });

            document.getElementById('explanationDiv').style.display = 'block';
            const showNextButton = currentQuestionIndex < quizQuestions.length - 1;
            document.getElementById('nextBtn').classList.toggle('hidden', !showNextButton);
        }
        
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval);
            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;
            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) correctCount++;
                    else incorrectCount++;
                }
            });

            const score = (correctCount * 2) - incorrectCount;
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = `${score}`;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultAttempted').textContent = `${attemptedCount} / ${TOTAL_QUESTIONS}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);
            
            showPage('resultsPage');

            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Attempted MCQs', attemptedCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId());

            fetch('https://formspree.io/f/xovladjl', {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' }
            }).then(response => {
                if(response.ok) {
                    console.log('Results submitted successfully.');
                } else {
                    console.error('Submission failed.');
                }
            }).catch(error => console.error('Submission error:', error));
        }

        // --- Event Listeners ---
        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value.toUpperCase();
            const password = document.getElementById('loginPassword').value;
            if (id === '14JULY' && password === 'free') {
                document.getElementById('loginError').classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                document.getElementById('loginError').classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateName = document.getElementById('candidateName').value.trim();
            if (candidateName) {
                document.getElementById('nameError').classList.add('hidden');
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                document.getElementById('nameError').classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            clearInterval(timerInterval);
            initializeQuiz();
            showPage('loginPage');
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            quizQuestions.length = 0;
            const dateSeed = CURRENT_DATE_STR;
            
            const allQuestions = [
                // === July 14th Syllabus Quiz (100 MCQs) ===

                // --- General Knowledge (Pages 70-73) - 35 Questions ---
                { question: "When is World Environment Day observed?", options: ["June 5", "July 5", "August 5", "September 5"], correctOptionIndex: 0, explanation: "World Environment Day is celebrated annually on June 5th to encourage awareness and action for the protection of the environment.", source_page: 70 },
                { question: "International Women's Day is celebrated on which date?", options: ["February 14", "March 8", "April 1", "May 10"], correctOptionIndex: 1, explanation: "International Women's Day is a global day celebrating the social, economic, cultural, and political achievements of women, observed on March 8th.", source_page: 70 },
                { question: "When is World Health Day observed?", options: ["March 7", "April 7", "May 7", "June 7"], correctOptionIndex: 1, explanation: "World Health Day is a global health awareness day celebrated every year on April 7th, under the sponsorship of the World Health Organization (WHO).", source_page: 70 },
                { question: "On which date is the International Day of Peace observed?", options: ["August 21", "September 21", "October 21", "November 21"], correctOptionIndex: 1, explanation: "The International Day of Peace is observed around the world on September 21st each year.", source_page: 72 },
                { question: "World Teachers' Day is celebrated annually on:", options: ["September 5", "October 5", "November 5", "December 5"], correctOptionIndex: 1, explanation: "World Teachers' Day is held annually on October 5th to celebrate all teachers around the globe.", source_page: 72 },
                { question: "When is United Nations Day celebrated?", options: ["September 24", "October 24", "November 24", "December 24"], correctOptionIndex: 1, explanation: "United Nations Day, on October 24th, marks the anniversary of the day in 1945 when the UN Charter entered into force.", source_page: 72 },
                { question: "World AIDS Day is observed on which date?", options: ["November 1", "December 1", "January 1", "February 1"], correctOptionIndex: 1, explanation: "World AIDS Day, designated on December 1st every year since 1988, is an international day dedicated to raising awareness of the AIDS pandemic.", source_page: 73 },
                { question: "International Human Rights Day is observed on:", options: ["November 10", "December 10", "January 10", "February 10"], correctOptionIndex: 1, explanation: "Human Rights Day is celebrated annually on December 10th, the day the United Nations General Assembly adopted the Universal Declaration of Human Rights in 1948.", source_page: 73 },
                { question: "When is World Press Freedom Day celebrated?", options: ["April 3", "May 3", "June 3", "July 3"], correctOptionIndex: 1, explanation: "World Press Freedom Day is observed on May 3rd to raise awareness of the importance of freedom of the press.", source_page: 70 },
                { question: "International Labour Day is observed on:", options: ["April 1", "May 1", "June 1", "July 1"], correctOptionIndex: 1, explanation: "International Workers' Day, also known as Labour Day in some countries, is celebrated on May 1st.", source_page: 70 },
                { question: "World Population Day is observed on which date?", options: ["June 11", "July 11", "August 11", "September 11"], correctOptionIndex: 1, explanation: "World Population Day is an annual event, observed on July 11th, which seeks to raise awareness of global population issues.", source_page: 71 },
                { "question": "When is World Literacy Day observed?", "options": ["August 8", "September 8", "October 8", "November 8"], "correctOptionIndex": 1, "explanation": "International Literacy Day is celebrated annually on September 8th to highlight the importance of literacy to individuals, communities, and societies.", "source_page": 72 },
                { "question": "World Food Day is celebrated every year on:", "options": ["September 16", "October 16", "November 16", "December 16"], "correctOptionIndex": 1, "explanation": "World Food Day is an international day celebrated every year on October 16th to commemorate the date of the founding of the United Nations Food and Agriculture Organization in 1945.", "source_page": 72 },
                { "question": "When is World Water Day observed?", "options": ["February 22", "March 22", "April 22", "May 22"], "correctOptionIndex": 1, "explanation": "World Water Day is an annual UN observance day held on March 22nd that highlights the importance of fresh water.", "source_page": 70 },
                { "question": "International Day for the Eradication of Poverty is observed on:", "options": ["September 17", "October 17", "November 17", "December 17"], "correctOptionIndex": 1, "explanation": "The International Day for the Eradication of Poverty is an international observance celebrated each year on October 17th.", "source_page": 72 },
                { "question": "When is World Red Cross Day celebrated?", "options": ["April 8", "May 8", "June 8", "July 8"], "correctOptionIndex": 1, "explanation": "World Red Cross and Red Crescent Day is celebrated on May 8th each year, which is the anniversary of the birth of Henry Dunant, the founder of the ICRC.", "source_page": 70 },
                { "question": "World Tourism Day is celebrated on which date?", "options": ["August 27", "September 27", "October 27", "November 27"], "correctOptionIndex": 1, "explanation": "World Tourism Day is commemorated each year on September 27th to foster awareness among the international community of the importance of tourism.", "source_page": 72 },
                { "question": "When is the International Day of Non-Violence observed?", "options": ["September 2", "October 2", "November 2", "December 2"], "correctOptionIndex": 1, "explanation": "The International Day of Non-Violence is observed on October 2nd, the birthday of Mahatma Gandhi.", "source_page": 72 },
                { "question": "World Post Office Day is observed on:", "options": ["September 9", "October 9", "November 9", "December 9"], "correctOptionIndex": 1, "explanation": "World Post Day is celebrated each year on October 9th, the anniversary of the establishment of the Universal Postal Union in 1874.", "source_page": 72 },
                { "question": "When is Commonwealth Day celebrated?", "options": ["Second Monday in March", "First Monday in April", "Third Monday in May", "Last Monday in June"], "correctOptionIndex": 0, "explanation": "Commonwealth Day is the annual celebration of the Commonwealth of Nations, often held on the second Monday in March.", "source_page": 70 },
                { "question": "World Meteorological Day is observed on:", "options": ["February 23", "March 23", "April 23", "May 23"], "correctOptionIndex": 1, "explanation": "World Meteorological Day is celebrated every year on March 23rd to commemorate the establishment of the World Meteorological Organization (WMO) on that date in 1950.", "source_page": 70 },
                { "question": "When is World Intellectual Property Day observed?", "options": ["March 26", "April 26", "May 26", "June 26"], "correctOptionIndex": 1, "explanation": "World Intellectual Property Day is observed annually on April 26th.", "source_page": 70 },
                { "question": "International Day of Families is observed on:", "options": ["April 15", "May 15", "June 15", "July 15"], "correctOptionIndex": 1, "explanation": "The International Day of Families is observed on May 15th every year.", "source_page": 71 },
                { "question": "World No Tobacco Day is observed on which date?", "options": ["April 31", "May 31", "June 30", "July 31"], "correctOptionIndex": 1, "explanation": "World No Tobacco Day is observed around the world every year on May 31st.", "source_page": 71 },
                { "question": "When is International Olympic Day celebrated?", "options": ["May 23", "June 23", "July 23", "August 23"], "correctOptionIndex": 1, "explanation": "International Olympic Day is celebrated on June 23rd to commemorate the day the International Olympic Committee was founded in 1894.", "source_page": 71 },
                { "question": "The International Day against Drug Abuse and Illicit Trafficking is observed on:", "options": ["May 26", "June 26", "July 26", "August 26"], "correctOptionIndex": 1, "explanation": "This international day is a United Nations observance against drug abuse and the illegal drug trade, observed annually on June 26th.", "source_page": 71 },
                { "question": "Nelson Mandela International Day is celebrated every year on:", "options": ["June 18", "July 18", "August 18", "September 18"], "correctOptionIndex": 1, "explanation": "Nelson Mandela International Day is an annual international day in honour of Nelson Mandela, celebrated each year on his birthday, July 18th.", "source_page": 71 },
                { "question": "When is International Youth Day observed?", "options": ["July 12", "August 12", "September 12", "October 12"], "correctOptionIndex": 1, "explanation": "International Youth Day is celebrated annually on August 12th to recognize the efforts of the world's youth in enhancing global society.", "source_page": 71 },
                { "question": "World Ozone Day is observed on:", "options": ["August 16", "September 16", "October 16", "November 16"], "correctOptionIndex": 1, "explanation": "The International Day for the Preservation of the Ozone Layer (World Ozone Day) is held on September 16th.", "source_page": 72 },
                { "question": "When is World Animal Day celebrated?", "options": ["September 4", "October 4", "November 4", "December 4"], "correctOptionIndex": 1, "explanation": "World Animal Day is an international day of action for animal rights and welfare celebrated annually on October 4th.", "source_page": 72 },
                { "question": "World Television Day is observed on:", "options": ["October 21", "November 21", "December 21", "January 21"], "correctOptionIndex": 1, "explanation": "World Television Day is commemorated on November 21st each year.", "source_page": 73 },
                { "question": "The International Day of Disabled Persons is observed on:", "options": ["November 3", "December 3", "January 3", "February 3"], "correctOptionIndex": 1, "explanation": "The International Day of Persons with Disabilities is an international observance promoted by the United Nations since 1992, held on December 3rd.", "source_page": 73 },
                { "question": "When is International Civil Aviation Day celebrated?", "options": ["November 7", "December 7", "January 7", "February 7"], "correctOptionIndex": 1, "explanation": "International Civil Aviation Day is observed on December 7th of each year to recognize the importance of aviation to social and economic development.", "source_page": 73 },
                { "question": "World Soil Day is celebrated on:", "options": ["November 5", "December 5", "October 5", "January 5"], "correctOptionIndex": 1, "explanation": "World Soil Day is held annually on December 5th as a means to focus attention on the importance of healthy soil.", "source_page": 73 },
                { "question": "International Anti-Corruption Day is observed on which date?", "options": ["November 9", "December 9", "October 9", "January 9"], "correctOptionIndex": 1, "explanation": "International Anti-Corruption Day has been observed annually, on December 9th, since the passage of the United Nations Convention Against Corruption in 2003.", "source_page": 73 },

                // --- English (Pages 468-471) - 35 Questions ---
                { "question": "Change to passive voice: 'The people regarded him as an impostor.'", "options": ["He was regarded as an impostor by the people.", "He is regarded as an impostor.", "An impostor was he regarded as.", "He has been regarded as an impostor."], "correctOptionIndex": 0, "explanation": "The object 'him' becomes the subject 'He'. The verb 'regarded' (simple past) becomes 'was regarded'. The object complement 'as an impostor' remains.", "source_page": 468 },
                { "question": "Change to active voice: 'He was refused admittance.'", "options": ["They were refusing him admittance.", "They refused him admittance.", "He refused admittance himself.", "Admittance was refused to him."], "correctOptionIndex": 1, "explanation": "The passive voice implies an unspecified agent ('they' or 'the authorities'). The active form uses this implied subject. 'was refused' becomes 'refused'.", "source_page": 468 },
                { "question": "Change to passive voice: 'They are repairing the bridge.'", "options": ["The bridge was being repaired by them.", "The bridge is repaired by them.", "The bridge has been repaired by them.", "The bridge is being repaired by them."], "correctOptionIndex": 3, "explanation": "Present continuous active ('are repairing') changes to present continuous passive ('is being repaired').", "source_page": 469 },
                { "question": "Change to active voice: 'The story was eagerly listened to.'", "options": ["They eagerly listened to the story.", "They were listening to the story eagerly.", "They have listened to the story eagerly.", "Eagerly they listened to the story."], "correctOptionIndex": 0, "explanation": "The passive implies a general subject like 'they' or 'the audience'. The past passive 'was listened to' becomes the past active 'listened to'.", "source_page": 469 },
                { "question": "Change to passive voice: 'The King will have built the castle by next year.'", "options": ["The castle will be built by the King by next year.", "The castle would have been built by the King by next year.", "The castle will have been built by the King by next year.", "The castle is built by the King by next year."], "correctOptionIndex": 2, "explanation": "Future perfect active ('will have built') changes to future perfect passive ('will have been built').", "source_page": 470 },
                { "question": "Change to active voice: 'Let the orders be given.'", "options": ["Give the orders.", "You should give the orders.", "They must give the orders.", "I will give the orders."], "correctOptionIndex": 0, "explanation": "The passive imperative 'Let...be given' converts to the simple active imperative 'Give...'.", "source_page": 471 },
                { "question": "Change to passive voice: 'The noise of the traffic kept me awake.'", "options": ["I was kept awake by the noise of the traffic.", "I am kept awake by the noise of the traffic.", "The noise of the traffic was keeping me awake.", "I had been kept awake by the noise of the traffic."], "correctOptionIndex": 0, "explanation": "The object 'me' becomes the subject 'I'. The verb 'kept' (simple past) becomes 'was kept'.", "source_page": 468 },
                { "question": "Change to active voice: 'The walls are being painted by us.'", "options": ["We painted the walls.", "We paint the walls.", "We are painting the walls.", "We have painted the walls."], "correctOptionIndex": 2, "explanation": "Present continuous passive ('are being painted') changes to present continuous active ('are painting').", "source_page": 469 },
                { "question": "Change to passive voice: 'Has anybody answered your question?'", "options": ["Has your question been answered by anybody?", "Your question has been answered?", "Is your question answered?", "Has your question answered by anybody?"], "correctOptionIndex": 0, "explanation": "The present perfect interrogative active becomes the present perfect interrogative passive: 'Has + subject + been + past participle?'.", "source_page": 470 },
                { "question": "Change to active voice: 'You are requested to permit him.'", "options": ["Permit him.", "I request you to permit him.", "Please permit him.", "He should be permitted by you."], "correctOptionIndex": 2, "explanation": "'You are requested to...' is the passive form of an imperative sentence starting with 'Please'.", "source_page": 471 },
                { "question": "Change to passive voice: 'The audience loudly cheered the Mayor's speech.'", "options": ["The Mayor's speech was loudly cheered by the audience.", "The Mayor's speech is loudly cheered by the audience.", "The Mayor's speech was being cheered loudly.", "Loudly the Mayor's speech was cheered."], "correctOptionIndex": 0, "explanation": "The object 'the Mayor's speech' becomes the subject. The simple past verb 'cheered' becomes 'was cheered'.", "source_page": 468 },
                { "question": "Change to active voice: 'The telegraph wires have been cut.'", "options": ["They cut the telegraph wires.", "Someone has cut the telegraph wires.", "The telegraph wires were cut.", "Cutting the telegraph wires has been done."], "correctOptionIndex": 1, "explanation": "The present perfect passive implies a vague subject like 'someone'. The active form is 'Someone has cut...'.", "source_page": 469 },
                { "question": "Change to passive voice: 'Will you have finished the report by tomorrow?'", "options": ["Will the report be finished by you by tomorrow?", "Will the report have been finished by you by tomorrow?", "Would the report be finished by you by tomorrow?", "Will the report have finished by you by tomorrow?"], "correctOptionIndex": 1, "explanation": "Future perfect interrogative active becomes future perfect interrogative passive: 'Will + subject + have been + past participle?'.", "source_page": 470 },
                { "question": "Change to active voice: 'Let not his words be listened to.'", "options": ["Do not listen to his words.", "You should not listen to his words.", "Don't be listening to his words.", "Listening to his words is not allowed."], "correctOptionIndex": 0, "explanation": "The negative passive imperative 'Let not...be listened to' becomes the negative active imperative 'Do not listen to...'.", "source_page": 471 },
                { "question": "Change to passive voice: 'His friends accused him of theft.'", "options": ["He was accused of theft by his friends.", "He is accused of theft by his friends.", "Theft was accused of him by his friends.", "He has been accused of theft by his friends."], "correctOptionIndex": 0, "explanation": "The object 'him' becomes the subject 'He'. The verb 'accused' becomes 'was accused'. The prepositional phrase 'of theft' remains.", "source_page": 468 },
                { "question": "Change to active voice: 'The fields are being ploughed.'", "options": ["They plough the fields.", "The farmers are ploughing the fields.", "Ploughing the fields is being done.", "The fields were ploughed."], "correctOptionIndex": 1, "explanation": "The present continuous passive implies a subject like 'the farmers'. The active form is 'are ploughing'.", "source_page": 469 },
                { "question": "Change to passive voice: 'Could you pass the salt?'", "options": ["Could the salt be passed by you?", "Can the salt be passed?", "Let the salt be passed.", "You are requested to pass the salt."], "correctOptionIndex": 0, "explanation": "For modal questions, the passive form is 'Modal + subject + be + past participle?'.", "source_page": 470 },
                { "question": "Change to active voice: 'The poor should be helped.'", "options": ["We should help the poor.", "Helping the poor is good.", "They should help the poor.", "One should help the poor."], "correctOptionIndex": 3, "explanation": "The passive with a modal often implies a general duty. 'One' is a suitable general subject for the active voice.", "source_page": 471 },
                { "question": "Change to passive voice: 'The child is eating bananas.'", "options": ["Bananas are eaten by the child.", "Bananas were being eaten by the child.", "Bananas are being eaten by the child.", "Bananas have been eaten by the child."], "correctOptionIndex": 2, "explanation": "Present continuous active changes to present continuous passive. 'is eating' becomes 'are being eaten' (since 'bananas' is plural).", "source_page": 469 },
                { "question": "Change to active voice: 'The national anthem was being sung by the students.'", "options": ["The students sang the national anthem.", "The students have sung the national anthem.", "The students were singing the national anthem.", "The students sing the national anthem."], "correctOptionIndex": 2, "explanation": "Past continuous passive ('was being sung') changes to past continuous active ('were singing').", "source_page": 469 },

                // --- Islamic Studies (Urdu/IS Section Pages 14-16) - 30 Questions ---
                { "question": "ہجرت کے بعد مدینہ پہنچ کر آپؐ نے سب سے پہلا کام کیا کیا؟", "options": ["بازار قائم کیا", "مسجد کی تعمیر کی", "لشکر ترتیب دیا", "صلح کا معاہدہ کیا"], "correctOptionIndex": 1, "explanation": "مدینہ تشریف لانے کے بعد آپؐ کا سب سے پہلا اور اہم کام ایک مسجد کی تعمیر تھی، جو مسجد نبوی کہلائی۔ یہ عبادت کے ساتھ ساتھ اسلامی ریاست کا مرکز بھی تھی۔", "source_page": "Urdu/IS Sec. 14" },
                { "question": "مسجد نبوی کی تعمیر میں آپؐ نے بنفس نفیس کیسے حصہ لیا؟", "options": ["صرف نگرانی کی", "مالی مدد فراہم کی", "مزدوروں کی طرح کام کیا", "نقشہ تیار کیا"], "correctOptionIndex": 2, "explanation": "آپؐ نے مسجد نبوی کی تعمیر میں صحابہ کرام کے شانہ بشانہ ایک عام مزدور کی طرح کام کیا، پتھر اور گارا اٹھایا تاکہ صحابہ کا جوش و جذبہ بڑھے۔", "source_page": "Urdu/IS Sec. 14" },
                { "question": "مواخات مدینہ سے کیا مراد ہے؟", "options": ["یہودیوں سے معاہدہ", "انصار و مہاجرین میں بھائی چارے کا رشتہ", "مکہ پر حملے کی تیاری", "مدینہ کا نام بدلنا"], "correctOptionIndex": 1, "explanation": "مواخات سے مراد وہ بھائی چارے کا رشتہ ہے جو آپؐ نے مکہ سے ہجرت کرکے آنے والے مہاجرین اور مدینہ کے مقامی مسلمانوں (انصار) کے درمیان قائم فرمایا تھا۔", "source_page": "Urdu/IS Sec. 14" },
                { "question": "میثاق مدینہ کن کے درمیان طے پایا تھا؟", "options": ["صرف انصار و مہاجرین", "مسلمانوں اور قریش مکہ", "مسلمانوں اور مدینہ کے یہودی قبائل", "مسلمانوں اور رومیوں"], "correctOptionIndex": 2, "explanation": "میثاق مدینہ ایک تحریری معاہدہ تھا جو مسلمانوں اور مدینہ میں آباد یہودی قبائل کے درمیان طے پایا، جس میں باہمی دفاع اور شہری حقوق کی ضمانت دی گئی۔ اسے اسلامی ریاست کا پہلا دستور بھی کہا جاتا ہے۔", "source_page": "Urdu/IS Sec. 14" },
                { "question": "غزوہ بدر کس ہجری میں پیش آیا؟", "options": ["1 ہجری", "2 ہجری", "3 ہجری", "5 ہجری"], "correctOptionIndex": 1, "explanation": "اسلام کی پہلی فیصلہ کن جنگ، غزوہ بدر، 17 رمضان المبارک 2 ہجری کو مسلمانوں اور قریش مکہ کے درمیان لڑی گئی۔", "source_page": "Urdu/IS Sec. 15" },
                { "question": "غزوہ بدر میں مسلمانوں کی تعداد کتنی تھی؟", "options": ["1000", "700", "500", "313"], "correctOptionIndex": 3, "explanation": "غزوہ بدر میں مسلمانوں کا لشکر صرف 313 افراد پر مشتمل تھا، جن کے پاس وسائل بھی بہت کم تھے۔", "source_page": "Urdu/IS Sec. 15" },
                { "question": "غزوہ بدر میں کفار مکہ کے لشکر کی تعداد کتنی تھی؟", "options": ["313", "500", "1000", "3000"], "correctOptionIndex": 2, "explanation": "کفار مکہ کا لشکر تقریباً 1000 جنگجوؤں پر مشتمل تھا اور وہ ہر طرح کے جنگی ساز و سامان سے لیس تھے۔", "source_page": "Urdu/IS Sec. 15" },
                { "question": "غزوہ بدر میں قریش کا سردار کون تھا؟", "options": ["ابوسفیان", "خالد بن ولید", "ابوجہل", "عتبہ بن ربیعہ"], "correctOptionIndex": 2, "explanation": "غزوہ بدر میں کفار کے لشکر کی قیادت اسلام کا سب سے بڑا دشمن ابوجہل کر رہا تھا، جو اسی جنگ میں مارا گیا۔", "source_page": "Urdu/IS Sec. 15" },
                { "question": "غزوہ احد کس سال پیش آیا؟", "options": ["2 ہجری", "3 ہجری", "4 ہجری", "5 ہجری"], "correctOptionIndex": 1, "explanation": "غزوہ احد شوال 3 ہجری میں مسلمانوں اور قریش مکہ کے درمیان احد کے پہاڑی سلسلے کے قریب پیش آیا۔", "source_page": "Urdu/IS Sec. 16" },
                { "question": "غزوہ احد میں کس صحابی کی شہادت کی افواہ پھیلی جس سے مسلمانوں کے قدم اکھڑ گئے؟", "options": ["حضرت حمزہؓ", "حضرت علیؓ", "حضرت عمرؓ", "حضرت محمد صلی اللہ علیہ وآلہ وسلم"], "correctOptionIndex": 3, "explanation": "جنگ کے دوران شیطان نے افواہ پھیلا دی کہ آپؐ شہید ہو گئے ہیں، جس سے مسلمانوں میں بددلی پھیل گئی اور ان کی صفیں منتشر ہو گئیں۔", "source_page": "Urdu/IS Sec. 16" },
                { "question": "غزوہ احد میں کس درے پر تعینات تیر اندازوں کی جگہ چھوڑنے کی وجہ سے جنگ کا پانسہ پلٹا؟", "options": ["کوہ صفا", "کوہ مروہ", "جبل رحمت", "جبل رماۃ"], "correctOptionIndex": 3, "explanation": "آپؐ نے حضرت عبداللہ بن جبیرؓ کی قیادت میں 50 تیر اندازوں کو جبل رماۃ (تیر اندازوں کی پہاڑی) پر تعینات کیا تھا اور جگہ نہ چھوڑنے کا حکم دیا تھا۔ ان کی غلطی کی وجہ سے مسلمانوں کو نقصان اٹھانا پڑا۔", "source_page": "Urdu/IS Sec. 16" },
                { "question": "غزوہ احد میں آپؐ کے کس چچا کو بے دردی سے شہید کیا گیا؟", "options": ["حضرت عباسؓ", "حضرت حمزہؓ", "حضرت ابوطالب", "حضرت عبداللہؓ"], "correctOptionIndex": 1, "explanation": "آپؐ کے پیارے چچا اور اللہ کے شیر، حضرت حمزہ بن عبدالمطلبؓ، کو وحشی بن حرب نے نیزہ مار کر شہید کیا اور ہند بنت عتبہ نے ان کا مثلہ کیا۔", "source_page": "Urdu/IS Sec. 16" },
                { "question": "غزوہ بدر میں کتنے کفار مارے گئے اور کتنے قیدی بنائے گئے؟", "options": ["50 مارے گئے، 50 قیدی", "70 مارے گئے، 70 قیدی", "100 مارے گئے، 100 قیدی", "30 مارے گئے، 50 قیدی"], "correctOptionIndex": 1, "explanation": "اللہ کی مدد سے مسلمانوں کو فتح نصیب ہوئی۔ کفار کے 70 سردار مارے گئے اور 70 کو قیدی بنا لیا گیا۔", "source_page": "Urdu/IS Sec. 15" },
                { "question": "غزوہ بدر کے قیدیوں کی رہائی کے لیے کیا شرط رکھی گئی؟", "options": ["سونے کا فدیہ", "مسلمانوں سے معافی", "اسلام قبول کرنا", "دس مسلمان بچوں کو پڑھنا لکھنا سکھانا"], "correctOptionIndex": 3, "explanation": "جو قیدی فدیہ ادا نہیں کر سکتے تھے، ان کے لیے آپؐ نے شرط رکھی کہ وہ انصار کے دس دس بچوں کو لکھنا پڑھنا سکھا دیں، یہی ان کا فدیہ ہوگا۔", "source_page": "Urdu/IS Sec. 15" },
                { "question": "غزوہ احد میں مسلمانوں کی ابتدائی فتح شکست میں کیوں بدل گئی؟", "options": ["کفار کی تعداد زیادہ تھی", "تیر اندازوں نے اپنی جگہ چھوڑ دی", "مسلمانوں کے پاس ہتھیار کم تھے", "موسم خراب تھا"], "correctOptionIndex": 1, "explanation": "مسلمانوں کو ابتدائی طور پر فتح ہو رہی تھی لیکن جب تیر اندازوں نے مال غنیمت کے لیے آپؐ کے حکم کے خلاف اپنی جگہ چھوڑ دی تو خالد بن ولید نے عقب سے حملہ کر کے جنگ کا پانسہ پلٹ دیا۔", "source_page": "Urdu/IS Sec. 16" }
            ];

            shuffleArrayWithSeed(allQuestions, dateSeed);
            quizQuestions = allQuestions.slice(0, TOTAL_QUESTIONS);

            if (quizQuestions.length > 0) {
                let rng = new Math.seedrandom(dateSeed + '-special');
                specialQuestionIndex = Math.floor(rng() * quizQuestions.length);
                quizQuestions[specialQuestionIndex].special = true;
            }
        }

        // --- Initial Setup on DOM Load ---
        document.addEventListener('DOMContentLoaded', () => {
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase();
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day.toString().padStart(2,'0')}${monthName.substring(0,3)}`; // e.g., 14JUL
            
            initializeQuiz();
            updateLiveDate();
            // Hide next button initially
            document.getElementById('nextBtn').classList.add('hidden');
        });

        window.addEventListener('resize', updateLiveDate);
    </script>
</body>
</html>
