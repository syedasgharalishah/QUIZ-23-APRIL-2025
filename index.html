<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 15, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50; /* Changed to main text color */
            margin-top: 0.5rem;
            font-weight: bold; /* Added bold as per request */
        }

        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start; /* Align to start on mobile */
            }
            .top-bar .date-display {
                order: 1; /* Move date to top-left on mobile */
                font-size: 0.8rem;
                align-self: flex-start; /* Align to start on mobile */
            }
            .top-bar .whatsapp-link {
                order: 2; /* Move whatsapp to bottom on mobile */
                font-size: 0.8rem;
                align-self: flex-end; /* Align to end on mobile */
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        /* Shake animation for wrong answer */
        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault()); // Disable right-click
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault(); // Disable Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J
            }
            if (e.key === 'F12') {
                e.preventDefault(); // Disable F12
            }
        });
        document.addEventListener('copy', event => event.preventDefault()); // Disable copy
        document.addEventListener('paste', event => event.preventDefault()); // Disable paste
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 15, 2025"; // Updated for June 15 quiz
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40;
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 15 quiz
            const expectedLoginId = "15JUNE"; 
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // General Knowledge (40 MCQs)
            const generalKnowledgeMCQs = [
                // GK - June 15: The United Nations: Pages 93-96 & The World Records: Pages 97-105 (40 MCQs)
                { question: "When was the United Nations established?", options: ["October 24, 1945", "January 1, 1942", "June 26, 1945", "August 6, 1945"], correctOptionIndex: 0, explanation: "The United Nations officially came into existence on 24 October 1945.", difficulty: "easy", source_page: 93 },
                { question: "How many principal organs does the United Nations have?", options: ["4", "5", "6", "7"], correctOptionIndex: 2, explanation: "The UN has six principal organs: the General Assembly, the Security Council, the Economic and Social Council, the Trusteeship Council, the International Court of Justice, and the UN Secretariat.", difficulty: "easy", source_page: 94 },
                { question: "Which organ of the UN is responsible for maintaining international peace and security?", options: ["General Assembly", "Economic and Social Council", "Security Council", "International Court of Justice"], correctOptionIndex: 2, explanation: "The Security Council has primary responsibility for the maintenance of international peace and security.", difficulty: "easy", source_page: 94 },
                { question: "Who is the current Secretary-General of the United Nations?", options: ["Kofi Annan", "Ban Ki-moon", "Antonio Guterres", "Boutros Boutros-Ghali"], correctOptionIndex: 2, explanation: "Antonio Guterres is the current Secretary-General of the United Nations.", difficulty: "easy", source_page: 95 },
                { question: "How many member states are there in the United Nations?", options: ["183", "193", "203", "173"], correctOptionIndex: 1, explanation: "There are currently 193 member states in the United Nations.", difficulty: "easy", source_page: 93 },
                { question: "The headquarters of the United Nations is located in:", options: ["Geneva", "New York City", "Paris", "Vienna"], correctOptionIndex: 1, explanation: "The main headquarters of the United Nations is in New York City.", difficulty: "easy", source_page: 93 },
                { question: "Which UN organ consists of all member states, each having one vote?", options: ["Security Council", "General Assembly", "Economic and Social Council", "Trusteeship Council"], correctOptionIndex: 1, explanation: "The General Assembly is the main deliberative, policymaking and representative organ of the UN.", difficulty: "easy", source_page: 94 },
                { question: "The International Court of Justice is located in which city?", options: ["New York", "Geneva", "The Hague", "London"], correctOptionIndex: 2, explanation: "The International Court of Justice is based in The Hague, Netherlands.", difficulty: "medium", source_page: 94 },
                { question: "Which country is NOT a permanent member of the UN Security Council?", options: ["China", "Germany", "France", "Russia"], correctOptionIndex: 1, explanation: "The five permanent members of the Security Council are China, France, Russia, the United Kingdom, and the United States.", difficulty: "easy", source_page: 94 },
                { question: "Which UN agency is responsible for promoting international cooperation on development?", options: ["UNICEF", "WHO", "UNDP", "UNESCO"], correctOptionIndex: 2, explanation: "The United Nations Development Programme (UNDP) works to eradicate poverty and reduce inequalities through the sustainable development of nations.", difficulty: "medium", source_page: 95 },
                { question: "Which is the largest desert in the world?", options: ["Sahara Desert", "Arabian Desert", "Gobi Desert", "Antarctic Polar Desert"], correctOptionIndex: 3, explanation: "The Antarctic Polar Desert is the largest desert in the world.", difficulty: "medium", source_page: 97 },
                { question: "Which is the longest river in the world?", options: ["Amazon River", "Nile River", "Yangtze River", "Mississippi River"], correctOptionIndex: 1, explanation: "The Nile River is generally considered the longest river in the world.", difficulty: "easy", source_page: 98 },
                { question: "Mount Everest, the world's highest peak, is located in which mountain range?", options: ["Andes", "Rockies", "Himalayas", "Alps"], correctOptionIndex: 2, explanation: "Mount Everest is part of the Himalayan mountain range.", difficulty: "easy", source_page: 97 },
                { question: "Which is the largest ocean in the world?", options: ["Atlantic Ocean", "Indian Ocean", "Southern Ocean", "Pacific Ocean"], correctOptionIndex: 3, explanation: "The Pacific Ocean is the largest and deepest of Earth's five oceanic divisions.", difficulty: "easy", source_page: 97 },
                { question: "Which is the largest continent by area?", options: ["Africa", "Europe", "Asia", "North America"], correctOptionIndex: 2, explanation: "Asia is the largest continent, covering about 30% of Earth's total land area.", difficulty: "easy", source_page: 97 },
                { question: "Which is the largest lake in the world by surface area?", options: ["Lake Superior", "Lake Victoria", "Caspian Sea", "Aral Sea"], correctOptionIndex: 2, explanation: "The Caspian Sea is the world's largest inland body of water.", difficulty: "medium", source_page: 98 },
                { question: "Which is the highest waterfall in the world?", options: ["Niagara Falls", "Victoria Falls", "Angel Falls", "Iguazu Falls"], correctOptionIndex: 2, explanation: "Angel Falls in Venezuela is the world's highest uninterrupted waterfall.", difficulty: "medium", source_page: 98 },
                { question: "Which is the deepest ocean trench?", options: ["Puerto Rico Trench", "Java Trench", "Mariana Trench", "Kermadec Trench"], correctOptionIndex: 2, explanation: "The Mariana Trench, located in the western Pacific Ocean, is the deepest oceanic trench on Earth.", difficulty: "medium", source_page: 99 },
                { question: "Which is the largest island in the world?", options: ["Madagascar", "New Guinea", "Borneo", "Greenland"], correctOptionIndex: 3, explanation: "Greenland is the world's largest island.", difficulty: "medium", source_page: 99 },
                { question: "Which is the most populous city in the world?", options: ["Delhi", "Tokyo", "Shanghai", "Sao Paulo"], correctOptionIndex: 1, explanation: "Tokyo is generally considered the most populous city proper in the world.", difficulty: "easy", source_page: 100 },
                { question: "Which is the longest road in the world?", options: ["Trans-Siberian Highway", "Pan-American Highway", "Highway 1 (Australia)", "China National Highway 010"], correctOptionIndex: 1, explanation: "The Pan-American Highway is a network of roads stretching across the Americas, measuring about 30,000 km.", difficulty: "tough", source_page: 101 },
                { question: "Which is the highest active volcano in the world?", options: ["Mount Etna", "Mount Fuji", "Cotopaxi", "Ojos del Salado"], correctOptionIndex: 3, explanation: "Ojos del Salado, on the Chile-Argentina border, is the world's highest active volcano.", difficulty: "tough", source_page: 101 },
                { question: "Which is the largest railway station in the world by number of platforms?", options: ["Grand Central Terminal, New York", "Chhatrapati Shivaji Terminus, Mumbai", "New Delhi Railway Station", "Nagoya Station, Japan"], correctOptionIndex: 0, explanation: "Grand Central Terminal in New York City holds the record for the most platforms.", difficulty: "tough", source_page: 102 },
                { question: "Which is the world's largest dam by structural volume?", options: ["Three Gorges Dam (China)", "Hoover Dam (USA)", "Grand Coulee Dam (USA)", "Tarbela Dam (Pakistan)"], correctOptionIndex: 0, explanation: "The Three Gorges Dam in China is the world's largest power station and dam by structural volume.", difficulty: "medium", source_page: 102 },
                { question: "Which is the world's longest bridge over water?", options: ["Danyang–Kunshan Grand Bridge (China)", "Lake Pontchartrain Causeway (USA)", "Hangzhou Bay Bridge (China)", "Jiaozhou Bay Bridge (China)"], correctOptionIndex: 0, explanation: "The Danyang–Kunshan Grand Bridge is the world's longest bridge, and the longest over water if considering continuous span.", difficulty: "tough", source_page: 103 },
                { question: "Which is the world's longest shipping canal?", options: ["Suez Canal", "Panama Canal", "Grand Canal (China)", "Kiel Canal"], correctOptionIndex: 2, explanation: "The Grand Canal of China is the longest man-made waterway or canal in the world.", difficulty: "tough", source_page: 103 },
                { question: "Which country has the most time zones?", options: ["Russia", "USA", "France", "China"], correctOptionIndex: 2, explanation: "France, including its overseas territories, has the most time zones (12 total).", difficulty: "medium", source_page: 104 },
                { question: "Which is the world's largest artificial island?", options: ["Palm Jumeirah", "The World Islands", "Flevopolder", "Port Island"], correctOptionIndex: 2, explanation: "Flevopolder in the Netherlands is the largest artificial island in the world.", difficulty: "tough", source_page: 104 },
                { question: "Which is the world's highest railway bridge?", options: ["Chenab Bridge (India)", "Sidu River Bridge (China)", "Millau Viaduct (France)", "Royal Gorge Bridge (USA)"], correctOptionIndex: 0, explanation: "The Chenab Bridge in India is the world's highest railway bridge.", difficulty: "tough", source_page: 105 },
                { question: "Which is the world's largest single-building airport terminal?", options: ["Beijing Daxing International Airport", "Dubai International Airport Terminal 3", "Istanbul Airport", "Atlanta Hartsfield-Jackson Airport"], correctOptionIndex: 0, explanation: "Beijing Daxing International Airport has the largest single-building airport terminal.", difficulty: "tough", source_page: 105 },
                { question: "Which is the world's largest delta?", options: ["Nile Delta", "Mississippi River Delta", "Ganges Delta", "Mekong Delta"], correctOptionIndex: 2, explanation: "The Ganges Delta (also known as the Bengal Delta) is the world's largest river delta.", difficulty: "medium", source_page: 98 },
                { question: "Which is the coldest place on Earth?", options: ["Vostok Station, Antarctica", "Oymyakon, Russia", "Denali, Alaska", "Verkhoyansk, Russia"], correctOptionIndex: 0, explanation: "Vostok Station in Antarctica holds the record for the lowest temperature ever recorded on Earth.", difficulty: "tough", source_page: 99 },
                { question: "Which is the longest wall in the world?", options: ["Great Wall of China", "Hadrian's Wall", "Berlin Wall", "Walls of Troy"], correctOptionIndex: 0, explanation: "The Great Wall of China is the longest man-made structure in the world.", difficulty: "easy", source_page: 100 },
                { question: "Which is the most visited country in the world?", options: ["Spain", "USA", "France", "China"], correctOptionIndex: 2, explanation: "France consistently ranks as the most visited country in the world.", difficulty: "medium", source_page: 100 },
                { question: "Which is the world's largest building by floor area?", options: ["New Century Global Center (China)", "Aalsmeer Flower Auction (Netherlands)", "Boeing Everett Factory (USA)", "Pentagon (USA)"], correctOptionIndex: 0, explanation: "The New Century Global Center in Chengdu, China, is the world's largest building in terms of floor area.", difficulty: "tough", source_page: 101 },
                { question: "Which is the world's highest capital city?", options: ["La Paz (Bolivia)", "Thimphu (Bhutan)", "Bogotá (Colombia)", "Quito (Ecuador)"], correctOptionIndex: 0, explanation: "La Paz, Bolivia, is the highest capital city in the world.", difficulty: "tough", source_page: 100 },
                { question: "Which is the world's largest forest?", options: ["Amazon Rainforest", "Congo Rainforest", "Taiga (Boreal Forest)", "Daintree Rainforest"], correctOptionIndex: 2, explanation: "The Taiga (Boreal Forest) is the world's largest land biome and forest, stretching across North America and Eurasia.", difficulty: "tough", source_page: 99 },
                { question: "Which is the world's largest stadium by capacity?", options: ["Rungrado 1st of May Stadium (North Korea)", "Michigan Stadium (USA)", "Beaver Stadium (USA)", "Camp Nou (Spain)"], correctOptionIndex: 0, explanation: "The Rungrado 1st of May Stadium in Pyongyang, North Korea, is the largest stadium in the world by capacity.", difficulty: "tough", source_page: 104 },
                { question: "Which is the world's largest museum?", options: ["The Louvre (France)", "Hermitage Museum (Russia)", "The British Museum (UK)", "Smithsonian Institution (USA)"], correctOptionIndex: 3, explanation: "The Smithsonian Institution, a group of museums and research centers in the USA, is considered the world's largest museum complex.", difficulty: "tough", source_page: 105 },
                { question: "Which is the world's most densely populated country?", options: ["Monaco", "Singapore", "Bangladesh", "Vatican City"], correctOptionIndex: 0, explanation: "Monaco is the most densely populated sovereign state in the world.", difficulty: "tough", source_page: 100 }
            ];
            quizQuestions.push(...generalKnowledgeMCQs);

            // English (40 MCQs)
            const englishMCQs = [
                // English - June 15: Synonyms: Pages 486-493 (40 MCQs)
                { question: "Choose the synonym of 'Abundant':", options: ["Scarce", "Plentiful", "Rare", "Limited"], correctOptionIndex: 1, explanation: "'Abundant' means existing or available in large quantities; plentiful.", difficulty: "easy", source_page: 486 },
                { question: "Choose the synonym of 'Adversity':", options: ["Fortune", "Prosperity", "Calamity", "Success"], correctOptionIndex: 2, explanation: "'Adversity' means a difficult or unpleasant situation; misfortune or calamity.", difficulty: "medium", source_page: 486 },
                { question: "Choose the synonym of 'Benevolent':", options: ["Cruel", "Kind", "Malicious", "Selfish"], correctOptionIndex: 1, explanation: "'Benevolent' means well meaning and kindly.", difficulty: "easy", source_page: 487 },
                { question: "Choose the synonym of 'Candid':", options: ["Deceitful", "Frank", "Reserved", "Indirect"], correctOptionIndex: 1, explanation: "'Candid' means truthful and straightforward; frank.", difficulty: "medium", source_page: 487 },
                { question: "Choose the synonym of 'Concur':", options: ["Disagree", "Oppose", "Agree", "Dispute"], correctOptionIndex: 2, explanation: "'Concur' means to agree with someone or something.", difficulty: "easy", source_page: 487 },
                { question: "Choose the synonym of 'Diligent':", options: ["Lazy", "Careless", "Industrious", "Negligent"], correctOptionIndex: 2, explanation: "'Diligent' means having or showing care and conscientiousness in one's work or duties; industrious.", difficulty: "medium", source_page: 488 },
                { question: "Choose the synonym of 'Elucidate':", options: ["Confuse", "Obscure", "Clarify", "Complicate"], correctOptionIndex: 2, explanation: "'Elucidate' means to make (something) clear; explain.", difficulty: "tough", source_page: 488 },
                { question: "Choose the synonym of 'Ephemeral':", options: ["Permanent", "Lasting", "Fleeting", "Eternal"], correctOptionIndex: 2, explanation: "'Ephemeral' means lasting for a very short time; fleeting.", difficulty: "tough", source_page: 488 },
                { question: "Choose the synonym of 'Fervent':", options: ["Apathetic", "Impassioned", "Cold", "Indifferent"], correctOptionIndex: 1, explanation: "'Fervent' means having or displaying a passionate intensity; impassioned.", difficulty: "medium", source_page: 489 },
                { question: "Choose the synonym of 'Gregarious':", options: ["Introverted", "Sociable", "Aloof", "Reserved"], correctOptionIndex: 1, explanation: "'Gregarious' means fond of company; sociable.", difficulty: "medium", source_page: 489 },
                { question: "Choose the synonym of 'Hinder':", options: ["Aid", "Facilitate", "Obstruct", "Promote"], correctOptionIndex: 2, explanation: "'Hinder' means to create difficulties for (someone or something), resulting in delay or obstruction.", difficulty: "easy", source_page: 489 },
                { question: "Choose the synonym of 'Impeccable':", options: ["Flawed", "Faulty", "Perfect", "Deficient"], correctOptionIndex: 2, explanation: "'Impeccable' means (of behavior, performance, or appearance) in accordance with the highest standards; flawless.", difficulty: "tough", source_page: 490 },
                { question: "Choose the synonym of 'Jubilant':", options: ["Sad", "Mournful", "Ecstatic", "Depressed"], correctOptionIndex: 2, explanation: "'Jubilant' means feeling or expressing great happiness and triumph; ecstatic.", difficulty: "easy", source_page: 490 },
                { question: "Choose the synonym of 'Luminous':", options: ["Dark", "Dim", "Bright", "Obscure"], correctOptionIndex: 2, explanation: "'Luminous' means full of or shedding light; bright or shining.", difficulty: "medium", source_page: 490 },
                { question: "Choose the synonym of 'Meticulous':", options: ["Careless", "Sloppy", "Precise", "Hasty"], correctOptionIndex: 2, explanation: "'Meticulous' means showing great attention to detail; very careful and precise.", difficulty: "medium", source_page: 491 },
                { question: "Choose the synonym of 'Nefarious':", options: ["Virtuous", "Righteous", "Wicked", "Honorable"], correctOptionIndex: 2, explanation: "'Nefarious' means (typically of an action or activity) wicked or criminal.", difficulty: "tough", source_page: 491 },
                { question: "Choose the synonym of 'Oblivious':", options: ["Aware", "Mindful", "Unaware", "Conscious"], correctOptionIndex: 2, explanation: "'Oblivious' means not aware of or not concerned about what is happening around one; unaware.", difficulty: "easy", source_page: 491 },
                { question: "Choose the synonym of 'Perplex':", options: ["Clarify", "Enlighten", "Confuse", "Simplify"], correctOptionIndex: 2, explanation: "'Perplex' means (of something complicated or unaccountable) to cause (someone) to feel completely baffled; confuse.", difficulty: "medium", source_page: 492 },
                { question: "Choose the synonym of 'Quell':", options: ["Instigate", "Stir up", "Suppress", "Arouse"], correctOptionIndex: 2, explanation: "'Quell' means to put an end to (a rebellion or other disorder), typically by the use of force; suppress.", difficulty: "tough", source_page: 492 },
                { question: "Choose the synonym of 'Resilient':", options: ["Fragile", "Weak", "Flexible", "Rigid"], correctOptionIndex: 2, explanation: "'Resilient' means (of a substance or object) able to recoil or spring back into shape after bending, stretching, or being compressed; flexible.", difficulty: "medium", source_page: 492 },
                { question: "Choose the synonym of 'Sycophant':", options: ["Critic", "Admirer", "Flatterer", "Opponent"], correctOptionIndex: 2, explanation: "'Sycophant' means a person who acts obsequiously toward someone important in order to gain advantage; a flatterer.", difficulty: "tough", source_page: 493 },
                { question: "Choose the synonym of 'Ubiquitous':", options: ["Rare", "Scarce", "Pervasive", "Limited"], correctOptionIndex: 2, explanation: "'Ubiquitous' means present, appearing, or found everywhere; pervasive.", difficulty: "tough", source_page: 493 },
                { question: "Choose the synonym of 'Venerate':", options: ["Disrespect", "Despise", "Revere", "Condemn"], correctOptionIndex: 2, explanation: "'Venerate' means regard with great respect; revere.", difficulty: "medium", source_page: 493 },
                { question: "Choose the synonym of 'Wary':", options: ["Careless", "Reckless", "Cautious", "Bold"], correctOptionIndex: 2, explanation: "'Wary' means feeling or showing caution about possible dangers or problems; cautious.", difficulty: "easy", source_page: 493 },
                { question: "Choose the synonym of 'Zeal':", options: ["Apathy", "Indifference", "Enthusiasm", "Lethargy"], correctOptionIndex: 2, explanation: "'Zeal' means great energy or enthusiasm in pursuit of a cause or objective; enthusiasm.", difficulty: "easy", source_page: 493 },
                { question: "Choose the synonym of 'Ameliorate':", options: ["Worsen", "Improve", "Exacerbate", "Deteriorate"], correctOptionIndex: 1, explanation: "'Ameliorate' means to make (something bad or unsatisfactory) better; improve.", difficulty: "tough", source_page: 486 },
                { question: "Choose the synonym of 'Capricious':", options: ["Consistent", "Stable", "Fickle", "Predictable"], correctOptionIndex: 2, explanation: "'Capricious' means given to sudden and unaccountable changes of mood or behavior; fickle.", difficulty: "tough", source_page: 487 },
                { question: "Choose the synonym of 'Deleterious':", options: ["Beneficial", "Harmful", "Advantageous", "Wholesome"], correctOptionIndex: 1, explanation: "'Deleterious' means causing harm or damage; harmful.", difficulty: "medium", source_page: 488 },
                { question: "Choose the synonym of 'Emulate':", options: ["Neglect", "Imitate", "Disregard", "Surpass"], correctOptionIndex: 1, explanation: "'Emulate' means to match or surpass (a person or achievement), typically by imitation.", difficulty: "medium", source_page: 488 },
                { question: "Choose the synonym of 'Fortuitous':", options: ["Unlucky", "Accidental", "Intentional", "Planned"], correctOptionIndex: 1, explanation: "'Fortuitous' means happening by chance rather than intention; accidental.", difficulty: "tough", source_page: 489 },
                { question: "Choose the synonym of 'Gratuitous':", options: ["Necessary", "Justified", "Unwarranted", "Essential"], correctOptionIndex: 2, explanation: "'Gratuitous' means uncalled for; lacking good reason; unwarranted.", difficulty: "tough", source_page: 489 },
                { question: "Choose the synonym of 'Impetuous':", options: ["Cautious", "Rash", "Thoughtful", "Deliberate"], correctOptionIndex: 1, explanation: "'Impetuous' means acting or done quickly and without thought or care; rash.", difficulty: "medium", source_page: 490 },
                { question: "Choose the synonym of 'Insipid':", options: ["Flavorful", "Bland", "Exciting", "Vivid"], correctOptionIndex: 1, explanation: "'Insipid' means lacking flavor, vigor, or interest; bland.", difficulty: "medium", source_page: 490 },
                { question: "Choose the synonym of 'Laconic':", options: ["Verbose", "Talkative", "Concise", "Wordy"], correctOptionIndex: 2, explanation: "'Laconic' means (of a person, speech, or style of writing) using very few words; concise.", difficulty: "tough", source_page: 490 },
                { question: "Choose the synonym of 'Mitigate':", options: ["Aggravate", "Intensify", "Alleviate", "Worsen"], correctOptionIndex: 2, explanation: "'Mitigate' means to make (something bad) less severe, serious, or painful; alleviate.", difficulty: "medium", source_page: 491 },
                { question: "Choose the synonym of 'Ostentatious':", options: ["Modest", "Simple", "Showy", "Humble"], correctOptionIndex: 2, explanation: "'Ostentatious' means characterized by or given to pretentious or showy display; showy.", difficulty: "tough", source_page: 491 },
                { question: "Choose the synonym of 'Pernicious':", options: ["Beneficial", "Harmless", "Damaging", "Advantageous"], correctOptionIndex: 2, explanation: "'Pernicious' means having a harmful effect, especially in a gradual or subtle way; damaging.", difficulty: "tough", source_page: 492 },
                { question: "Choose the synonym of 'Rebuke':", options: ["Praise", "Approve", "Reprimand", "Commend"], correctOptionIndex: 2, explanation: "'Rebuke' means to express sharp disapproval or criticism of (someone) because of their behaviour or actions; reprimand.", difficulty: "medium", source_page: 492 },
                { question: "Choose the synonym of 'Sagacious':", options: ["Foolish", "Unwise", "Wise", "Ignorant"], correctOptionIndex: 2, explanation: "'Sagacious' means having or showing keen mental discernment and good judgment; wise.", difficulty: "tough", source_page: 492 },
                { question: "Choose the synonym of 'Terse':", options: ["Wordy", "Verbose", "Brief", "Lengthy"], correctOptionIndex: 2, explanation: "'Terse' means sparing in the use of words; abrupt; concise; brief.", difficulty: "medium", source_page: 493 }
            ];
            quizQuestions.push(...englishMCQs);

            // Islamic Studies (20 MCQs)
            const islamicStudiesMCQs = [
                // IS - June 15: Pillars of Islam (from Urdu/Islamic Studies Section): Pages 20-23 (20 MCQs)
                { question: "How many pillars of Islam are there?", options: ["3", "4", "5", "6"], correctOptionIndex: 2, explanation: "There are five fundamental pillars of Islam: Shahada, Salat, Zakat, Sawm (Fasting), and Hajj.", difficulty: "easy", source_page: 20 },
                { question: "The first pillar of Islam is Shahada, which means:", options: ["Prayer", "Fasting", "Charity", "Testimony of Faith"], correctOptionIndex: 3, explanation: "Shahada is the declaration of faith, stating 'There is no god but Allah, and Muhammad is His Messenger'.", difficulty: "easy", source_page: 20 },
                { question: "The second pillar of Islam is Salat, which refers to:", options: ["Fasting", "Pilgrimage", "Charity", "Prayer"], correctOptionIndex: 3, explanation: "Salat refers to the ritual prayers performed five times a day.", difficulty: "easy", source_page: 21 },
                { question: "How many times a day are obligatory prayers (Salat) performed in Islam?", options: ["3", "5", "7", "2"], correctOptionIndex: 1, explanation: "Muslims are obligated to perform five daily prayers.", difficulty: "easy", source_page: 21 },
                { question: "The third pillar of Islam is Zakat, which means:", options: ["Fasting", "Pilgrimage", "Charity", "Prayer"], correctOptionIndex: 2, explanation: "Zakat is obligatory charity, an annual payment made to the poor and needy.", difficulty: "easy", source_page: 21 },
                { question: "Zakat is obligatory for Muslims who possess wealth above a certain minimum known as:", options: ["Sadaqah", "Nisab", "Fitra", "Kaffarah"], correctOptionIndex: 1, explanation: "Zakat becomes obligatory once a Muslim's wealth reaches the Nisab (minimum threshold).", difficulty: "medium", source_page: 21 },
                { question: "The fourth pillar of Islam is Sawm, which refers to:", options: ["Prayer", "Fasting", "Charity", "Pilgrimage"], correctOptionIndex: 1, explanation: "Sawm is fasting during the month of Ramadan.", difficulty: "easy", source_page: 22 },
                { question: "During which Islamic month is fasting (Sawm) obligatory?", options: ["Shawwal", "Muharram", "Ramadan", "Dhul-Hijjah"], correctOptionIndex: 2, explanation: "Fasting is observed during the holy month of Ramadan.", difficulty: "easy", source_page: 22 },
                { question: "The fifth pillar of Islam is Hajj, which is the pilgrimage to:", options: ["Jerusalem", "Madina", "Makkah", "Baghdad"], correctOptionIndex: 2, explanation: "Hajj is the annual pilgrimage to Makkah, Saudi Arabia, which every adult Muslim must undertake at least once in their lifetime if they are physically and financially able.", difficulty: "easy", source_page: 22 },
                { question: "Hajj is obligatory for Muslims who are able to perform it, at least how many times in their lifetime?", options: ["Once", "Twice", "Thrice", "Yearly"], correctOptionIndex: 0, explanation: "Hajj is a once-in-a-lifetime obligation for those who are able.", difficulty: "easy", source_page: 22 },
                { question: "Which pillar of Islam emphasizes the equality of all Muslims, regardless of race or social status?", options: ["Salat", "Zakat", "Sawm", "Hajj"], correctOptionIndex: 3, explanation: "Hajj particularly emphasizes the equality of all Muslims as pilgrims wear simple, identical garments (Ihram) and perform rituals together.", difficulty: "medium", source_page: 23 },
                { question: "Which of the following acts is NOT a pillar of Islam?", options: ["Shahada", "Jihad", "Salat", "Zakat"], correctOptionIndex: 1, explanation: "Jihad (struggle) is an important concept in Islam but is not considered one of the five fundamental pillars.", difficulty: "easy", source_page: 20 },
                { question: "What is the primary purpose of Salat (prayer) in Islam?", options: ["To seek worldly gains", "To show off one's piety", "To establish a direct connection with Allah", "To simply fulfill a ritual"], correctOptionIndex: 2, explanation: "The primary purpose of Salat is to worship Allah and establish a direct spiritual connection with Him.", difficulty: "medium", source_page: 21 },
                { question: "What is the general percentage of Zakat levied on eligible wealth?", options: ["1.5%", "2.0%", "2.5%", "3.0%"], correctOptionIndex: 2, explanation: "The common rate of Zakat is 2.5% of eligible wealth (e.g., gold, silver, cash savings) held for a lunar year.", difficulty: "medium", source_page: 21 },
                { question: "Fasting during Ramadan includes abstaining from food, drink, and sexual relations from:", options: ["Sunrise to Sunset", "Dawn to Dusk", "Morning to Evening", "Midnight to Sunset"], correctOptionIndex: 1, explanation: "Fasting in Ramadan involves abstaining from these acts from pre-dawn (Fajr) until sunset (Maghrib).", difficulty: "medium", source_page: 22 },
                { question: "The 'Ihram' is a special state and garment worn during:", options: ["Salat", "Sawm", "Zakat", "Hajj"], correctOptionIndex: 3, explanation: "Ihram is a sacred state which a Muslim must enter in order to perform the Hajj or Umrah.", difficulty: "easy", source_page: 22 },
                { question: "Which pillar involves giving a portion of one's wealth to those in need?", options: ["Shahada", "Salat", "Zakat", "Sawm"], correctOptionIndex: 2, explanation: "Zakat is the obligatory giving of a portion of one's wealth to charity, primarily for the poor and needy.", difficulty: "easy", source_page: 21 },
                { question: "The pilgrimage of Hajj typically occurs in which Islamic month?", options: ["Ramadan", "Shawwal", "Dhul-Hijjah", "Muharram"], correctOptionIndex: 2, explanation: "Hajj takes place in the month of Dhul-Hijjah, the twelfth and final month of the Islamic calendar.", difficulty: "medium", source_page: 22 },
                { question: "The recitation of the Shahada is typically done with:", options: ["The tongue only", "The heart only", "Both tongue and heart", "Only in private"], correctOptionIndex: 2, explanation: "The Shahada requires both verbal proclamation (tongue) and sincere belief (heart) to be valid.", difficulty: "tough", source_page: 20 },
                { question: "Which of the following is a condition for the obligation of Hajj?", options: ["Being a scholar", "Being a male", "Being financially and physically able", "Having memorized the Quran"], correctOptionIndex: 2, explanation: "Hajj is obligatory only for those Muslims who are financially and physically capable of undertaking the journey.", difficulty: "easy", source_page: 23 }
            ];
            quizQuestions.push(...islamicStudiesMCQs);

            // Ensure exact counts for difficulty levels before trimming to 100
            let easyQuestions = [];
            let mediumQuestions = [];
            let toughQuestions = [];

            // Categorize questions by initial difficulty
            quizQuestions.forEach(q => {
                if (q.difficulty === "easy") easyQuestions.push(q);
                else if (q.difficulty === "medium") mediumQuestions.push(q);
                else if (q.difficulty === "tough") toughQuestions.push(q);
            });

            // Target distribution: 10 Easy, 50 Medium, 40 Tough
            const targetEasy = 10;
            const targetMedium = 50;
            const targetTough = 40;

            // Adjust counts to meet targets. Prioritize filling easy/tough first, then medium.
            // If there are more questions than target for a category, move overflow to medium or discard if medium is full.
            // If there are fewer, pull from medium if available.

            // 1. Trim excesses
            if (easyQuestions.length > targetEasy) {
                mediumQuestions.push(...easyQuestions.splice(targetEasy));
            }
            if (toughQuestions.length > targetTough) {
                mediumQuestions.push(...toughQuestions.splice(targetTough));
            }
            if (mediumQuestions.length > targetMedium) {
                // If medium is still too large, discard excess (or move to easy/tough if they still need)
                const overflow = mediumQuestions.splice(targetMedium);
                // If easy still needs, push to easy
                while(easyQuestions.length < targetEasy && overflow.length > 0) {
                    easyQuestions.push(overflow.pop());
                }
                // If tough still needs, push to tough
                while(toughQuestions.length < targetTough && overflow.length > 0) {
                    toughQuestions.push(overflow.pop());
                }
                // Discard remaining overflow if any
            }


            // 2. Fill deficits (pull from medium first, then other categories if possible and necessary to reach 100)
            while (easyQuestions.length < targetEasy && mediumQuestions.length > 0) {
                easyQuestions.push(mediumQuestions.pop());
            }
            while (toughQuestions.length < targetTough && mediumQuestions.length > 0) {
                toughQuestions.push(mediumQuestions.pop());
            }

            // If still short of 100, try to balance by pulling from other categories
            // This loop ensures we prioritize the overall 100 question count if possible
            while (easyQuestions.length + mediumQuestions.length + toughQuestions.length < 100) {
                // Prioritize getting more questions from source categories
                // For example, if GK has more questions, add them as 'medium'
                // This logic is simplified and assumes questions are only from above lists.
                // If not enough questions, we just use what we have up to 100.
                if (generalKnowledgeMCQs.length > easyQuestions.length + mediumQuestions.length + toughQuestions.length) {
                    mediumQuestions.push(generalKnowledgeMCQs.pop()); // Fallback
                } else if (englishMCQs.length > easyQuestions.length + mediumQuestions.length + toughQuestions.length) {
                     mediumQuestions.push(englishMCQs.pop()); // Fallback
                } else if (islamicStudiesMCQs.length > easyQuestions.length + mediumQuestions.length + toughQuestions.length) {
                     mediumQuestions.push(islamicStudiesMCQs.pop()); // Fallback
                } else {
                    break; // Cannot generate more questions
                }
            }


            // Recombine and shuffle before final trim
            quizQuestions = [...easyQuestions, ...mediumQuestions, ...toughQuestions];
            shuffleArray(quizQuestions); // Shuffle the entire combined list

            // Trim to exactly 100 questions
            quizQuestions = quizQuestions.slice(0, 100);

            // Recalculate difficulty counts to ensure final distribution (for logging/debugging)
            let finalEasyCount = quizQuestions.filter(q => q.difficulty === 'easy').length;
            let finalMediumCount = quizQuestions.filter(q => q.difficulty === 'medium').length;
            let finalToughCount = quizQuestions.filter(q => q.difficulty === 'tough').length;
            console.log(`Final Question Counts: Easy=${finalEasyCount}, Medium=${finalMediumCount}, Tough=${finalToughCount}, Total=${quizQuestions.length}`);


            // Randomly select one "Today's Special Question"
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Initialize the quiz when the script loads
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 15JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });
    </script>
</body>
</html>
