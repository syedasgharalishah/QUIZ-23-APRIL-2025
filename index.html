<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - July 19, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include seedrandom.js for consistent daily question shuffling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <style>
        /* Base Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDF5E6; /* Old Lace */
            color: #8B4513; /* SaddleBrown */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Top Bar Styling */
        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #555;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .top-bar .whatsapp-link {
            color: #555;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Header Section Styling */
        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #8B4513; /* SaddleBrown */
            margin-bottom: 1rem;
        }

        /* Progress Bar Styling */
        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #D2B48C, #CD853F); /* Tan to Peru */
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Banner Image and Credits */
        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        /* Card Styling */
        .card {
            background-color: #FAF0E6; /* Linen */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        /* Button Styling */
        .button-gradient {
            background-image: linear-gradient(to right, #F4A460, #D2B48C); /* SandyBrown to Tan */
            color: #4B2E2E;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .submit-button {
             background-image: linear-gradient(to right, #4CAF50, #8BC34A);
             color: white;
        }
        
        .submit-button:hover {
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4);
        }

        /* Option Button Styling */
        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #8B4513;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #CD853F; /* Peru */
            background-color: #FFF8DC; /* Cornsilk */
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #2E8B57; /* SeaGreen */
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #F08080; /* LightCoral */
            border-color: #CD5C5C; /* IndianRed */
            animation: shake-red 0.5s ease-out forwards;
        }

        /* Special Question Highlight */
        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* Explanation Section */
        .explanation {
            background-color: #FFF5EE; /* SeaShell */
            border-left: 5px solid #D2B48C; /* Tan */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #8B4513;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .quiz-title { font-size: 1.5rem; }
            .card { padding: 1rem; }
        }

        /* Keyframe Animations */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, collection } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // --- Firebase Configuration and Initialization ---
        const firebaseConfig = typeof __firebase_config !== 'undefined' 
            ? JSON.parse(__firebase_config) 
            : {
                apiKey: "YOUR_API_KEY_HERE",
                authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
                projectId: "YOUR_PROJECT_ID",
                storageBucket: "YOUR_PROJECT_ID.appspot.com",
                messagingSenderId: "YOUR_SENDER_ID",
                appId: "YOUR_APP_ID"
            };
        
        let app, auth, db;
        let userId;

        // Initialize Firebase
        try {
            app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
            console.log("Firebase initialized successfully for quiz.");
        } catch (e) {
            console.error("Error initializing Firebase:", e);
            document.body.innerHTML = '<div class="text-red-500 text-center p-8">Error initializing the application. Please check the console for details. This might be due to missing Firebase configuration.</div>';
        }

        // Handle Authentication
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                userId = user.uid;
            } else {
                try {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(auth);
                    }
                } catch (error) {
                    console.error("Error during sign-in:", error);
                }
            }
        });

        // Make db instance globally available for the submitQuiz function
        window.db = db;
    </script>

    <script>
        // Disable right-click, copy/paste, and developer tools for security
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault();
            }
            if (e.key === 'F12') { e.preventDefault(); }
        });
        document.addEventListener('copy', event => event.preventDefault());
        document.addEventListener('paste', event => event.preventDefault());
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-700" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-700" value="free">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-700" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display text-lg font-bold text-gray-700 mb-4 text-center" id="timerDisplay"></div>
            <div class="question-progress text-center text-sm text-gray-500 mb-4" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6"></div>
            <div class="flex justify-between items-center">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="submitQuizBtn" class="button-gradient submit-button px-6 py-2">Submit</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-2"><strong>Attempted MCQs:</strong> <span id="resultAttempted"></span> / 100</p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "July 19, 2025";
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Function to update the live date display
        function updateLiveDate() {
            document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
            document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
            document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;
        }

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 100;
        const TOTAL_QUESTIONS = 100;
        let specialQuestionIndex = -1;
        let quizSubmitted = false;

        // --- Helper Functions ---
        function shuffleArrayWithSeed(array, seed) {
            let rng = new Math.seedrandom(seed);
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(rng() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        function showPage(pageId) {
            ['loginPage', 'candidateNamePage', 'quizPage', 'resultsPage'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.add('hidden');
            });
            const pageToShow = document.getElementById(pageId);
            if(pageToShow) pageToShow.classList.remove('hidden');
        }

        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60;

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                const timerDisplay = document.getElementById('timerDisplay');
                if(timerDisplay) timerDisplay.textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    if (!quizSubmitted) submitQuiz(true);
                } else {
                    timeLeft--;
                }
            }
            updateTimerDisplay();
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');
            if (question.special) {
                quizCard.classList.add('special-question');
            }
            
            const optionSeed = `${CURRENT_DATE_STR}-${currentQuestionIndex}`;
            const shuffledOptions = [...question.options];
            shuffleArrayWithSeed(shuffledOptions, optionSeed);

            shuffledOptions.forEach((option) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.innerHTML = option;
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));
                optionsContainer.appendChild(button);
            });

            const userAnswer = userAnswers[currentQuestionIndex];
            if (userAnswer && userAnswer.selectedOptionIndex !== undefined) {
                 Array.from(optionsContainer.children).forEach((button, index) => {
                    button.disabled = true;
                    const btnOriginalIndex = question.options.indexOf(shuffledOptions[index]);
                    if (btnOriginalIndex === userAnswer.selectedOptionIndex) {
                        button.classList.add('selected', userAnswer.isCorrect ? 'correct' : 'incorrect');
                    }
                    if (userAnswer.isCorrect === false && btnOriginalIndex === question.correctOptionIndex) {
                         button.classList.add('correct');
                    }
                });
            }

            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            explanationDiv.style.display = (userAnswer && userAnswer.selectedOptionIndex !== undefined) ? 'block' : 'none';

            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            const showNextButton = currentQuestionIndex < quizQuestions.length - 1;
            document.getElementById('nextBtn').classList.toggle('hidden', !showNextButton);
        }

        function selectOption(selectedOptionOriginalIndex) {
            if (userAnswers[currentQuestionIndex] !== null && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) return;

            const question = quizQuestions[currentQuestionIndex];
            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };
            
            renderQuestion(); // Re-render to show selection and explanation
        }
        
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        async function submitQuiz(isAutoSubmit = false) {
            if(quizSubmitted) return;
            quizSubmitted = true;

            clearInterval(timerInterval);
            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;
            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) correctCount++;
                    else incorrectCount++;
                }
            });

            const score = (correctCount * 2) - incorrectCount;
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = `${score}`;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultAttempted').textContent = `${attemptedCount} / ${TOTAL_QUESTIONS}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);
            
            showPage('resultsPage');

            const resultData = {
                candidateName: candidateName,
                quizDate: CURRENT_DATE_STR,
                score: score,
                correctCount: correctCount,
                incorrectCount: incorrectCount,
                attemptedCount: attemptedCount,
                timeTaken: formatTime(timeTakenSeconds),
                timeTakenSeconds: timeTakenSeconds,
                submittedAt: new Date().toISOString()
            };
            
            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-quiz-app';
            if (window.db) {
                try {
                    const { doc, collection, setDoc } = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js");
                    const resultsCollectionPath = `/artifacts/${appId}/public/data/quiz_results`;
                    const newResultRef = doc(collection(window.db, resultsCollectionPath)); 
                    await setDoc(newResultRef, resultData);
                    console.log("Result saved to Firestore.");
                } catch (error) {
                    console.error("Error writing document to Firestore: ", error);
                }
            } else {
                 console.error("Firestore database (db) not initialized on window object.");
            }
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.addEventListener('click', () => {
                    const loginIdInput = document.getElementById('loginId');
                    const loginPasswordInput = document.getElementById('loginPassword');
                    const loginError = document.getElementById('loginError');

                    const id = loginIdInput ? loginIdInput.value : '';
                    const password = loginPasswordInput ? loginPasswordInput.value : '';
                    
                    if (id === 'syedasgharalishah' && password === 'admin') {
                        alert('Admin login is not handled in this file. Please use the admin panel file.');
                        return;
                    }
                    if (id.toUpperCase() === '19JULY' && password === 'free') {
                        if (loginError) loginError.classList.add('hidden');
                        showPage('candidateNamePage');
                    } else {
                        if (loginError) loginError.classList.remove('hidden');
                    }
                });
            }

            const startQuizBtn = document.getElementById('startQuizBtn');
            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', () => {
                    const candidateNameInput = document.getElementById('candidateName');
                    const nameError = document.getElementById('nameError');
                    const candidateName = candidateNameInput ? candidateNameInput.value.trim() : '';
                    
                    if (candidateName) {
                        if (nameError) nameError.classList.add('hidden');
                        userAnswers = new Array(quizQuestions.length).fill(null);
                        currentQuestionIndex = 0;
                        quizSubmitted = false;
                        startTimer();
                        renderQuestion();
                        showPage('quizPage');
                    } else {
                        if (nameError) nameError.classList.remove('hidden');
                    }
                });
            }

            const nextBtn = document.getElementById('nextBtn');
            if (nextBtn) nextBtn.addEventListener('click', nextQuestion);
            
            const prevBtn = document.getElementById('prevBtn');
            if (prevBtn) prevBtn.addEventListener('click', prevQuestion);
            
            const submitQuizBtn = document.getElementById('submitQuizBtn');
            if (submitQuizBtn) submitQuizBtn.addEventListener('click', () => submitQuiz(false));
            
            const restartQuizBtn = document.getElementById('restartQuizBtn');
            if (restartQuizBtn) {
                restartQuizBtn.addEventListener('click', () => {
                    clearInterval(timerInterval);
                    initializeQuiz();
                    showPage('loginPage');
                });
            }
            
            // Initial setup calls
            initializeQuiz();
            updateLiveDate();
            showPage('loginPage'); 

            // Handle initial loginId display
            const loginIdInput = document.getElementById('loginId');
            if(loginIdInput) {
                const dateParts = CURRENT_DATE_STR.split(' ');
                const monthName = dateParts[0].toUpperCase();
                const day = parseInt(dateParts[1].replace(',', ''));
                loginIdInput.value = `${day.toString().padStart(2,'0')}${monthName.substring(0,3)}`; // e.g., 19JUL
            }
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            quizQuestions.length = 0;
            const dateSeed = CURRENT_DATE_STR;
            
            const allQuestions = [
                // === July 19th Syllabus Quiz (100 MCQs) ===

                // General Knowledge: The United Nations (pp. 93-96) & The World Records (pp. 97-105) - 40 Questions
                { "question": "In which year was the United Nations founded?", "options": ["1919", "1939", "1945", "1950"], "correctOptionIndex": 2, "explanation": "The United Nations was founded on October 24, 1945, after the end of World War II.", "source_page": 93 },
                { "question": "How many member states does the UN currently have?", "options": ["153", "183", "193", "203"], "correctOptionIndex": 2, "explanation": "As of recent data, the United Nations has 193 member states.", "source_page": 93 },
                { "question": "Which is the most powerful organ of the United Nations?", "options": ["General Assembly", "Security Council", "Economic and Social Council", "Secretariat"], "correctOptionIndex": 1, "explanation": "The Security Council is the most powerful organ, with the primary responsibility for maintaining international peace and security.", "source_page": 93 },
                { "question": "How many permanent members are there in the UN Security Council?", "options": ["3", "5", "7", "10"], "correctOptionIndex": 1, "explanation": "There are five permanent members: China, France, Russia, the United Kingdom, and the United States.", "source_page": 94 },
                { "question": "The power of a permanent member of the Security Council to reject a resolution is called:", "options": ["Veto Power", "Majority Vote", "Consensus", "Abstention"], "correctOptionIndex": 0, "explanation": "The ability of any of the five permanent members to prevent the adoption of a substantive resolution is known as the veto power.", "source_page": 94 },
                { "question": "What is the term of the UN Secretary-General?", "options": ["4 years", "5 years", "6 years", "7 years"], "correctOptionIndex": 1, "explanation": "The Secretary-General is appointed for a five-year term, which is renewable.", "source_page": 95 },
                { "question": "Which is the tallest building in the world?", "options": ["Shanghai Tower", "Abraj Al-Bait Clock Tower", "Burj Khalifa", "Ping An Finance Centre"], "correctOptionIndex": 2, "explanation": "The Burj Khalifa in Dubai, UAE, is the tallest building in the world.", "source_page": 97 },
                { "question": "Which is the largest desert in the world?", "options": ["Arabian Desert", "Gobi Desert", "Sahara Desert", "Antarctic Polar Desert"], "correctOptionIndex": 3, "explanation": "By the definition of a desert (low precipitation), the Antarctic Polar Desert is the largest in the world.", "source_page": 98 },
                { "question": "Which is the longest river in the world?", "options": ["Amazon River", "Nile River", "Yangtze River", "Mississippi River"], "correctOptionIndex": 1, "explanation": "The Nile River in Africa is traditionally considered the longest river in the world.", "source_page": 99 },
                { "question": "Which is the largest ocean in the world?", "options": ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"], "correctOptionIndex": 3, "explanation": "The Pacific Ocean is the largest and deepest of the world's five oceans.", "source_page": 100 },
                { "question": "Which country has the largest population in the world?", "options": ["India", "United States", "Indonesia", "China"], "correctOptionIndex": 0, "explanation": "As of recent estimates, India has surpassed China to become the world's most populous country.", "source_page": 101 },
                { "question": "Which is the highest mountain peak in the world?", "options": ["K2", "Kangchenjunga", "Mount Everest", "Lhotse"], "correctOptionIndex": 2, "explanation": "Mount Everest, located in the Himalayas, is the Earth's highest mountain above sea level.", "source_page": 102 },
                { "question": "Which is the largest island in the world?", "options": ["New Guinea", "Borneo", "Madagascar", "Greenland"], "correctOptionIndex": 3, "explanation": "Greenland is the world's largest island.", "source_page": 103 },
                { "question": "Which is the largest country by area in the world?", "options": ["Canada", "China", "USA", "Russia"], "correctOptionIndex": 3, "explanation": "Russia is the largest country in the world by land area.", "source_page": 104 },
                { "question": "Which is the world's largest living structure?", "options": ["The Amazon Rainforest", "The Great Barrier Reef", "The Redwood National Park", "The Serengeti"], "correctOptionIndex": 1, "explanation": "The Great Barrier Reef off the coast of Australia is the world's largest single structure made by living organisms.", "source_page": 105 },
                { "question": "What are the official languages of the United Nations?", "options": ["English, French, Spanish", "English, French, Russian, Chinese, Spanish, Arabic", "English, French, German, Russian, Chinese", "English and French only"], "correctOptionIndex": 1, "explanation": "The six official languages of the UN are Arabic, Chinese, English, French, Russian, and Spanish.", "source_page": 96 },
                { "question": "The UN flag is of which color?", "options": ["White", "Blue", "Green", "Red"], "correctOptionIndex": 1, "explanation": "The flag of the United Nations is light blue in color.", "source_page": 96 },
                { "question": "Which is the highest waterfall in the world?", "options": ["Niagara Falls", "Victoria Falls", "Iguazu Falls", "Angel Falls"], "correctOptionIndex": 3, "explanation": "Angel Falls in Venezuela is the world's tallest uninterrupted waterfall.", "source_page": 97 },
                { "question": "Which is the largest lake (by surface area) in the world?", "options": ["Lake Superior", "Caspian Sea", "Lake Victoria", "Lake Huron"], "correctOptionIndex": 1, "explanation": "The Caspian Sea is the world's largest inland body of water, often described as the world's largest lake.", "source_page": 98 },
                { "question": "Which is the longest wall in the world?", "options": ["Hadrian's Wall", "Great Wall of China", "Berlin Wall", "Walls of Constantinople"], "correctOptionIndex": 1, "explanation": "The Great Wall of China is the longest wall in the world.", "source_page": 99 },
                { "question": "Which is the largest continent by area?", "options": ["Africa", "North America", "Asia", "Europe"], "correctOptionIndex": 2, "explanation": "Asia is the world's largest and most populous continent.", "source_page": 100 },
                { "question": "Which is the most spoken language in the world?", "options": ["Spanish", "Mandarin Chinese", "English", "Hindi"], "correctOptionIndex": 2, "explanation": "English is the most spoken language worldwide, considering both native and non-native speakers.", "source_page": 101 },
                { "question": "Which is the highest active volcano in the world?", "options": ["Mount Fuji", "Mount Kilimanjaro", "Ojos del Salado", "Mount Etna"], "correctOptionIndex": 2, "explanation": "Ojos del Salado on the Argentina–Chile border is the highest active volcano in the world.", "source_page": 102 },
                { "question": "Which is the largest peninsula in the world?", "options": ["Indian Peninsula", "Arabian Peninsula", "Iberian Peninsula", "Scandinavian Peninsula"], "correctOptionIndex": 1, "explanation": "The Arabian Peninsula is the world's largest peninsula.", "source_page": 103 },
                { "question": "Which is the world's largest democratic country?", "options": ["USA", "Indonesia", "Brazil", "India"], "correctOptionIndex": 3, "explanation": "India is the world's largest democracy by population.", "source_page": 104 },
                { "question": "Which is the largest bird in the world?", "options": ["Emu", "Ostrich", "Albatross", "Condor"], "correctOptionIndex": 1, "explanation": "The common ostrich is the largest living bird species.", "source_page": 105 },
                { "question": "The General Assembly of the UN meets regularly once a year in which month?", "options": ["January", "March", "June", "September"], "correctOptionIndex": 3, "explanation": "The regular session of the UN General Assembly usually begins each year in September.", "source_page": 93 },
                { "question": "Which country is the newest member of the United Nations?", "options": ["East Timor", "Montenegro", "South Sudan", "Switzerland"], "correctOptionIndex": 2, "explanation": "South Sudan became the 193rd member state of the United Nations in 2011.", "source_page": 93 },
                { "question": "Which is the largest dam in the world?", "options": ["Hoover Dam", "Three Gorges Dam", "Itaipu Dam", "Tarbela Dam"], "correctOptionIndex": 1, "explanation": "The Three Gorges Dam in China is the world's largest power station in terms of installed capacity.", "source_page": 97 },
                { "question": "Which is the deepest lake in the world?", "options": ["Lake Tanganyika", "Caspian Sea", "Lake Baikal", "Lake Superior"], "correctOptionIndex": 2, "explanation": "Lake Baikal in Siberia, Russia, is the world's deepest and oldest lake.", "source_page": 98 },
                { "question": "Which is the longest railway platform in the world?", "options": ["Gorakhpur, India", "Kollam Junction, India", "Kharagpur, India", "Hubballi, India"], "correctOptionIndex": 3, "explanation": "Shree Siddharoodha Swamiji Hubballi Junction in India has the longest railway platform in the world.", "source_page": 99 },
                { "question": "Which is the smallest continent by area?", "options": ["Europe", "South America", "Antarctica", "Australia"], "correctOptionIndex": 3, "explanation": "Australia is the smallest of the world's continents.", "source_page": 100 },
                { "question": "Which country has the highest life expectancy?", "options": ["Japan", "Switzerland", "Singapore", "Hong Kong"], "correctOptionIndex": 3, "explanation": "Hong Kong often tops the list for the highest life expectancy in the world.", "source_page": 101 },
                { "question": "Which is the highest plateau in the world?", "options": ["Deccan Plateau", "Tibetan Plateau", "Colorado Plateau", "Andean Plateau"], "correctOptionIndex": 1, "explanation": "The Tibetan Plateau is the world's highest and largest plateau.", "source_page": 102 },
                { "question": "Which is the largest bay in the world?", "options": ["Hudson Bay", "Bay of Bengal", "Gulf of Mexico", "Bay of Biscay"], "correctOptionIndex": 1, "explanation": "The Bay of Bengal is the largest bay in the world.", "source_page": 103 },
                { "question": "Which is the smallest country in the world?", "options": ["Monaco", "Nauru", "Tuvalu", "Vatican City"], "correctOptionIndex": 3, "explanation": "Vatican City is the smallest independent state in the world by both area and population.", "source_page": 104 },
                { "question": "Which is the fastest animal on land?", "options": ["Lion", "Pronghorn", "Cheetah", "Wildebeest"], "correctOptionIndex": 2, "explanation": "The cheetah is the fastest land animal.", "source_page": 105 },
                { "question": "Who is the chief administrative officer of the UN?", "options": ["President of the General Assembly", "President of the Security Council", "Secretary-General", "Chief Justice of the ICJ"], "correctOptionIndex": 2, "explanation": "The Secretary-General is the chief administrative officer of the United Nations.", "source_page": 95 },
                { "question": "Which is the largest epic poem in the world?", "options": ["The Iliad", "The Odyssey", "The Mahabharata", "The Aeneid"], "correctOptionIndex": 2, "explanation": "The Mahabharata is the longest epic poem known and has been described as 'the longest poem ever written'.", "source_page": 97 },
                { "question": "Which is the largest saltwater lake in the world?", "options": ["Great Salt Lake", "Caspian Sea", "Aral Sea", "Lake Van"], "correctOptionIndex": 1, "explanation": "The Caspian Sea is the world's largest saltwater lake.", "source_page": 98 },

                // English: Synonyms (pp. 486-493) - 35 Questions
                { "question": "Choose the synonym for QUIBBLE.", "options": ["Agree", "Accept", "Criticize", "Praise"], "correctOptionIndex": 2, "explanation": "To quibble is to argue or raise objections about a trivial matter; to criticize.", "source_page": 486 },
                { "question": "Choose the synonym for RECTIFY.", "options": ["Worsen", "Damage", "Correct", "Spoil"], "correctOptionIndex": 2, "explanation": "To rectify means to put right; to correct.", "source_page": 487 },
                { "question": "Choose the synonym for SAGACIOUS.", "options": ["Foolish", "Stupid", "Wise", "Ignorant"], "correctOptionIndex": 2, "explanation": "Sagacious means having or showing keen mental discernment and good judgment; wise.", "source_page": 488 },
                { "question": "Choose the synonym for TANGIBLE.", "options": ["Abstract", "Intangible", "Concrete", "Unreal"], "correctOptionIndex": 2, "explanation": "Tangible means perceptible by touch; concrete.", "source_page": 489 },
                { "question": "Choose the synonym for UBIQUITOUS.", "options": ["Rare", "Scarce", "Omnipresent", "Limited"], "correctOptionIndex": 2, "explanation": "Ubiquitous means present, appearing, or found everywhere; omnipresent.", "source_page": 490 },
                { "question": "Choose the synonym for VALIANT.", "options": ["Cowardly", "Timid", "Brave", "Fearful"], "correctOptionIndex": 2, "explanation": "Valiant means possessing or showing courage or determination; brave.", "source_page": 491 },
                { "question": "Choose the synonym for WANE.", "options": ["Increase", "Grow", "Diminish", "Expand"], "correctOptionIndex": 2, "explanation": "To wane means to decrease in vigor, power, or extent; become weaker.", "source_page": 492 },
                { "question": "Choose the synonym for YIELD.", "options": ["Resist", "Withstand", "Surrender", "Defy"], "correctOptionIndex": 2, "explanation": "To yield means to give way to arguments, demands, or pressure; to surrender.", "source_page": 493 },
                { "question": "Choose the synonym for QUELL.", "options": ["Incite", "Encourage", "Suppress", "Provoke"], "correctOptionIndex": 2, "explanation": "To quell is to put an end to (a rebellion or other disorder), typically by the use of force; to suppress.", "source_page": 486 },
                { "question": "Choose the synonym for ROBUST.", "options": ["Weak", "Frail", "Sturdy", "Delicate"], "correctOptionIndex": 2, "explanation": "Robust means strong and healthy; vigorous.", "source_page": 487 },
                { "question": "Choose the synonym for SCANTY.", "options": ["Abundant", "Plentiful", "Meager", "Copious"], "correctOptionIndex": 2, "explanation": "Scanty means small or insufficient in quantity or amount; meager.", "source_page": 488 },
                { "question": "Choose the synonym for TEDIOUS.", "options": ["Exciting", "Interesting", "Dull", "Lively"], "correctOptionIndex": 2, "explanation": "Tedious means too long, slow, or dull; tiresome or monotonous.", "source_page": 489 },
                { "question": "Choose the synonym for UNCOUTH.", "options": ["Refined", "Cultured", "Awkward", "Polite"], "correctOptionIndex": 2, "explanation": "Uncouth means (of a person or their appearance or behavior) lacking good manners, refinement, or grace; awkward.", "source_page": 490 },
                { "question": "Choose the synonym for VENERATE.", "options": ["Despise", "Scorn", "Revere", "Dislike"], "correctOptionIndex": 2, "explanation": "To venerate is to regard with great respect; to revere.", "source_page": 491 },
                { "question": "Choose the synonym for WARY.", "options": ["Trusting", "Careless", "Cautious", "Reckless"], "correctOptionIndex": 2, "explanation": "Wary means feeling or showing caution about possible dangers or problems.", "source_page": 492 },
                { "question": "Choose the synonym for YELL.", "options": ["Whisper", "Mutter", "Shout", "Murmur"], "correctOptionIndex": 2, "explanation": "To yell is to give a loud, sharp cry; to shout.", "source_page": 493 },
                { "question": "Choose the synonym for QUERULOUS.", "options": ["Contented", "Complaining", "Cheerful", "Satisfied"], "correctOptionIndex": 1, "explanation": "Querulous means complaining in a petulant or whining manner.", "source_page": 486 },
                { "question": "Choose the synonym for REMORSE.", "options": ["Satisfaction", "Regret", "Joy", "Indifference"], "correctOptionIndex": 1, "explanation": "Remorse is deep regret or guilt for a wrong committed.", "source_page": 487 },
                { "question": "Choose the synonym for SERENE.", "options": ["Agitated", "Turbulent", "Calm", "Noisy"], "correctOptionIndex": 2, "explanation": "Serene means calm, peaceful, and untroubled; tranquil.", "source_page": 488 },
                { "question": "Choose the synonym for THRIVE.", "options": ["Fail", "Decline", "Flourish", "Wither"], "correctOptionIndex": 2, "explanation": "To thrive means to prosper; be fortunate or successful; to flourish.", "source_page": 489 },
                { "question": "Choose the synonym for URBANE.", "options": ["Rude", "Unsophisticated", "Suave", "Clumsy"], "correctOptionIndex": 2, "explanation": "Urbane means (of a person, especially a man) suave, courteous, and refined in manner.", "source_page": 490 },
                { "question": "Choose the synonym for VIVACIOUS.", "options": ["Dull", "Lifeless", "Lively", "Lethargic"], "correctOptionIndex": 2, "explanation": "Vivacious means (especially of a woman) attractively lively and animated.", "source_page": 491 },
                { "question": "Choose the synonym for WHIMSICAL.", "options": ["Serious", "Practical", "Playful", "Sober"], "correctOptionIndex": 2, "explanation": "Whimsical means playfully quaint or fanciful, especially in an appealing and amusing way.", "source_page": 492 },
                { "question": "Choose the synonym for YEARN.", "options": ["Despise", "Dislike", "Crave", "Reject"], "correctOptionIndex": 2, "explanation": "To yearn is to have an intense feeling of longing for something, typically something that one has lost or been separated from.", "source_page": 493 },
                { "question": "Choose the synonym for QUIET.", "options": ["Loud", "Noisy", "Silent", "Chaotic"], "correctOptionIndex": 2, "explanation": "Quiet means making little or no noise; silent.", "source_page": 486 },
                { "question": "Choose the synonym for RUTHLESS.", "options": ["Merciful", "Compassionate", "Merciless", "Kind"], "correctOptionIndex": 2, "explanation": "Ruthless means having or showing no pity or compassion for others.", "source_page": 487 },
                { "question": "Choose the synonym for STERN.", "options": ["Lenient", "Mild", "Strict", "Gentle"], "correctOptionIndex": 2, "explanation": "Stern means (of a person or their manner) serious and unrelenting, especially in the assertion of authority and exercise of discipline.", "source_page": 488 },
                { "question": "Choose the synonym for TIMID.", "options": ["Brave", "Bold", "Shy", "Confident"], "correctOptionIndex": 2, "explanation": "Timid means showing a lack of courage or confidence; easily frightened.", "source_page": 489 },
                { "question": "Choose the synonym for USURP.", "options": ["Inherit", "Abdicate", "Seize", "Relinquish"], "correctOptionIndex": 2, "explanation": "To usurp is to take (a position of power or importance) illegally or by force.", "source_page": 490 },
                { "question": "Choose the synonym for VEX.", "options": ["Soothe", "Please", "Annoy", "Calm"], "correctOptionIndex": 2, "explanation": "To vex means to make (someone) feel annoyed, frustrated, or worried, especially with trivial matters.", "source_page": 491 },
                { "question": "Choose the synonym for WILY.", "options": ["Honest", "Naive", "Crafty", "Frank"], "correctOptionIndex": 2, "explanation": "Wily means skilled at gaining an advantage, especially deceitfully; crafty.", "source_page": 492 },
                { "question": "Choose the synonym for YOKE.", "options": ["Liberate", "Release", "Unite", "Separate"], "correctOptionIndex": 2, "explanation": "A yoke is a wooden crosspiece that is fastened over the necks of two animals and attached to the plow or cart that they are to pull; it symbolizes a bond or union.", "source_page": 493 },
                { "question": "Choose the synonym for RASH.", "options": ["Cautious", "Careful", "Reckless", "Prudent"], "correctOptionIndex": 2, "explanation": "Rash means displaying or proceeding from a lack of careful consideration of the possible consequences of an action; reckless.", "source_page": 487 },
                { "question": "Choose the synonym for SUCCINCT.", "options": ["Lengthy", "Verbose", "Concise", "Expanded"], "correctOptionIndex": 2, "explanation": "Succinct means (especially of something written or spoken) briefly and clearly expressed; concise.", "source_page": 488 },
                { "question": "Choose the synonym for TRANQUIL.", "options": ["Agitated", "Peaceful", "Noisy", "Turbulent"], "correctOptionIndex": 1, "explanation": "Tranquil means free from disturbance; calm.", "source_page": 489 },

                // Islamic Studies: Pillars of Islam (Urdu/IS Section, pp. 20-23) - 25 Questions
                { "question": "اسلام کے کتنے بنیادی ارکان ہیں؟", "options": ["تین", "چار", "پانچ", "چھ"], "correctOptionIndex": 2, "explanation": "اسلام کی بنیاد پانچ ارکان پر ہے: کلمہ شہادت، نماز، روزہ، زکوٰۃ، اور حج۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "اسلام کا پہلا رکن کون سا ہے؟", "options": ["نماز", "روزہ", "کلمہ شہادت", "زکوٰۃ"], "correctOptionIndex": 2, "explanation": "اسلام کا پہلا اور سب سے اہم رکن کلمہ شہادت ہے، یعنی اس بات کی گواہی دینا کہ اللہ کے سوا کوئی معبود نہیں اور حضرت محمدؐ اللہ کے رسول ہیں۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "دن میں کتنی نمازیں فرض ہیں؟", "options": ["تین", "چار", "پانچ", "چھ"], "correctOptionIndex": 2, "explanation": "ہر مسلمان عاقل و بالغ مرد و عورت پر دن میں پانچ وقت کی نماز فرض ہے: فجر، ظہر، عصر، مغرب، اور عشاء۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "نماز کے لیے سب سے پہلی شرط کیا ہے؟", "options": ["وقت کی پابندی", "پاکیزگی (طہارت)", "قبلہ رخ ہونا", "نیت کرنا"], "correctOptionIndex": 1, "explanation": "نماز کی صحت کے لیے سب سے پہلی اور بنیادی شرط طہارت ہے، یعنی جسم، لباس اور جگہ کا پاک ہونا۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "کس اسلامی مہینے میں روزے فرض ہیں؟", "options": ["رجب", "شعبان", "رمضان", "محرم"], "correctOptionIndex": 2, "explanation": "رمضان المبارک کے مہینے میں تمام مسلمانوں پر روزے رکھنا فرض ہے۔", "source_page": "Urdu/IS Sec. 21" },
                { "question": "روزے کا بنیادی مقصد کیا ہے؟", "options": ["بھوکا رہنا", "وزن کم کرنا", "تقویٰ کا حصول", "صحت بہتر بنانا"], "correctOptionIndex": 2, "explanation": "قرآن کے مطابق روزے کا بنیادی مقصد پرہیزگاری اور اللہ کا خوف یعنی تقویٰ پیدا کرنا ہے۔", "source_page": "Urdu/IS Sec. 21" },
                { "question": "زکوٰۃ کا لغوی معنی کیا ہے؟", "options": ["بڑھنا اور پاک ہونا", "کم کرنا", "خرچ کرنا", "جمع کرنا"], "correctOptionIndex": 0, "explanation": "زکوٰۃ کے لغوی معنی پاکیزگی اور بڑھوتری کے ہیں۔ یہ مال کو پاک کرتی ہے اور اس میں برکت کا سبب بنتی ہے۔", "source_page": "Urdu/IS Sec. 22" },
                { "question": "زکوٰۃ کس پر فرض ہوتی ہے؟", "options": ["ہر مسلمان پر", "صرف امیر مردوں پر", "صاحب نصاب مسلمان پر", "صرف کسانوں پر"], "correctOptionIndex": 2, "explanation": "زکوٰۃ ہر اس مسلمان پر فرض ہے جو صاحب نصاب ہو، یعنی اس کے پاس ایک خاص مقدار میں مال (ساڑھے سات تولہ سونا یا ساڑھے باون تولہ چاندی یا اس کے برابر رقم) ایک سال تک موجود رہے۔", "source_page": "Urdu/IS Sec. 22" },
                { "question": "زکوٰۃ کی شرح کیا ہے؟", "options": ["1.5%", "2.5%", "5%", "10%"], "correctOptionIndex": 1, "explanation": "سال بھر کی بچت پر زکوٰۃ کی شرح اڑھائی فیصد (2.5%) ہے۔", "source_page": "Urdu/IS Sec. 22" },
                { "question": "اسلام کا پانچواں رکن کون سا ہے؟", "options": ["نماز", "روزہ", "زکوٰۃ", "حج"], "correctOptionIndex": 3, "explanation": "اسلام کا پانچواں رکن حج ہے، جو صاحب استطاعت مسلمان پر زندگی میں ایک بار فرض ہے۔", "source_page": "Urdu/IS Sec. 23" },
                { "question": "حج کس مہینے میں ادا کیا جاتا ہے؟", "options": ["رمضان", "شوال", "ذوالقعدہ", "ذوالحجہ"], "correctOptionIndex": 3, "explanation": "حج کے مخصوص ایام ذوالحجہ کے مہینے میں ہوتے ہیں، جن میں 8 سے 12 ذوالحجہ تک مخصوص مناسک ادا کیے جاتے ہیں۔", "source_page": "Urdu/IS Sec. 23" },
                { "question": "کلمہ شہادت کے کتنے حصے ہیں؟", "options": ["ایک", "دو", "تین", "چار"], "correctOptionIndex": 1, "explanation": "کلمہ شہادت کے دو حصے ہیں: پہلا حصہ اللہ کی وحدانیت کا اقرار (لا الہ الا اللہ) اور دوسرا حصہ حضرت محمدؐ کی رسالت کا اقرار (محمد رسول اللہ)۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "نماز کو دین میں کیا حیثیت حاصل ہے؟", "options": ["دین کا ستون", "مومن کی معراج", "جنت کی کنجی", "مذکورہ بالا تمام"], "correctOptionIndex": 3, "explanation": "احادیث میں نماز کو دین کا ستون، مومن کی معراج اور جنت کی کنجی قرار دیا گیا ہے۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "روزے کو عربی میں کیا کہتے ہیں؟", "options": ["صلوٰۃ", "صوم", "زکوٰۃ", "حج"], "correctOptionIndex": 1, "explanation": "روزے کے لیے عربی زبان میں 'صوم' کا لفظ استعمال ہوتا ہے، جس کا مطلب 'رک جانا' ہے۔", "source_page": "Urdu/IS Sec. 21" },
                { "question": "زکوٰۃ کے مصارف (جن لوگوں کو زکوٰۃ دی جا سکتی ہے) کا ذکر کس سورت میں ہے؟", "options": ["سورۃ البقرہ", "سورۃ آل عمران", "سورۃ التوبہ", "سورۃ المائدہ"], "correctOptionIndex": 2, "explanation": "زکوٰۃ کے آٹھ مصارف کا تفصیلی ذکر قرآن مجید کی سورۃ التوبہ (آیت 60) میں آیا ہے۔", "source_page": "Urdu/IS Sec. 22" },
                { "question": "حج کے دوران حاجی جو مخصوص لباس پہنتے ہیں اسے کیا کہتے ہیں؟", "options": ["عبایا", "جبہ", "احرام", "چادر"], "correctOptionIndex": 2, "explanation": "حج یا عمرہ کی نیت سے پہنے جانے والے بغیر سلے دو کپڑوں کو احرام کہا جاتا ہے۔", "source_page": "Urdu/IS Sec. 23" },
                { "question": "کون سی عبادت بدنی اور مالی دونوں ہے؟", "options": ["نماز", "روزہ", "زکوٰۃ", "حج"], "correctOptionIndex": 3, "explanation": "حج ایک ایسی عبادت ہے جس میں مالی استطاعت (سفر کے اخراجات) اور بدنی طاقت دونوں کی ضرورت ہوتی ہے۔", "source_page": "Urdu/IS Sec. 23" },
                { "question": "نماز میں قبلہ کی طرف رخ کرنا کیا کہلاتا ہے؟", "options": ["قیام", "رکوع", "استقبال قبلہ", "سجدہ"], "correctOptionIndex": 2, "explanation": "نماز کی شرائط میں سے ایک شرط استقبال قبلہ ہے، یعنی نماز ادا کرتے وقت خانہ کعبہ کی طرف منہ کرنا۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "روزہ کب سے کب تک رکھا جاتا ہے؟", "options": ["طلوع آفتاب سے غروب آفتاب تک", "صبح صادق سے غروب آفتاب تک", "فجر کی اذان سے مغرب کی اذان تک", "دن کے بارہ گھنٹے"], "correctOptionIndex": 1, "explanation": "روزے کا وقت صبح صادق (فجر کا وقت شروع ہونے) سے لے کر غروب آفتاب (مغرب کا وقت شروع ہونے) تک ہوتا ہے۔", "source_page": "Urdu/IS Sec. 21" },
                { "question": "عشر کس قسم کی زکوٰۃ ہے؟", "options": ["سونے پر", "جانوروں پر", "تجارت کے مال پر", "زرعی پیداوار پر"], "correctOptionIndex": 3, "explanation": "عشر زرعی پیداوار پر لگنے والی زکوٰۃ کو کہتے ہیں، جس کی شرح پیداوار کا دسواں یا بیسواں حصہ ہوتی ہے۔", "source_page": "Urdu/IS Sec. 22" },
                { "question": "طواف کس کے گرد کیا جاتا ہے؟", "options": ["مسجد نبوی", "کوہ صفا", "خانہ کعبہ", "میدان عرفات"], "correctOptionIndex": 2, "explanation": "طواف حج اور عمرہ کا ایک اہم رکن ہے جس میں حاجی خانہ کعبہ کے گرد سات چکر لگاتے ہیں۔", "source_page": "Urdu/IS Sec. 23" },
                { "question": "نماز قائم کرنے کا حکم قرآن میں کتنی بار آیا ہے؟", "options": ["تقریباً 100 بار", "تقریباً 300 بار", "تقریباً 500 بار", "تقریباً 700 بار"], "correctOptionIndex": 3, "explanation": "قرآن مجید میں نماز قائم کرنے کا حکم تقریباً 700 مرتبہ آیا ہے، جو اس کی اہمیت کو ظاہر کرتا ہے۔", "source_page": "Urdu/IS Sec. 20" },
                { "question": "روزے کو کس چیز سے تشبیہ دی گئی ہے؟", "options": ["ڈھال", "تلوار", "روشنی", "خزانہ"], "correctOptionIndex": 0, "explanation": "حدیث میں روزے کو گناہوں اور جہنم کی آگ سے بچانے والی ڈھال قرار دیا گیا ہے۔", "source_page": "Urdu/IS Sec. 21" },
                { "question": "زکوٰۃ ادا نہ کرنے والوں کے بارے میں قرآن میں کیا وعید ہے؟", "options": ["مال کم ہو جائے گا", "سخت عذاب کی وعید", "کاروبار میں نقصان ہوگا", "معاشرے میں عزت کم ہوگی"], "correctOptionIndex": 1, "explanation": "قرآن و حدیث میں زکوٰۃ ادا نہ کرنے والوں کے لیے سخت عذاب کی وعیدیں آئی ہیں۔", "source_page": "Urdu/IS Sec. 22" },
                { "question": "حج کا سب سے بڑا رکن کون سا ہے؟", "options": ["طواف", "سعی", "وقوف عرفہ", "قربانی"], "correctOptionIndex": 2, "explanation": "وقوف عرفہ (9 ذوالحجہ کو عرفات کے میدان میں ٹھہرنا) حج کا سب سے بڑا اور لازمی رکن ہے، جس کے بغیر حج ادا نہیں ہوتا۔", "source_page": "Urdu/IS Sec. 23" }
            ];
            
            shuffleArrayWithSeed(allQuestions, dateSeed);
            quizQuestions = allQuestions.slice(0, TOTAL_QUESTIONS);

            if (quizQuestions.length > 0) {
                let rng = new Math.seedrandom(dateSeed + '-special');
                specialQuestionIndex = Math.floor(rng() * quizQuestions.length);
                quizQuestions[specialQuestionIndex].special = true;
            }
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.addEventListener('click', () => {
                    const loginIdInput = document.getElementById('loginId');
                    const loginPasswordInput = document.getElementById('loginPassword');
                    const loginError = document.getElementById('loginError');

                    const id = loginIdInput ? loginIdInput.value : '';
                    const password = loginPasswordInput ? loginPasswordInput.value : '';
                    
                    if (id === 'syedasgharalishah' && password === 'admin') {
                        alert('Admin login is not handled in this file. Please use the admin panel file.');
                        return;
                    }
                    if (id.toUpperCase() === '18JULY' && password === 'free') {
                        if (loginError) loginError.classList.add('hidden');
                        showPage('candidateNamePage');
                    } else {
                        if (loginError) loginError.classList.remove('hidden');
                    }
                });
            }

            const startQuizBtn = document.getElementById('startQuizBtn');
            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', () => {
                    const candidateNameInput = document.getElementById('candidateName');
                    const nameError = document.getElementById('nameError');
                    const candidateName = candidateNameInput ? candidateNameInput.value.trim() : '';
                    
                    if (candidateName) {
                        if (nameError) nameError.classList.add('hidden');
                        userAnswers = new Array(quizQuestions.length).fill(null);
                        currentQuestionIndex = 0;
                        quizSubmitted = false;
                        startTimer();
                        renderQuestion();
                        showPage('quizPage');
                    } else {
                        if (nameError) nameError.classList.remove('hidden');
                    }
                });
            }

            const nextBtn = document.getElementById('nextBtn');
            if (nextBtn) nextBtn.addEventListener('click', nextQuestion);
            
            const prevBtn = document.getElementById('prevBtn');
            if (prevBtn) prevBtn.addEventListener('click', prevQuestion);
            
            const submitQuizBtn = document.getElementById('submitQuizBtn');
            if (submitQuizBtn) submitQuizBtn.addEventListener('click', () => submitQuiz(false));
            
            const restartQuizBtn = document.getElementById('restartQuizBtn');
            if (restartQuizBtn) {
                restartQuizBtn.addEventListener('click', () => {
                    clearInterval(timerInterval);
                    initializeQuiz();
                    showPage('loginPage');
                });
            }
            
            // Initial setup calls
            initializeQuiz();
            updateLiveDate();
            showPage('loginPage'); 

            // Handle initial loginId display
            const loginIdInput = document.getElementById('loginId');
            if(loginIdInput) {
                const dateParts = CURRENT_DATE_STR.split(' ');
                const monthName = dateParts[0].toUpperCase();
                const day = parseInt(dateParts[1].replace(',', ''));
                loginIdInput.value = `${day.toString().padStart(2,'0')}${monthName.substring(0,3)}`; // e.g., 18JUL
            }
        });
    </script>
</body>
</html>
