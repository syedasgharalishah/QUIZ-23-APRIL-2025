<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 16, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50; /* Changed to main text color */
            margin-top: 0.5rem;
            font-weight: bold; /* Added bold as per request */
        }

        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start; /* Align to start on mobile */
            }
            .top-bar .date-display {
                order: 1; /* Move date to top-left on mobile */
                font-size: 0.8rem;
                align-self: flex-start; /* Align to start on mobile */
            }
            .top-bar .whatsapp-link {
                order: 2; /* Move whatsapp to bottom on mobile */
                font-size: 0.8rem;
                align-self: flex-end; /* Align to end on mobile */
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        /* Shake animation for wrong answer */
        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault()); // Disable right-click
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault(); // Disable Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J
            }
            if (e.key === 'F12') {
                e.preventDefault(); // Disable F12
            }
        });
        document.addEventListener('copy', event => event.preventDefault()); // Disable copy
        document.addEventListener('paste', event => event.preventDefault()); // Disable paste
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 16, 2025"; // Updated for June 16 quiz
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40;
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 16 quiz
            const expectedLoginId = "16JUNE"; 
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // General Knowledge (40 MCQs)
            const generalKnowledgeMCQs = [
                // GK - June 16: The World Records: Pages 106-115 & Abbreviations, Acronyms and Terms: Pages 116-120
                { question: "Which is the largest ocean in the world?", options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Arctic Ocean"], correctOptionIndex: 2, explanation: "The Pacific Ocean is the largest and deepest of Earth's five oceanic divisions.", difficulty: "easy", source_page: 106 },
                { question: "Which is the smallest continent by land area?", options: ["Asia", "Africa", "Australia", "Europe"], correctOptionIndex: 2, explanation: "Australia is the smallest continent by land area.", difficulty: "easy", source_page: 106 },
                { question: "The highest mountain peak in the world is:", options: ["K2", "Mount Everest", "Kangchenjunga", "Lhotse"], correctOptionIndex: 1, explanation: "Mount Everest is the highest mountain peak in the world, located in the Himalayas.", difficulty: "easy", source_page: 107 },
                { question: "Which is the longest river in the world?", options: ["Amazon River", "Yangtze River", "Nile River", "Mississippi River"], correctOptionIndex: 2, explanation: "The Nile River is considered the longest river in the world.", difficulty: "easy", source_page: 107 },
                { question: "Which is the largest desert in the world?", options: ["Gobi Desert", "Sahara Desert", "Arabian Desert", "Kalahari Desert"], correctOptionIndex: 1, explanation: "The Sahara Desert is the largest hot desert in the world.", difficulty: "easy", source_page: 108 },
                { question: "What does UNESCO stand for?", options: ["United Nations Educational, Scientific and Cultural Organization", "United Nations Economic, Social and Cultural Organization", "United Nations Environmental, Scientific and Cultural Organization", "Universal Nations Educational, Social and Cultural Organization"], correctOptionIndex: 0, explanation: "UNESCO stands for United Nations Educational, Scientific and Cultural Organization.", difficulty: "easy", source_page: 116 },
                { question: "The abbreviation 'NATO' refers to:", options: ["North American Treaty Organization", "North Atlantic Treaty Organization", "National Aeronautics and Space Organization", "Non-Aligned Trade Organization"], correctOptionIndex: 1, explanation: "NATO is the North Atlantic Treaty Organization, a military alliance.", difficulty: "easy", source_page: 117 },
                { question: "What does 'UNICEF' primarily focus on?", options: ["Adult Education", "Children's Rights and Welfare", "Environmental Protection", "Economic Development"], correctOptionIndex: 1, explanation: "UNICEF stands for United Nations Children's Fund, focusing on children's rights and welfare.", difficulty: "easy", source_page: 117 },
                { question: "Which is the highest waterfall in the world?", options: ["Niagara Falls", "Victoria Falls", "Angel Falls", "Iguazu Falls"], correctOptionIndex: 2, explanation: "Angel Falls in Venezuela is the world's highest uninterrupted waterfall.", difficulty: "medium", source_page: 108 },
                { question: "Which is the deepest lake in the world?", options: ["Lake Superior", "Lake Baikal", "Lake Tanganyika", "Great Slave Lake"], correctOptionIndex: 1, explanation: "Lake Baikal in Siberia, Russia, is the deepest lake in the world.", difficulty: "medium", source_page: 109 },
                { question: "The term 'GDP' stands for:", options: ["Gross Domestic Production", "Global Development Plan", "Gross Domestic Product", "General Development Program"], correctOptionIndex: 2, explanation: "GDP means Gross Domestic Product, a measure of economic output.", difficulty: "easy", source_page: 118 },
                { question: "What is the largest island in the world?", options: ["New Guinea", "Borneo", "Madagascar", "Greenland"], correctOptionIndex: 3, explanation: "Greenland is the world's largest island.", difficulty: "medium", source_page: 109 },
                { question: "Which is the largest sea in the world?", options: ["Mediterranean Sea", "Caribbean Sea", "Philippine Sea", "South China Sea"], correctOptionIndex: 2, explanation: "The Philippine Sea is the largest sea in the world.", difficulty: "tough", source_page: 110 },
                { question: "The smallest independent state in the world is:", options: ["Monaco", "Vatican City", "Nauru", "San Marino"], correctOptionIndex: 1, explanation: "Vatican City is the smallest independent state in the world, both in area and population.", difficulty: "medium", source_page: 110 },
                { question: "Which is the highest capital city in the world?", options: ["La Paz (Bolivia)", "Quito (Ecuador)", "Thimphu (Bhutan)", "Bogotá (Colombia)"], correctOptionIndex: 0, explanation: "La Paz, Bolivia, is generally considered the highest capital city.", difficulty: "tough", source_page: 111 },
                { question: "What does 'WHO' stand for?", options: ["World Health Organization", "World Housing Organization", "Workers' Health Organization", "Wildlife Habitat Organization"], correctOptionIndex: 0, explanation: "WHO stands for World Health Organization, a specialized agency of the United Nations responsible for international public health.", difficulty: "easy", source_page: 119 },
                { question: "The term 'IMF' refers to:", options: ["International Monetary Fund", "Indian Monetary Fund", "International Migration Forum", "Industrial Management Federation"], correctOptionIndex: 0, explanation: "IMF stands for International Monetary Fund.", difficulty: "easy", source_page: 119 },
                { question: "Which is the largest active volcano in the world?", options: ["Mount Etna", "Mount Vesuvius", "Mauna Loa", "Krakatoa"], correctOptionIndex: 2, explanation: "Mauna Loa in Hawaii is considered the largest active volcano on Earth by mass and volume.", difficulty: "tough", source_page: 111 },
                { question: "Which is the coldest place on Earth?", options: ["Siberia, Russia", "Vostok Station, Antarctica", "Greenland", "Arctic Circle"], correctOptionIndex: 1, explanation: "Vostok Station in Antarctica has recorded the lowest natural temperature on Earth.", difficulty: "medium", source_page: 112 },
                { question: "The world's largest dam, by volume of material, is:", options: ["Three Gorges Dam, China", "Grand Coulee Dam, USA", "Rogun Dam, Tajikistan", "Syncrude Tailings Dam, Canada"], correctOptionIndex: 3, explanation: "The Syncrude Tailings Dam in Canada is the largest dam by volume of construction material.", difficulty: "tough", source_page: 112 },
                { question: "What does 'SAARC' stand for?", options: ["South Asian Association for Regional Cooperation", "Southeast Asian Alliance for Regional Cooperation", "South African Association for Research and Culture", "Strategic Alliance for Asian Resource Control"], correctOptionIndex: 0, explanation: "SAARC stands for South Asian Association for Regional Cooperation.", difficulty: "easy", source_page: 120 },
                { question: "Which is the largest country in the world by land area?", options: ["China", "Canada", "USA", "Russia"], correctOptionIndex: 3, explanation: "Russia is the largest country in the world by land area.", difficulty: "easy", source_page: 106 },
                { question: "Which is the most populous country in the world?", options: ["India", "USA", "China", "Indonesia"], correctOptionIndex: 0, explanation: "As of recent data, India has surpassed China as the most populous country.", difficulty: "easy", source_page: 106 },
                { question: "The highest habitable building in the world is:", options: ["Shanghai Tower", "Abraj Al-Bait Clock Tower", "Burj Khalifa", "One World Trade Center"], correctOptionIndex: 2, explanation: "Burj Khalifa in Dubai is the world's tallest building.", difficulty: "medium", source_page: 107 },
                { question: "Which is the largest artificial lake in the world?", options: ["Lake Mead", "Lake Kariba", "Lake Victoria", "Caspian Sea"], correctOptionIndex: 1, explanation: "Lake Kariba, on the border between Zambia and Zimbabwe, is the largest artificial lake by volume.", difficulty: "tough", source_page: 109 },
                { question: "The world's largest peninsula is:", options: ["Arabian Peninsula", "Indian Peninsula", "Kamchatka Peninsula", "Iberian Peninsula"], correctOptionIndex: 0, explanation: "The Arabian Peninsula is the largest peninsula in the world.", difficulty: "medium", source_page: 109 },
                { question: "What does 'OPEC' refer to?", options: ["Organization of Petroleum Exporting Countries", "Oil Producing European Countries", "Organization for Political and Economic Cooperation", "Overseas Petroleum Export Control"], correctOptionIndex: 0, explanation: "OPEC is the Organization of the Petroleum Exporting Countries.", difficulty: "easy", source_page: 117 },
                { question: "Which is the largest port in the world by cargo tonnage?", options: ["Port of Rotterdam", "Port of Singapore", "Port of Shanghai", "Port of Ningbo-Zhoushan"], correctOptionIndex: 3, explanation: "The Port of Ningbo-Zhoushan in China is the busiest port in the world in terms of cargo tonnage.", difficulty: "tough", source_page: 110 },
                { question: "The longest railway platform in the world is located in:", options: ["Kharagpur, India", "Gorakhpur, India", "Hubballi, India", "Chongqing, China"], correctOptionIndex: 2, explanation: "The longest railway platform is at Hubballi Junction in India.", difficulty: "medium", source_page: 111 },
                { question: "What does 'ASEAN' stand for?", options: ["Association of Southeast Asian Nations", "African States Economic Alliance Network", "Asian Security and Economic Alliance Nations", "Association of South East American Nations"], correctOptionIndex: 0, explanation: "ASEAN stands for Association of Southeast Asian Nations.", difficulty: "easy", source_page: 118 },
                { question: "The world's largest single flower is:", options: ["Sunflower", "Rose", "Rafflesia arnoldii", "Lotus"], correctOptionIndex: 2, explanation: "Rafflesia arnoldii, known for its enormous size and pungent odor, is the largest single flower.", difficulty: "tough", source_page: 113 },
                { question: "Which is the world's largest active fault line?", options: ["San Andreas Fault", "North Anatolian Fault", "Alpine Fault", "East African Rift"], correctOptionIndex: 0, explanation: "The San Andreas Fault in California is one of the world's longest and most active fault lines.", difficulty: "tough", source_page: 114 },
                { question: "What does 'FAO' stand for?", options: ["Food and Agriculture Organization", "Farmers Association Organization", "Fisheries and Aquaculture Organization", "Forestry and Allied Organization"], correctOptionIndex: 0, explanation: "FAO stands for Food and Agriculture Organization of the United Nations.", difficulty: "easy", source_page: 118 },
                { question: "Which is the largest delta in the world?", options: ["Nile Delta", "Mississippi Delta", "Ganges Delta", "Mekong Delta"], correctOptionIndex: 2, explanation: "The Ganges Delta (Ganges-Brahmaputra Delta) is the world's largest delta.", difficulty: "medium", source_page: 114 },
                { question: "What does 'NAFTA' signify?", options: ["North American Free Trade Agreement", "National Association for Fair Trade Activities", "North Atlantic Food and Trade Alliance", "New Africa Free Trade Agreement"], correctOptionIndex: 0, explanation: "NAFTA stands for North American Free Trade Agreement.", difficulty: "easy", source_page: 117 },
                { question: "The world's most extensive mountain range is:", options: ["Andes", "Himalayas", "Rocky Mountains", "Great Dividing Range"], correctOptionIndex: 0, explanation: "The Andes is the longest continental mountain range in the world.", difficulty: "medium", source_page: 107 },
                { question: "Which is the largest freshwater lake by surface area?", options: ["Lake Superior", "Lake Victoria", "Lake Huron", "Lake Michigan"], correctOptionIndex: 0, explanation: "Lake Superior is the largest freshwater lake by surface area.", difficulty: "medium", source_page: 109 },
                { question: "What does 'CPEC' stand for?", options: ["China Pakistan Economic Corridor", "Central Pakistan Energy Commission", "China Pakistan Education Council", "Cultural Preservation Exchange Committee"], correctOptionIndex: 0, explanation: "CPEC stands for China Pakistan Economic Corridor.", difficulty: "easy", source_page: 116 },
                { question: "Which country has the most time zones?", options: ["Russia", "USA", "China", "France"], correctOptionIndex: 3, explanation: "France, including its overseas territories, has the most time zones (12 zones).", difficulty: "tough", source_page: 115 },
                { question: "The highest railway bridge in the world is located in:", options: ["China", "India", "France", "USA"], correctOptionIndex: 1, explanation: "The Chenab Bridge in India is the world's highest railway bridge.", difficulty: "tough", source_page: 111 }
            ];
            quizQuestions.push(...generalKnowledgeMCQs);

            // English (30 MCQs)
            const englishMCQs = [
                // English - June 16: Foreign Phrases: Pages 494-497 (30 MCQs)
                { question: "The phrase 'Ad hoc' means:", options: ["For this specific purpose", "Against the rules", "Without delay", "By chance"], correctOptionIndex: 0, explanation: "'Ad hoc' is Latin for 'for this' and implies something created or done for a particular purpose as needed.", difficulty: "easy", source_page: 494 },
                { question: "What does 'De facto' mean?", options: ["By law", "In reality", "By the book", "In agreement"], correctOptionIndex: 1, explanation: "'De facto' is Latin for 'in fact' or 'in reality', meaning something existing whether legally recognized or not.", difficulty: "easy", source_page: 494 },
                { question: "If something is 'De jure', it means:", options: ["By custom", "By law", "By force", "By popular demand"], correctOptionIndex: 1, explanation: "'De jure' is Latin for 'by right' or 'by law', meaning something existing legally.", difficulty: "easy", source_page: 494 },
                { question: "The phrase 'Status quo' refers to:", options: ["A new condition", "The current state of affairs", "A past event", "A future plan"], correctOptionIndex: 1, explanation: "'Status quo' is Latin for 'the existing state of affairs', particularly in social or political matters.", difficulty: "easy", source_page: 495 },
                { question: "'Vice versa' means:", options: ["In agreement", "The other way around", "Exactly the same", "On the contrary"], correctOptionIndex: 1, explanation: "'Vice versa' is Latin for 'the other way around' or 'conversely'.", difficulty: "easy", source_page: 495 },
                { question: "What does 'Ad nauseam' imply?", options: ["To the point of disgust", "At the end of the day", "With great pleasure", "Without a doubt"], correctOptionIndex: 0, explanation: "'Ad nauseam' is Latin for 'to sickness' or 'to the point of nausea', meaning something repeated excessively.", difficulty: "medium", source_page: 494 },
                { question: "'Ipso facto' means:", options: ["By chance", "By a new law", "By the fact itself", "By order"], correctOptionIndex: 2, explanation: "'Ipso facto' is Latin for 'by the fact itself', meaning something is true as an unavoidable consequence of an action or fact.", difficulty: "medium", source_page: 494 },
                { question: "The phrase 'Bona fide' means:", options: ["Bad faith", "Good intentions", "By coincidence", "In secrecy"], correctOptionIndex: 1, explanation: "'Bona fide' is Latin for 'in good faith', meaning sincere or genuine.", difficulty: "medium", source_page: 494 },
                { question: "What is the meaning of 'Carpe diem'?", options: ["Seize the day", "Live and let live", "Take your time", "Never give up"], correctOptionIndex: 0, explanation: "'Carpe diem' is Latin for 'seize the day', urging one to make the most of the present moment.", difficulty: "medium", source_page: 494 },
                { question: "'Modus operandi' refers to:", options: ["Method of operation", "Standard procedure", "Code of conduct", "Official decree"], correctOptionIndex: 0, explanation: "'Modus operandi' (often shortened to M.O.) is Latin for 'method of operating', used to describe a typical way of doing something.", difficulty: "medium", source_page: 495 },
                { question: "The phrase 'Per se' means:", options: ["Through oneself", "By itself", "With others", "On principle"], correctOptionIndex: 1, explanation: "'Per se' is Latin for 'by itself' or 'intrinsically'.", difficulty: "medium", source_page: 495 },
                { question: "What does 'Prima facie' mean?", options: ["At first sight", "Before the facts", "After careful consideration", "Against all odds"], correctOptionIndex: 0, explanation: "'Prima facie' is Latin for 'at first sight', meaning something appears true based on initial evidence.", difficulty: "medium", source_page: 495 },
                { question: "The term 'Quid pro quo' means:", options: ["A legal dispute", "A special offer", "Something for something", "Without conditions"], correctOptionIndex: 2, explanation: "'Quid pro quo' is Latin for 'something for something', meaning an exchange of goods or services.", difficulty: "medium", source_page: 495 },
                { question: "'Errata' refers to:", options: ["Correction", "Errors", "Additions", "Explanations"], correctOptionIndex: 1, explanation: "'Errata' is Latin for 'errors', especially a list of errors in a printed work discovered after printing.", difficulty: "tough", source_page: 494 },
                { question: "What does 'E.g.' stand for?", options: ["For example", "In essence", "That is", "On occasion"], correctOptionIndex: 0, explanation: "'E.g.' is an abbreviation of the Latin phrase 'exempli gratia', meaning 'for example'.", difficulty: "easy", source_page: 496 },
                { question: "The abbreviation 'i.e.' means:", options: ["In general", "In other words", "In particular", "Instead of"], correctOptionIndex: 1, explanation: "'I.e.' is an abbreviation of the Latin phrase 'id est', meaning 'that is' or 'in other words'.", difficulty: "easy", source_page: 496 },
                { question: "'Et cetera' (etc.) means:", options: ["And more", "And so forth", "And other things", "All of the above"], correctOptionIndex: 3, explanation: "'Et cetera' is Latin for 'and other things' or 'and so forth'.", difficulty: "easy", source_page: 496 },
                { question: "The phrase 'Persona non grata' signifies:", options: ["A welcome person", "An unwelcome person", "A public figure", "A mysterious stranger"], correctOptionIndex: 1, explanation: "'Persona non grata' is Latin for 'an unwelcome person', often used in diplomatic contexts.", difficulty: "tough", source_page: 495 },
                { question: "'Coup de grâce' means:", options: ["A sudden attack", "A decisive blow", "A graceful movement", "A diplomatic success"], correctOptionIndex: 1, explanation: "'Coup de grâce' is French for 'blow of mercy', meaning a finishing blow or decisive act.", difficulty: "tough", source_page: 494 },
                { question: "What does 'Faux pas' mean?", options: ["A social blunder", "A fashion statement", "A false step", "A secret passage"], correctOptionIndex: 0, explanation: "'Faux pas' is French for 'false step', meaning an embarrassing or tactless act or remark in a social situation.", difficulty: "medium", source_page: 494 },
                { question: "'Laissez-faire' means:", options: ["Strict control", "Government intervention", "Let do; allow to do", "Free market"], correctOptionIndex: 2, explanation: "'Laissez-faire' is French for 'let do', advocating minimal government interference in the economy.", difficulty: "medium", source_page: 494 },
                { question: "The term 'Déjà vu' refers to:", options: ["A fresh perspective", "A new experience", "Already seen", "A forgotten memory"], correctOptionIndex: 2, explanation: "'Déjà vu' is French for 'already seen', referring to the feeling of having previously experienced something that is actually happening for the first time.", difficulty: "easy", source_page: 496 },
                { question: "'A priori' means:", options: ["From experience", "From theory", "From observation", "From experiment"], correctOptionIndex: 1, explanation: "'A priori' is Latin for 'from the earlier', referring to knowledge or justification independent of experience.", difficulty: "tough", source_page: 494 },
                { question: "'A posteriori' means:", options: ["From experience", "From theory", "From assumption", "From deduction"], correctOptionIndex: 0, explanation: "'A posteriori' is Latin for 'from the latter', referring to knowledge or justification dependent on experience.", difficulty: "tough", source_page: 494 },
                { question: "The phrase 'En masse' means:", options: ["In small groups", "In a hurry", "In a large body; all together", "Individually"], correctOptionIndex: 2, explanation: "'En masse' is French for 'in a mass', meaning in a large group; all together.", difficulty: "medium", source_page: 494 },
                { question: "What does 'In toto' mean?", options: ["In part", "In total; entirely", "In principle", "In progress"], correctOptionIndex: 1, explanation: "'In toto' is Latin for 'in all' or 'entirely'.", difficulty: "medium", source_page: 494 },
                { question: "'C'est la vie' means:", options: ["Such is life", "That is the way", "It's a wonderful life", "Live your life"], correctOptionIndex: 0, explanation: "'C'est la vie' is French for 'that's life' or 'such is life', an expression used to suggest that things happen for a reason or that life is unpredictable.", difficulty: "easy", source_page: 496 },
                { question: "The term 'Non sequitur' refers to:", options: ["A logical conclusion", "A statement that does not logically follow", "A profound insight", "A scientific theory"], correctOptionIndex: 1, explanation: "'Non sequitur' is Latin for 'it does not follow', referring to a conclusion or statement that does not logically follow from the previous argument or statement.", difficulty: "tough", source_page: 495 },
                { question: "What does 'E pluribus unum' mean?", options: ["One nation, one destiny", "Out of many, one", "Freedom for all", "United we stand"], correctOptionIndex: 1, explanation: "'E pluribus unum' is Latin for 'out of many, one', a traditional motto of the United States.", difficulty: "tough", source_page: 496 },
                { question: "The phrase 'Du jour' means:", options: ["For tomorrow", "Of the day", "From the past", "Always"], correctOptionIndex: 1, explanation: "'Du jour' is French for 'of the day', often used in menus (e.g., 'soup du jour').", difficulty: "medium", source_page: 496 }
            ];
            quizQuestions.push(...englishMCQs);

            // General Abilities (30 MCQs)
            const generalAbilitiesMCQs = [
                // GA - June 16: Heights and Distances: Pages 546-547 (30 MCQs)
                { question: "A ladder 10 m long is placed against a wall. If it reaches a height of 8 m on the wall, how far is the foot of the ladder from the wall?", options: ["6 m", "8 m", "10 m", "12 m"], correctOptionIndex: 0, explanation: "Using Pythagorean theorem: a^2 + b^2 = c^2. Here, 8^2 + b^2 = 10^2 => 64 + b^2 = 100 => b^2 = 36 => b = 6 m.", difficulty: "easy", source_page: 546 },
                { question: "A pole breaks at a height of 5 m from the ground and its top touches the ground at a distance of 12 m from its base. What was the original height of the pole?", options: ["13 m", "17 m", "18 m", "20 m"], correctOptionIndex: 2, explanation: "Using Pythagorean theorem: the broken part forms the hypotenuse. 5^2 + 12^2 = c^2 => 25 + 144 = c^2 => 169 = c^2 => c = 13 m. Original height = broken part + standing part = 13 + 5 = 18 m.", difficulty: "medium", source_page: 546 },
                { question: "From a point on the ground, 30 m away from the foot of a tower, the angle of elevation of the top of the tower is 30°. Find the height of the tower.", options: ["10sqrt(3) m", "20sqrt(3) m", "30 m", "30sqrt(3) m"], correctOptionIndex: 0, explanation: "Let h be the height of the tower. tan 30° = height / base. 1/sqrt(3) = h/30 => h = 30/sqrt(3) = 10sqrt(3) m.", difficulty: "medium", source_page: 546 },
                { question: "The angle of elevation of a ladder leaning against a wall is 60° and the foot of the ladder is 4.6 m away from the wall. What is the length of the ladder?", options: ["4.6 m", "9.2 m", "2.3 m", "6.9 m"], correctOptionIndex: 1, explanation: "Let L be the length of the ladder. cos 60° = base / hypotenuse. 1/2 = 4.6 / L => L = 4.6 * 2 = 9.2 m.", difficulty: "medium", source_page: 546 },
                { question: "A vertical pole of length 6 m casts a shadow 2sqrt(3) m long on the ground. What is the angle of elevation of the sun?", options: ["30°", "45°", "60°", "90°"], correctOptionIndex: 2, explanation: "Let θ be the angle of elevation. tan θ = height / base = 6 / (2*sqrt(3)) = 3/sqrt(3) = sqrt(3). Since tan 60° = sqrt(3), θ = 60°.", difficulty: "tough", source_page: 547 },
                { question: "The angle of elevation of the top of a tree from a point on the ground is 45°. If the tree is 20 m high, how far is the point from the base of the tree?", options: ["10 m", "20 m", "30 m", "40 m"], correctOptionIndex: 1, explanation: "Let d be the distance. tan 45° = height / base. 1 = 20 / d => d = 20 m.", difficulty: "easy", source_page: 546 },
                { question: "A kite is flying at a height of 60 m above the ground. The string attached to the kite is tied to a point on the ground. The inclination of the string with the ground is 60°. Find the length of the string.", options: ["60sqrt(3) m", "40sqrt(3) m", "30sqrt(3) m", "120 m"], correctOptionIndex: 1, explanation: "Let L be the length of the string. sin 60° = height / hypotenuse. sqrt(3)/2 = 60 / L => L = 120/sqrt(3) = 40sqrt(3) m.", difficulty: "tough", source_page: 547 },
                { question: "The angle of depression of a car approaching a tower is 30° from the top of the tower which is 75 m high. What is the distance of the car from the base of the tower?", options: ["75sqrt(3) m", "75/sqrt(3) m", "75 m", "150 m"], correctOptionIndex: 0, explanation: "The angle of elevation from the car to the top of the tower is also 30°. Let d be the distance. tan 30° = height / base. 1/sqrt(3) = 75 / d => d = 75sqrt(3) m.", difficulty: "medium", source_page: 547 },
                { question: "A building is 50 m high. A man observes the top of the building from a distance of 50 m from its base. What is the angle of elevation?", options: ["30°", "45°", "60°", "90°"], correctOptionIndex: 1, explanation: "Let θ be the angle of elevation. tan θ = height / base = 50 / 50 = 1. Since tan 45° = 1, θ = 45°.", difficulty: "easy", source_page: 546 },
                { question: "Two poles of height 10 m and 15 m stand vertically on a plane ground. If the distance between their bases is 12 m, what is the distance between their tops?", options: ["5 m", "12 m", "13 m", "17 m"], correctOptionIndex: 2, explanation: "Draw a horizontal line from the top of the shorter pole to the taller pole. This forms a right-angled triangle. The base is 12 m, and the height difference is 15 - 10 = 5 m. Hypotenuse (distance between tops) = sqrt(12^2 + 5^2) = sqrt(144 + 25) = sqrt(169) = 13 m.", difficulty: "tough", source_page: 547 },
                { question: "An observer 1.5 m tall is 28.5 m away from a tower. The angle of elevation of the top of the tower from his eyes is 45°. What is the height of the tower?", options: ["28.5 m", "30 m", "27 m", "29 m"], correctOptionIndex: 1, explanation: "Let h be the height of the tower above the observer's eye level. tan 45° = h / 28.5 => 1 = h / 28.5 => h = 28.5 m. Total height of tower = h + observer's height = 28.5 + 1.5 = 30 m.", difficulty: "medium", source_page: 547 },
                { question: "The shadow of a tower is equal to its height. The angle of elevation of the sun is:", options: ["30°", "45°", "60°", "90°"], correctOptionIndex: 1, explanation: "Let h be the height and s be the shadow length. Given h = s. tan θ = h / s = h / h = 1. Since tan 45° = 1, θ = 45°.", difficulty: "easy", source_page: 546 },
                { question: "A pole of height 15 m casts a shadow of 15sqrt(3) m. What is the angle of elevation of the sun?", options: ["30°", "45°", "60°", "90°"], correctOptionIndex: 0, explanation: "Let θ be the angle of elevation. tan θ = height / base = 15 / (15*sqrt(3)) = 1/sqrt(3). Since tan 30° = 1/sqrt(3), θ = 30°.", difficulty: "medium", source_page: 547 },
                { question: "From the top of a cliff 100 m high, the angle of depression of a boat is 30°. Find the distance of the boat from the foot of the cliff.", options: ["100 m", "100sqrt(3) m", "50sqrt(3) m", "200 m"], correctOptionIndex: 1, explanation: "The angle of elevation from the boat to the cliff is also 30°. Let d be the distance. tan 30° = height / base. 1/sqrt(3) = 100 / d => d = 100sqrt(3) m.", difficulty: "medium", source_page: 547 },
                { question: "A man standing at a distance of 10 m from a pole observes the angle of elevation of its top to be 60°. What is the height of the pole?", options: ["10 m", "10sqrt(3) m", "5sqrt(3) m", "20 m"], correctOptionIndex: 1, explanation: "Let h be the height of the pole. tan 60° = height / base. sqrt(3) = h / 10 => h = 10sqrt(3) m.", difficulty: "easy", source_page: 546 },
                { question: "The angle of elevation of the top of a building from a point on the ground is 30°. On walking 30 m towards the building, the angle of elevation becomes 60°. Find the height of the building.", options: ["15sqrt(3) m", "30 m", "30sqrt(3) m", "10sqrt(3) m"], correctOptionIndex: 0, explanation: "Let h be the height of the building and x be the distance from the point where the angle is 60° to the base. For 60°: tan 60° = h/x => sqrt(3) = h/x => h = x*sqrt(3). For 30°: tan 30° = h/(x+30) => 1/sqrt(3) = h/(x+30) => h*sqrt(3) = x+30. Substitute h from the first equation: (x*sqrt(3))*sqrt(3) = x+30 => 3x = x+30 => 2x = 30 => x = 15 m. Then h = 15*sqrt(3) m.", difficulty: "tough", source_page: 547 },
                { question: "A tree 10 m high is broken by the wind such that its top touches the ground and makes an angle of 30° with the ground. At what height from the bottom did the tree break?", options: ["5 m", "10/3 m", "5sqrt(3) m", "2.5 m"], correctOptionIndex: 1, explanation: "Let h be the height from the bottom at which the tree broke. The part that broke off has length (10-h). This part forms the hypotenuse of a right-angled triangle. sin 30° = opposite / hypotenuse = h / (10-h). 1/2 = h / (10-h) => 10-h = 2h => 10 = 3h => h = 10/3 m.", difficulty: "tough", source_page: 547 },
                { question: "The angle of elevation of the top of a tower from two points at a distance 'a' and 'b' (a > b) from the base of the tower and in the same straight line with it are complementary. What is the height of the tower?", options: ["a+b", "ab", "sqrt(ab)", "a/b"], correctOptionIndex: 2, explanation: "Let h be the height of the tower. Let the angles be θ and 90° - θ. tan θ = h/b and tan (90° - θ) = h/a. Since tan (90° - θ) = cot θ = 1/tan θ, we have 1/tan θ = h/a => tan θ = a/h. So, h/b = a/h => h^2 = ab => h = sqrt(ab).", difficulty: "tough", source_page: 547 },
                { question: "A vertical pole 8 m long casts a shadow 8 m long. The angle of elevation of the sun at that moment is:", options: ["30°", "45°", "60°", "90°"], correctOptionIndex: 1, explanation: "Since height = shadow length, the triangle formed is an isosceles right-angled triangle, meaning the angle of elevation is 45°. tan θ = 8/8 = 1 => θ = 45°.", difficulty: "easy", source_page: 546 },
                { question: "The length of a string of a kite is 100 m and it makes an angle of 60° with the horizontal. Find the height of the kite.", options: ["50 m", "50sqrt(3) m", "100 m", "100sqrt(3) m"], correctOptionIndex: 1, explanation: "Let h be the height. sin 60° = height / string length. sqrt(3)/2 = h / 100 => h = 100 * sqrt(3)/2 = 50sqrt(3) m.", difficulty: "medium", source_page: 547 },
                { question: "From the top of a lighthouse 75 m high, the angles of depression of two ships are 30° and 45°. If the ships are on the same side of the lighthouse and in a straight line, find the distance between the two ships.", options: ["75(sqrt(3)-1) m", "75(sqrt(3)+1) m", "75 m", "75sqrt(3) m"], correctOptionIndex: 0, explanation: "Let the distance of the closer ship be x and the farther ship be y. For 45°: tan 45° = 75/x => 1 = 75/x => x = 75 m. For 30°: tan 30° = 75/y => 1/sqrt(3) = 75/y => y = 75sqrt(3) m. Distance between ships = y - x = 75sqrt(3) - 75 = 75(sqrt(3)-1) m.", difficulty: "tough", source_page: 547 },
                { question: "A bird is flying at a height of 50 m. From a point on the ground, the angle of elevation of the bird is 45°. What is the horizontal distance of the bird from the point on the ground?", options: ["25 m", "50 m", "50sqrt(2) m", "50sqrt(3) m"], correctOptionIndex: 1, explanation: "Let d be the horizontal distance. tan 45° = height / distance. 1 = 50 / d => d = 50 m.", difficulty: "easy", source_page: 546 },
                { question: "From a point 10 m away from the base of a tower, the angle of elevation to its top is 60°. Find the height of the tower.", options: ["10sqrt(3) m", "20sqrt(3) m", "10 m", "20 m"], correctOptionIndex: 0, explanation: "Let h be the height of the tower. tan 60° = height / base. sqrt(3) = h / 10 => h = 10sqrt(3) m.", difficulty: "easy", source_page: 546 },
                { question: "A vertical post 15 feet high casts a shadow 5 feet long. At the same time, a tower casts a shadow 30 feet long. What is the height of the tower?", options: ["90 feet", "60 feet", "45 feet", "30 feet"], correctOptionIndex: 0, explanation: "The ratio of height to shadow length is constant. Height of post / Shadow of post = Height of tower / Shadow of tower. 15 / 5 = Height of tower / 30 => 3 = Height of tower / 30 => Height of tower = 3 * 30 = 90 feet.", difficulty: "medium", source_page: 547 },
                { question: "From the top of a building 100 m high, the angle of depression of a ball on the ground is 60°. How far is the ball from the base of the building?", options: ["100sqrt(3) m", "100/sqrt(3) m", "100 m", "200/sqrt(3) m"], correctOptionIndex: 1, explanation: "The angle of elevation from the ball to the top of the building is also 60°. Let d be the distance. tan 60° = height / base. sqrt(3) = 100 / d => d = 100/sqrt(3) m.", difficulty: "medium", source_page: 547 },
                { question: "A kite is flying with a string 150 m long. If the string makes an angle of 30° with the ground, what is the height of the kite?", options: ["75 m", "75sqrt(3) m", "150 m", "150sqrt(3) m"], correctOptionIndex: 0, explanation: "Let h be the height. sin 30° = height / string length. 1/2 = h / 150 => h = 150 / 2 = 75 m.", difficulty: "easy", source_page: 546 },
                { question: "A vertical tower stands on a horizontal plane and is surmounted by a vertical flagstaff of height 5 m. At a point on the plane, the angles of elevation of the bottom and top of the flagstaff are 30° and 60° respectively. Find the height of the tower.", options: ["2.5 m", "5 m", "2.5sqrt(3) m", "5sqrt(3) m"], correctOptionIndex: 0, explanation: "Let h be the height of the tower and x be the distance from the point to the tower's base. For the tower: tan 30° = h/x => 1/sqrt(3) = h/x => x = h*sqrt(3). For the top of flagstaff: tan 60° = (h+5)/x => sqrt(3) = (h+5)/x. Substitute x: sqrt(3) = (h+5)/(h*sqrt(3)) => 3h = h+5 => 2h = 5 => h = 2.5 m.", difficulty: "tough", source_page: 547 },
                { question: "The tops of two poles of height 15 m and 25 m are connected by a wire of length 26 m. Find the distance between their bases.", options: ["10 m", "12 m", "24 m", "20 m"], correctOptionIndex: 2, explanation: "The difference in heights is 25 - 15 = 10 m. This forms one leg of a right-angled triangle. The wire (26 m) is the hypotenuse. Let d be the distance between bases. d^2 + 10^2 = 26^2 => d^2 + 100 = 676 => d^2 = 576 => d = 24 m.", difficulty: "tough", source_page: 547 }
            ];
            quizQuestions.push(...generalAbilitiesMCQs);

            // Ensure exact counts for difficulty levels before trimming to 100
            let easyQuestions = [];
            let mediumQuestions = [];
            let toughQuestions = [];

            // Categorize questions by initial difficulty
            quizQuestions.forEach(q => {
                if (q.difficulty === "easy") easyQuestions.push(q);
                else if (q.difficulty === "medium") mediumQuestions.push(q);
                else if (q.difficulty === "tough") toughQuestions.push(q);
            });

            // Target distribution: 10 Easy, 50 Medium, 40 Tough
            const targetEasy = 10;
            const targetMedium = 50;
            const targetTough = 40;

            // Adjust Easy questions
            while (easyQuestions.length > targetEasy && mediumQuestions.length < targetMedium) {
                mediumQuestions.push(easyQuestions.pop());
            }
            while (easyQuestions.length < targetEasy && (easyQuestions.length + mediumQuestions.length + toughQuestions.length) < 100 && (mediumQuestions.length > 0 || toughQuestions.length > 0)) {
                if (mediumQuestions.length > 0) {
                    easyQuestions.push(mediumQuestions.pop());
                } else if (toughQuestions.length > 0) {
                    easyQuestions.push(toughQuestions.pop());
                } else {
                    break;
                }
            }


            // Adjust Tough questions
            while (toughQuestions.length > targetTough && mediumQuestions.length < targetMedium) {
                mediumQuestions.push(toughQuestions.pop());
            }
            while (toughQuestions.length < targetTough && (easyQuestions.length + mediumQuestions.length + toughQuestions.length) < 100 && (mediumQuestions.length > 0 || easyQuestions.length > 0)) {
                if (mediumQuestions.length > 0) {
                    toughQuestions.push(mediumQuestions.pop());
                } else if (easyQuestions.length > 0) {
                    toughQuestions.push(easyQuestions.pop());
                } else {
                    break;
                }
            }


            // Adjust Medium questions
            while (mediumQuestions.length > targetMedium && (easyQuestions.length < targetEasy || toughQuestions.length < targetTough)) {
                if (easyQuestions.length < targetEasy) {
                    easyQuestions.push(mediumQuestions.pop());
                } else if (toughQuestions.length < targetTough) {
                    toughQuestions.push(mediumQuestions.pop());
                } else {
                    break;
                }
            }


            // Recombine and shuffle before final trim
            quizQuestions = [...easyQuestions, ...mediumQuestions, ...toughQuestions];
            shuffleArray(quizQuestions); // Shuffle the entire combined list

            // Trim to exactly 100 questions
            quizQuestions = quizQuestions.slice(0, 100);

            // Recalculate difficulty counts to ensure final distribution (for logging/debugging)
            let finalEasyCount = quizQuestions.filter(q => q.difficulty === 'easy').length;
            let finalMediumCount = quizQuestions.filter(q => q.difficulty === 'medium').length;
            let finalToughCount = quizQuestions.filter(q => q.difficulty === 'tough').length;
            console.log(`Final Question Counts: Easy=${finalEasyCount}, Medium=${finalMediumCount}, Tough=${finalToughCount}, Total=${quizQuestions.length}`);


            // Randomly select one "Today's Special Question"
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Initialize the quiz when the script loads
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 16JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });
    </script>
</body>
</html>
