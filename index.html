<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 28, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include seedrandom.js for consistent daily question shuffling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <style>
        /* Base Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Top Bar Styling */
        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Header Section Styling */
        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        /* Progress Bar Styling */
        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Banner Image and Credits */
        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        /* Card Styling (Login, Candidate, Quiz, Results Pages) */
        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        /* Button Styling */
        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Option Button Styling */
        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        /* Special Question Highlight */
        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* Explanation Section */
        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        /* Timer and Question Progress Display */
        .timer-display, .question-progress {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start;
            }
            .top-bar .date-display {
                order: 1;
                font-size: 0.8rem;
                align-self: flex-start;
            }
            .top-bar .whatsapp-link {
                order: 2;
                font-size: 0.8rem;
                align-self: flex-end;
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Keyframe Animations */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        // Disable right-click, copy/paste, and developer tools for security
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault();
            }
            if (e.key === 'F12') {
                e.preventDefault();
            }
        });
        document.addEventListener('copy', event => event.preventDefault());
        document.addEventListener('paste', event => event.preventDefault());
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="free">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 100</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 28, 2025";
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Function to update the live date display and handle responsive positioning
        function updateLiveDate() {
            document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
            document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
            document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.classList.remove('justify-end');
                liveDateElement.classList.add('justify-start');
            } else {
                liveDateElement.classList.remove('justify-start');
                liveDateElement.classList.add('justify-end');
            }
        }


        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 25; // Quiz duration set to 25 minutes
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "20 minutes 30 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            // Score calculation: 2 marks for correct, -1 for incorrect. 100 questions total, so max score 200.
            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 28 quiz: ID is 28JUNE, password is 'free'
            const expectedLoginId = "28JUNE";
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // Seed the random number generator based on the date for consistent daily quizzes
            const dateSeed = parseInt(CURRENT_DATE_STR.replace(/[^0-9]/g, '')); // e.g., 20250628
            Math.seedrandom(dateSeed);

            // June 28, 2025:
            // General Knowledge: World Geography (Part 1: Continents, Plateaus, Grasslands, Mountain Passes, Deserts): Pages 20-24
            // Mathematics: Simplification: Pages 511-512
            // Urdu: History of Urdu Literature & Forms: Urdu Section Pages 7-10

            const generalKnowledgeMCQs = [
                // World Geography (Part 1: Continents, Plateaus, Grasslands, Mountain Passes, Deserts): Pages 20-24 (34 questions)
                { question: "Which is the smallest continent by area?", options: ["Europe", "Australia", "Antarctica", "South America"], correctOptionIndex: 1, explanation: "Australia is considered the smallest continent.", difficulty: "easy", source_page: 20 },
                { question: "The highest plateau in the world is the:", options: ["Deccan Plateau", "Tibetan Plateau", "Bolivian Altiplano", "Columbia Plateau"], correctOptionIndex: 1, explanation: "The Tibetan Plateau is known as the 'Roof of the World' and is the highest.", difficulty: "medium", source_page: 22 },
                { question: "The 'Pampas' are famous grasslands located in which continent?", options: ["Africa", "Asia", "South America", "North America"], correctOptionIndex: 2, explanation: "The Pampas are fertile lowlands in South America, primarily in Argentina.", difficulty: "easy", source_page: 23 },
                { question: "Which mountain pass connects Pakistan and Afghanistan?", options: ["Karakoram Pass", "Bolan Pass", "Khunjerab Pass", "Khyber Pass"], correctOptionIndex: 3, explanation: "The Khyber Pass is a historic trade route connecting Pakistan and Afghanistan.", difficulty: "medium", source_page: 24 },
                { question: "The 'Sahara Desert' is located in which continent?", options: ["Asia", "Africa", "Australia", "North America"], correctOptionIndex: 1, explanation: "The Sahara Desert is the largest hot desert in the world, located in North Africa.", difficulty: "easy", source_page: 24 },
                { question: "The 'Great Plains' are vast grasslands found in which continent?", options: ["Europe", "North America", "Australia", "Africa"], correctOptionIndex: 1, explanation: "The Great Plains are a broad expanse of flat land in North America.", difficulty: "easy", source_page: 23 },
                { question: "Which continent is entirely in the Southern Hemisphere?", options: ["Asia", "Africa", "Antarctica", "Europe"], correctOptionIndex: 2, explanation: "Antarctica is centered on the South Pole and is entirely in the Southern Hemisphere.", difficulty: "easy", source_page: 20 },
                { question: "The 'Patagonian Plateau' is in which country?", options: ["Brazil", "Chile", "Argentina", "Bolivia"], correctOptionIndex: 2, explanation: "The Patagonian Plateau is a large arid to semi-arid plateau covering much of southern Argentina.", difficulty: "medium", source_page: 22 },
                { question: "The 'Steppes' are temperate grasslands found in which region?", options: ["North America", "Australia", "Eurasia", "South America"], correctOptionIndex: 2, explanation: "The Eurasian Steppe is a vast steppe ecoregion extending from Hungary to Manchuria.", difficulty: "medium", source_page: 23 },
                { question: "Which mountain pass links Gilgit-Baltistan with China?", options: ["Lowari Pass", "Shandur Pass", "Khunjerab Pass", "Babusar Pass"], correctOptionIndex: 2, explanation: "The Khunjerab Pass is a high mountain pass in the Karakoram Mountains, on the northern border of Pakistan with China.", difficulty: "medium", source_page: 24 },
                { question: "The 'Gobi Desert' stretches across which two countries?", options: ["India and China", "Mongolia and China", "Kazakhstan and Russia", "Iran and Pakistan"], correctOptionIndex: 1, explanation: "The Gobi Desert is a large desert region in East Asia, covering parts of Northern and Northeastern China and Southern Mongolia.", difficulty: "easy", source_page: 24 },
                { question: "Which of these is NOT a continent?", options: ["Africa", "Oceania", "Greenland", "Europe"], correctOptionIndex: 2, explanation: "Greenland is the world's largest island, not a continent.", difficulty: "easy", source_page: 20 },
                { question: "The 'Colorado Plateau' is known for its dramatic landscapes in which country?", options: ["Canada", "USA", "Mexico", "Australia"], correctOptionIndex: 1, explanation: "The Colorado Plateau is a physiographic region of the Intermontane Plateaus, centered on the Four Corners region of the Southwestern United States.", difficulty: "medium", source_page: 22 },
                { question: "The 'Savanna' grasslands are most extensive in which continent?", options: ["Asia", "South America", "Africa", "Australia"], correctOptionIndex: 2, explanation: "African savannas are extensive grasslands characterized by scattered trees.", difficulty: "easy", source_page: 23 },
                { question: "The 'Silk Road' historically passed through which mountain range and its passes?", options: ["Andes", "Alps", "Himalayas", "Pamir Mountains"], correctOptionIndex: 3, explanation: "The Silk Road extensively used passes through the Pamir Mountains, connecting Central Asia with China.", difficulty: "tough", source_page: 24 },
                { question: "The 'Kalahari Desert' is primarily located in which part of Africa?", options: ["North", "East", "West", "Southern"], correctOptionIndex: 3, explanation: "The Kalahari Desert is a large semi-arid sandy savanna in Southern Africa.", difficulty: "easy", source_page: 24 },
                { question: "Which continent has the most countries?", options: ["Asia", "Europe", "Africa", "North America"], correctOptionIndex: 2, explanation: "Africa has 54 recognized countries, more than any other continent.", difficulty: "easy", source_page: 20 },
                { question: "The 'Columbia Plateau' is a large igneous province in which country?", options: ["Brazil", "USA", "Canada", "Russia"], correctOptionIndex: 1, explanation: "The Columbia Plateau is a vast plateau region in the northwestern United States.", difficulty: "medium", source_page: 22 },
                { question: "The 'Downs' are temperate grasslands specific to which country?", options: ["New Zealand", "South Africa", "Australia", "Argentina"], correctOptionIndex: 2, explanation: "The Downs refer to a type of grassy upland, often specifically associated with areas in Australia and England.", difficulty: "medium", source_page: 23 },
                { question: "Which mountain pass is located between Pakistan and China?", options: ["Bolan Pass", "Khunjerab Pass", "Lowari Pass", "Gomal Pass"], correctOptionIndex: 1, explanation: "The Khunjerab Pass connects Gilgit-Baltistan (Pakistan) and Xinjiang (China).", difficulty: "easy", source_page: 24 },
                { question: "The 'Arabian Desert' covers most of which peninsula?", options: ["Indian Subcontinent", "Arabian Peninsula", "Iberian Peninsula", "Balkan Peninsula"], correctOptionIndex: 1, explanation: "The Arabian Desert is a vast desert wilderness in Western Asia, covering most of the Arabian Peninsula.", difficulty: "easy", source_page: 24 },
                { question: "The continent of 'Europe' is separated from Asia by which mountains?", options: ["Andes", "Urals", "Alps", "Himalayas"], correctOptionIndex: 1, explanation: "The Ural Mountains are often considered the natural boundary between Europe and Asia.", difficulty: "easy", source_page: 20 },
                { question: "The 'Massif Central' is a highland region (plateau) in which country?", options: ["Germany", "France", "Spain", "Italy"], correctOptionIndex: 1, explanation: "The Massif Central is a highland region in south-central France.", difficulty: "tough", source_page: 22 },
                { question: "The 'Veld' grasslands are found in which part of Africa?", options: ["East Africa", "West Africa", "Southern Africa", "Central Africa"], correctOptionIndex: 2, explanation: "The Veld is a broad, flat grassland region in Southern Africa.", difficulty: "medium", source_page: 23 },
                { question: "The 'Gomal Pass' is located in which province of Pakistan?", options: ["Punjab", "Sindh", "Balochistan", "Khyber Pakhtunkhwa"], correctOptionIndex: 3, explanation: "The Gomal Pass is in the South Waziristan District of Khyber Pakhtunkhwa, Pakistan.", difficulty: "tough", source_page: 24 },
                { question: "The 'Atacama Desert', one of the driest places on Earth, is in which continent?", options: ["Africa", "Asia", "South America", "Australia"], correctOptionIndex: 2, explanation: "The Atacama Desert is a plateau in South America, extending from Peru to Chile.", difficulty: "easy", source_page: 24 },
                { question: "Which continent is known for its 'Amazon Rainforest'?", options: ["Africa", "South America", "Asia", "North America"], correctOptionIndex: 1, explanation: "The Amazon Rainforest is predominantly located in South America.", difficulty: "easy", source_page: 20 },
                { question: "The 'Deccan Plateau' is a large plateau forming the major part of which country?", options: ["China", "India", "Iran", "Turkey"], correctOptionIndex: 1, explanation: "The Deccan Plateau covers most of peninsular India.", difficulty: "easy", source_page: 22 },
                { question: "The 'Prairies' are extensive grasslands primarily located in which country?", options: ["Argentina", "Russia", "USA", "South Africa"], correctOptionIndex: 2, explanation: "The Prairies are characteristic grasslands of North America, especially the United States and Canada.", difficulty: "easy", source_page: 23 },
                { question: "Which mountain pass connects Peshawar with Kabul?", options: ["Bolan Pass", "Khyber Pass", "Tochi Pass", "Malakand Pass"], correctOptionIndex: 1, explanation: "The Khyber Pass historically connected Peshawar in Pakistan with Kabul in Afghanistan.", difficulty: "easy", source_page: 24 },
                { question: "Which desert is also known as the 'Great Indian Desert'?", options: ["Thar Desert", "Gobi Desert", "Karakum Desert", "Dasht-e Kavir"], correctOptionIndex: 0, explanation: "The Thar Desert is also known as the Great Indian Desert.", difficulty: "medium", source_page: 24 },
                { question: "Which is the most populous continent?", options: ["Africa", "Europe", "Asia", "North America"], correctOptionIndex: 2, explanation: "Asia is the most populous continent, home to roughly 60% of the world's population.", difficulty: "easy", source_page: 20 },
                { question: "The 'Bolivian Altiplano' is a high plateau located in which continent?", options: ["Asia", "Africa", "South America", "Europe"], correctOptionIndex: 2, explanation: "The Altiplano is an extensive high plateau in west-central South America.", difficulty: "medium", source_page: 22 },
                { question: "The 'Canterbury Plains' are prominent grasslands in which country?", options: ["Australia", "New Zealand", "Ireland", "England"], correctOptionIndex: 1, explanation: "The Canterbury Plains are an area in New Zealand, to the east of the South Island's Southern Alps.", difficulty: "tough", source_page: 23 }
            ];

            const mathematicsMCQs = [
                // Simplification: Pages 511-512 (33 questions)
                { question: "Simplify: $10 + 5 \\times 2 - 8 / 4$", options: ["12", "16", "20", "28"], correctOptionIndex: 1, explanation: "Using PEMDAS/BODMAS: $10 + 10 - 2 = 18$. Mistake in my initial calculation. Correcting: $10 + (5 \\times 2) - (8 \\div 4) = 10 + 10 - 2 = 20 - 2 = 18$. Let me update the correct option. The options provided were for 16, 20, 28, 12. If the correct answer is 18, I need to adjust either the question or the options to fit the 100 questions requirement. Rechecking based on my new answer. If 18 is not an option, I'll select the closest or indicate an issue. My options do not contain 18. Let's make an option 18. The original explanation: $10 + (5 \\times 2) - (8 \\div 4) = 10 + 10 - 2 = 20 - 2 = 18$. I need to ensure the correct option matches. Let's use the closest option provided initially if I have to stick to it. If not, I will update. I'll make the correct option 18 and replace one of the existing incorrect ones. Let's update the options. Now the correct option will be 18.", options: ["12", "16", "18", "28"], correctOptionIndex: 2, difficulty: "easy", source_page: 511 },
                { question: "Calculate: $(3 + 5) \\times 4 - 6$", options: ["18", "24", "26", "30"], correctOptionIndex: 2, explanation: "$(3 + 5) \\times 4 - 6 = 8 \\times 4 - 6 = 32 - 6 = 26$.", difficulty: "easy", source_page: 511 },
                { question: "What is the value of $7 \\times (4 + 2) - 10$?", options: ["22", "32", "42", "52"], correctOptionIndex: 1, explanation: "$7 \\times (4 + 2) - 10 = 7 \\times 6 - 10 = 42 - 10 = 32$.", difficulty: "easy", source_page: 511 },
                { question: "Simplify: $15 \\div 3 + 7 - 2 \\times 4$", options: ["4", "5", "6", "8"], correctOptionIndex: 3, explanation: "$15 \\div 3 + 7 - 2 \\times 4 = 5 + 7 - 8 = 12 - 8 = 4$. My apologies, the correct option should be 4. Rechecking my provided correct option and adjusting if necessary. The options provided are 4, 5, 6, 8. My calculation is 4. The `correctOptionIndex` should be 0. Let's make the correctOptionIndex 0.", options: ["4", "5", "6", "8"], correctOptionIndex: 0, difficulty: "medium", source_page: 511 },
                { question: "Evaluate: $20 - 5 \\times 3 + 12 / 6$", options: ["7", "8", "9", "10"], correctOptionIndex: 0, explanation: "$20 - 5 \\times 3 + 12 \\div 6 = 20 - 15 + 2 = 5 + 2 = 7$.", difficulty: "medium", source_page: 512 },
                { question: "If $a = 3, b = 4$, calculate $2a + 3b$.", options: ["14", "18", "20", "22"], correctOptionIndex: 1, explanation: "$2(3) + 3(4) = 6 + 12 = 18$.", difficulty: "easy", source_page: 512 },
                { question: "Simplify: $\\sqrt{25} + 3^2 - (10 \\div 5)$", options: ["10", "12", "14", "16"], correctOptionIndex: 2, explanation: "$\\sqrt{25} + 3^2 - (10 \\div 5) = 5 + 9 - 2 = 14 - 2 = 12$. My apologies, the answer is 12, so the correct option should be 1. The options are 10, 12, 14, 16. My result 12 matches option 1. The correctOptionIndex will be 1.", options: ["10", "12", "14", "16"], correctOptionIndex: 1, difficulty: "medium", source_page: 512 },
                { question: "Calculate: $18 - (4 + 2) \\times 2 + 5$", options: ["11", "12", "13", "14"], correctOptionIndex: 0, explanation: "$18 - (4 + 2) \\times 2 + 5 = 18 - 6 \\times 2 + 5 = 18 - 12 + 5 = 6 + 5 = 11$.", difficulty: "medium", source_page: 511 },
                { question: "Evaluate: $4 \\times 5 + 6 \\div 2 - 1$", options: ["20", "21", "22", "23"], correctOptionIndex: 2, explanation: "$4 \\times 5 + 6 \\div 2 - 1 = 20 + 3 - 1 = 23 - 1 = 22$.", difficulty: "easy", source_page: 511 },
                { question: "Simplify: $30 \\div 5 - 2 \\times 3 + 10$", options: ["8", "10", "12", "14"], correctOptionIndex: 3, explanation: "$30 \\div 5 - 2 \\times 3 + 10 = 6 - 6 + 10 = 0 + 10 = 10$. My apologies, the correct option should be 10. The options are 8, 10, 12, 14. So the correctOptionIndex is 1.", options: ["8", "10", "12", "14"], correctOptionIndex: 1, difficulty: "medium", source_page: 511 },
                { question: "If $x = 5, y = 2$, calculate $x^2 - y^2$.", options: ["19", "21", "23", "25"], correctOptionIndex: 0, explanation: "$5^2 - 2^2 = 25 - 4 = 21$. My apologies, the correct option should be 21. The options are 19, 21, 23, 25. So the correctOptionIndex is 1.", options: ["19", "21", "23", "25"], correctOptionIndex: 1, difficulty: "easy", source_page: 512 },
                { question: "What is the value of $(10 + 2) \\div 3 + 7$", options: ["9", "10", "11", "12"], correctOptionIndex: 0, explanation: "$(10 + 2) \\div 3 + 7 = 12 \\div 3 + 7 = 4 + 7 = 11$. My apologies, the correct option should be 11. The options are 9, 10, 11, 12. So the correctOptionIndex is 2.", options: ["9", "10", "11", "12"], correctOptionIndex: 2, difficulty: "easy", source_page: 512 },
                { question: "Simplify: $6 \\times (7 - 2) + 4^2$", options: ["46", "56", "66", "76"], correctOptionIndex: 1, explanation: "$6 \\times (7 - 2) + 4^2 = 6 \\times 5 + 16 = 30 + 16 = 46$. My apologies, the correct option should be 46. The options are 46, 56, 66, 76. So the correctOptionIndex is 0.", options: ["46", "56", "66", "76"], correctOptionIndex: 0, difficulty: "medium", source_page: 511 },
                { question: "Calculate: $100 \\div 10 \\times 5 - 20$", options: ["20", "25", "30", "35"], correctOptionIndex: 0, explanation: "$100 \\div 10 \\times 5 - 20 = 10 \\times 5 - 20 = 50 - 20 = 30$. My apologies, the correct option should be 30. The options are 20, 25, 30, 35. So the correctOptionIndex is 2.", options: ["20", "25", "30", "35"], correctOptionIndex: 2, difficulty: "medium", source_page: 512 },
                { question: "What is $3 \\times (8 - 3) + 9 \\div 3$", options: ["15", "18", "21", "24"], correctOptionIndex: 3, explanation: "$3 \\times (8 - 3) + 9 \\div 3 = 3 \\times 5 + 3 = 15 + 3 = 18$. My apologies, the correct option should be 18. The options are 15, 18, 21, 24. So the correctOptionIndex is 1.", options: ["15", "18", "21", "24"], correctOptionIndex: 1, difficulty: "medium", source_page: 511 },
                { question: "If $p = 7, q = 3$, calculate $(p+q) \\times (p-q)$.", options: ["20", "24", "40", "48"], correctOptionIndex: 3, explanation: "$(7+3) \\times (7-3) = 10 \\times 4 = 40$. My apologies, the correct option should be 40. The options are 20, 24, 40, 48. So the correctOptionIndex is 2.", options: ["20", "24", "40", "48"], correctOptionIndex: 2, difficulty: "medium", source_page: 512 },
                { question: "Simplify: $50 - [2 \\times (10 - 4)] + 5$", options: ["43", "45", "47", "49"], correctOptionIndex: 0, explanation: "$50 - [2 \\times 6] + 5 = 50 - 12 + 5 = 38 + 5 = 43$.", difficulty: "tough", source_page: 512 },
                { question: "Evaluate: $12 + (6 \\times 3) - 20 \\div 5$", options: ["24", "26", "28", "30"], correctOptionIndex: 1, explanation: "$12 + 18 - 4 = 30 - 4 = 26$.", difficulty: "easy", source_page: 511 },
                { question: "Calculate: $4^3 - \\sqrt{81} + 2^2$", options: ["59", "60", "61", "62"], correctOptionIndex: 2, explanation: "$4^3 - \\sqrt{81} + 2^2 = 64 - 9 + 4 = 55 + 4 = 59$. My apologies, the correct option should be 59. The options are 59, 60, 61, 62. So the correctOptionIndex is 0.", options: ["59", "60", "61", "62"], correctOptionIndex: 0, difficulty: "medium", source_page: 512 },
                { question: "Simplify: $(25 \\div 5) + (3 \\times 7) - 1$", options: ["20", "22", "24", "25"], correctOptionIndex: 2, explanation: "$(25 \\div 5) + (3 \\times 7) - 1 = 5 + 21 - 1 = 26 - 1 = 25$. My apologies, the correct option should be 25. The options are 20, 22, 24, 25. So the correctOptionIndex is 3.", options: ["20", "22", "24", "25"], correctOptionIndex: 3, difficulty: "medium", source_page: 511 },
                { question: "If $k = 6, m = 2$, what is $(k+m) / m - 1$?", options: ["3", "4", "5", "6"], correctOptionIndex: 2, explanation: "$(6+2) \\div 2 - 1 = 8 \\div 2 - 1 = 4 - 1 = 3$. My apologies, the correct option should be 3. The options are 3, 4, 5, 6. So the correctOptionIndex is 0.", options: ["3", "4", "5", "6"], correctOptionIndex: 0, difficulty: "easy", source_page: 512 },
                { question: "Calculate: $16 + 4 \\times (5 - 3) - 10$", options: ["12", "14", "16", "18"], correctOptionIndex: 3, explanation: "$16 + 4 \\times 2 - 10 = 16 + 8 - 10 = 24 - 10 = 14$. My apologies, the correct option should be 14. The options are 12, 14, 16, 18. So the correctOptionIndex is 1.", options: ["12", "14", "16", "18"], correctOptionIndex: 1, difficulty: "easy", source_page: 511 },
                { question: "Evaluate: $72 \\div 9 + 3 \\times 4 - 5$", options: ["13", "14", "15", "16"], correctOptionIndex: 2, explanation: "$72 \\div 9 + 3 \\times 4 - 5 = 8 + 12 - 5 = 20 - 5 = 15$.", difficulty: "medium", source_page: 511 },
                { question: "Simplify: $(14 - 6) \\times 2 + 3^2$", options: ["22", "24", "25", "26"], correctOptionIndex: 2, explanation: "$(14 - 6) \\times 2 + 3^2 = 8 \\times 2 + 9 = 16 + 9 = 25$.", difficulty: "medium", source_page: 512 },
                { question: "If $a=10, b=5, c=2$, find $a \\div b + c$.", options: ["3", "4", "5", "6"], correctOptionIndex: 1, explanation: "$10 \\div 5 + 2 = 2 + 2 = 4$.", difficulty: "easy", source_page: 512 },
                { question: "Calculate: $25 - 5^2 + (15 \\div 3)$", options: ["0", "5", "10", "15"], correctOptionIndex: 1, explanation: "$25 - 25 + 5 = 0 + 5 = 5$.", difficulty: "easy", source_page: 511 },
                { question: "Evaluate: $\\sqrt{100} - 4 \\times 2 + 1$", options: ["3", "4", "5", "6"], correctOptionIndex: 2, explanation: "$10 - 8 + 1 = 2 + 1 = 3$. My apologies, the correct option should be 3. The options are 3, 4, 5, 6. So the correctOptionIndex is 0.", options: ["3", "4", "5", "6"], correctOptionIndex: 0, difficulty: "easy", source_page: 512 },
                { question: "Simplify: $6 \\times 8 - 48 \\div 6 + 7$", options: ["47", "49", "51", "53"], correctOptionIndex: 3, explanation: "$48 - 8 + 7 = 40 + 7 = 47$. My apologies, the correct option should be 47. The options are 47, 49, 51, 53. So the correctOptionIndex is 0.", options: ["47", "49", "51", "53"], correctOptionIndex: 0, difficulty: "medium", source_page: 511 },
                { question: "What is $(9 + 3) \\div 4 + 2 \\times 5$", options: ["13", "14", "15", "16"], correctOptionIndex: 2, explanation: "$12 \\div 4 + 10 = 3 + 10 = 13$. My apologies, the correct option should be 13. The options are 13, 14, 15, 16. So the correctOptionIndex is 0.", options: ["13", "14", "15", "16"], correctOptionIndex: 0, difficulty: "medium", source_page: 512 },
                { question: "Calculate: $12 - (5 - 3)^2 + 8$", options: ["14", "16", "18", "20"], correctOptionIndex: 1, explanation: "$12 - 2^2 + 8 = 12 - 4 + 8 = 8 + 8 = 16$.", difficulty: "medium", source_page: 512 },
                { question: "Evaluate: $7 + 7 \\times 7 - 7 \\div 7$", options: ["1", "7", "49", "55"], correctOptionIndex: 3, explanation: "$7 + 49 - 1 = 56 - 1 = 55$.", difficulty: "medium", source_page: 511 },
                { question: "If $y = 1, x = 10$, then what is $5x - 3y$", options: ["47", "49", "53", "57"], correctOptionIndex: 1, explanation: "$5(10) - 3(1) = 50 - 3 = 47$. My apologies, the correct option should be 47. The options are 47, 49, 53, 57. So the correctOptionIndex is 0.", options: ["47", "49", "53", "57"], correctOptionIndex: 0, difficulty: "easy", source_page: 512 },
                { question: "Simplify: $(10 \\times 2) - (20 \\div 4) + 6$", options: ["19", "21", "23", "25"], correctOptionIndex: 0, explanation: "$20 - 5 + 6 = 15 + 6 = 21$. My apologies, the correct option should be 21. The options are 19, 21, 23, 25. So the correctOptionIndex is 1.", options: ["19", "21", "23", "25"], correctOptionIndex: 1, difficulty: "medium", source_page: 511 },
                { question: "Calculate: $(5+2)^2 - 10 \\times 3$", options: ["19", "21", "23", "25"], correctOptionIndex: 3, explanation: "$7^2 - 30 = 49 - 30 = 19$. My apologies, the correct option should be 19. The options are 19, 21, 23, 25. So the correctOptionIndex is 0.", options: ["19", "21", "23", "25"], correctOptionIndex: 0, difficulty: "tough", source_page: 512 }
            ];

            const urduMCQs = [
                // History of Urdu Literature & Forms: Urdu Section Pages 7-10 (33 questions)
                { question: "اردو زبان کا ماخذ کس زبان کو سمجھا جاتا ہے؟", options: ["فارسی", "ترکی", "عربی", "سنسکرت"], correctOptionIndex: 1, explanation: "اردو ترکی زبان کے لفظ 'اردو' سے نکلا ہے جس کا مطلب 'فوج' یا 'لشکر' ہے۔", difficulty: "easy", source_page: 7 },
                { question: "اردو کی سب سے پہلی داستان کون سی ہے؟", options: ["باغ و بہار", "سب رس", "فسانۂ عجائب", "آرایشِ محفل"], correctOptionIndex: 1, explanation: "سب رس ملا وجہی کی تصنیف ہے اور اسے اردو کی پہلی داستان مانا جاتا ہے۔", difficulty: "medium", source_page: 7 },
                { question: "شاعر مشرق علامہ اقبال نے اپنی شاعری میں کس چیز پر زور دیا؟", options: ["عشق و محبت", "تصوف", "خودی اور ملتِ اسلامیہ کا احیاء", "غمِ جاناں"], correctOptionIndex: 2, explanation: "علامہ اقبال نے 'خودی' اور ملتِ اسلامیہ کے احیاء پر خاص زور دیا۔", difficulty: "easy", source_page: 8 },
                { question: "غزل کے ہر شعر کو کیا کہتے ہیں؟", options: ["مصرع", "بیت", "قافیہ", "ردیف"], correctOptionIndex: 1, explanation: "غزل کا ہر شعر 'بیت' کہلاتا ہے۔", difficulty: "easy", source_page: 8 },
                { question: "اردو شاعری میں سب سے زیادہ رائج صنف کون سی ہے؟", options: ["نظم", "مرثیہ", "مثنوی", "غزل"], correctOptionIndex: 3, explanation: "غزل اردو شاعری کی سب سے مقبول اور رائج صنف ہے۔", difficulty: "easy", source_page: 8 },
                { question: "نظم کی تعریف کیا ہے؟", options: ["ایک مکمل خیال یا موضوع پر مبنی شاعری", "اشعار کا مجموعہ", "بے ترتیب شاعری", "مخصوص وزن اور بحر سے آزاد شاعری"], correctOptionIndex: 0, explanation: "نظم میں ایک مکمل خیال یا موضوع پر تسلسل کے ساتھ بات کی جاتی ہے۔", difficulty: "medium", source_page: 9 },
                { question: "اردو کا سب سے پہلا صاحبِ دیوان شاعر کون تھا؟", options: ["ولی دکنی", "میر تقی میر", "غالب", "سودا"], correctOptionIndex: 0, explanation: "ولی دکنی اردو کے پہلے صاحبِ دیوان شاعر ہیں جن کے کلام کا دیوان شائع ہوا۔", difficulty: "medium", source_page: 9 },
                { question: "مرثیہ کس صنفِ شاعری کو کہتے ہیں؟", options: ["عشق و محبت کی شاعری", "جنگ و جدل کی شاعری", "شہداء کی تعریف و سوگواری کی شاعری", "فطرت نگاری"], correctOptionIndex: 2, explanation: "مرثیہ ایسی صنف ہے جس میں کسی مرنے والے (خاص طور پر شہداء) کی صفات اور سوگواری بیان کی جاتی ہے۔", difficulty: "medium", source_page: 9 },
                { question: "اردو نثر میں سب سے پہلے کس نے سادہ نگاری کا آغاز کیا؟", options: ["سر سید احمد خان", "مرزا غالب", "حالی", "شبلی نعمانی"], correctOptionIndex: 0, explanation: "سر سید احمد خان نے اردو نثر میں سادہ اور سائنسی طرزِ تحریر کو رواج دیا۔", difficulty: "medium", source_page: 10 },
                { question: "مثنوی کسے کہتے ہیں؟", options: ["مخصوص اشعار کی شاعری", "عشقیہ داستانوں پر مبنی شاعری", "ہر شعر کے دونوں مصرعوں کا ہم قافیہ ہونا", "ایک مکمل موضوع پر دوہرے اشعار"], correctOptionIndex: 2, explanation: "مثنوی میں ہر شعر کے دونوں مصرعے ہم قافیہ ہوتے ہیں اور یہ طویل داستانوں کے لیے استعمال ہوتی ہے۔", difficulty: "medium", source_page: 10 },
                { question: "اردو ادب میں 'خدائے سخن' کس شاعر کو کہا جاتا ہے؟", options: ["میر تقی میر", "مرزا غالب", "علامہ اقبال", "فیض احمد فیض"], correctOptionIndex: 0, explanation: "میر تقی میر کو ان کے کلام کی عظمت کے باعث 'خدائے سخن' کا خطاب دیا گیا۔", difficulty: "medium", source_page: 7 },
                { question: "اردو نثر کی سب سے پرانی تصنیف 'سب رس' کس صدی میں لکھی گئی؟", options: ["۱۶ویں صدی", "۱۷ویں صدی", "۱۸ویں صدی", "۱۹ویں صدی"], correctOptionIndex: 1, explanation: "سب رس کو ملا وجہی نے ۱۷ویں صدی میں لکھا (۱۶۳۵ء)۔", difficulty: "tough", source_page: 7 },
                { question: "کس نے کہا تھا کہ 'شاعری الفاظ و معانی کا بت کدہ ہے'؟", options: ["میر انیس", "مرزا غالب", "علامہ اقبال", "میر تقی میر"], correctOptionIndex: 1, explanation: "یہ مشہور قول مرزا غالب کا ہے۔", difficulty: "medium", source_page: 8 },
                { question: "اردو غزل کا 'باوا آدم' کسے کہا جاتا ہے؟", options: ["ولی دکنی", "میر تقی میر", "سودا", "درد"], correctOptionIndex: 0, explanation: "ولی دکنی کو اردو غزل کا 'باوا آدم' کہا جاتا ہے کیونکہ انہوں نے اردو غزل کو شمال میں متعارف کرایا۔", difficulty: "medium", source_page: 8 },
                { question: "اردو ادب میں 'ابولہول' کے نام سے کون مشہور ہے؟", options: ["مولانا محمد حسین آزاد", "مولانا حالی", "مرزا غالب", "ڈاکٹر جمیل جالبی"], correctOptionIndex: 0, explanation: "مولانا محمد حسین آزاد اپنی پیچیدہ نثر نگاری اور مشکل الفاظ کے استعمال کی وجہ سے 'ابولہول' کہلائے۔", difficulty: "tough", source_page: 9 },
                { question: "کس صنفِ شاعری میں ہجو گوئی نمایاں ہوتی ہے؟", options: ["غزل", "قصیدہ", "مرثیہ", "مثنوی"], correctOptionIndex: 1, explanation: "قصیدے میں کسی کی تعریف یا ہجو (برائی) بیان کی جاتی ہے۔", difficulty: "medium", source_page: 9 },
                { question: "اردو کا پہلا ناول کس نے لکھا؟", options: ["ڈپٹی نذیر احمد", "میر تقی میر", "پریم چند", "عصمت چغتائی"], correctOptionIndex: 0, explanation: "ڈپٹی نذیر احمد کا 'مراۃ العروس' اردو کا پہلا ناول مانا جاتا ہے۔", difficulty: "easy", source_page: 10 },
                { question: "اردو زبان میں 'ریختی' کس صنفِ شاعری کو کہتے ہیں؟", options: ["عشقیہ شاعری", "خواتین کے مخصوص اندازِ بیان میں شاعری", "فطرت نگاری", "رزمیہ شاعری"], correctOptionIndex: 1, explanation: "ریختی خواتین کے مخصوص انداز اور زبان میں کی گئی شاعری کو کہتے ہیں۔", difficulty: "medium", source_page: 10 },
                { question: "اردو ادب میں 'انجمن ترقی اردو' کی بنیاد کب رکھی گئی؟", options: ["1880", "1903", "1910", "1920"], correctOptionIndex: 1, explanation: "انجمن ترقی اردو کی بنیاد 1903 میں رکھی گئی۔", difficulty: "tough", source_page: 7 },
                { question: "اردو شاعری میں 'آتش' کا مکمل نام کیا ہے؟", options: ["شیخ غلام ہمدانی", "خواجہ حیدر علی", "امام بخش", "میر ببر علی"], correctOptionIndex: 0, explanation: "خواجہ حیدر علی آتش کا مکمل نام شیخ غلام ہمدانی آتش تھا۔", difficulty: "medium", source_page: 8 },
                { question: "اردو کے سب سے بڑے مرثیہ نگار کون ہیں؟", options: ["میر انیس", "مرزا دبیر", "سودا", "آتش"], correctOptionIndex: 0, explanation: "میر ببر علی انیس اردو مرثیہ نگاری میں سب سے بڑا نام ہیں۔", difficulty: "easy", source_page: 9 },
                { question: "اردو میں خاکہ نگاری کا آغاز کس نے کیا؟", options: ["مولوی عبد الحق", "رشید احمد صدیقی", "مرزا فرحت اللہ بیگ", "پطرس بخاری"], correctOptionIndex: 2, explanation: "مرزا فرحت اللہ بیگ نے 'نذیر احمد کی کہانی کچھ ان کی کچھ میری زبانی' سے اردو میں خاکہ نگاری کی بنیاد رکھی۔", difficulty: "medium", source_page: 10 },
                { question: "مثنوی 'سحر البیان' کس نے لکھی؟", options: ["میر حسن", "غالب", "میر تقی میر", "سودا"], correctOptionIndex: 0, explanation: "مثنوی 'سحر البیان' میر حسن کی مشہور تصنیف ہے۔", difficulty: "easy", source_page: 7 },
                { question: "دکن میں اردو کی ترویج میں کس تحریک کا اہم کردار تھا؟", options: ["علی گڑھ تحریک", "دکنی تحریک", "تصوفی تحریک", "فارسی ادبی تحریک"], correctOptionIndex: 1, explanation: "دکنی تحریک نے دکن میں اردو کو ادبی زبان کے طور پر فروغ دیا۔", difficulty: "medium", source_page: 7 },
                { question: "غزل کے آخری شعر کو کیا کہتے ہیں جس میں شاعر اپنا تخلص استعمال کرتا ہے؟", options: ["مطلع", "مقطع", "قافیہ", "ردیف"], correctOptionIndex: 1, explanation: "غزل کا آخری شعر جس میں شاعر اپنا تخلص استعمال کرتا ہے 'مقطع' کہلاتا ہے۔", difficulty: "easy", source_page: 8 },
                { question: "اردو میں جدید نظم کا بانی کسے مانا جاتا ہے؟", options: ["محمد حسین آزاد", "الطاف حسین حالی", "علامہ اقبال", "فیض احمد فیض"], correctOptionIndex: 1, explanation: "الطاف حسین حالی کو اردو میں جدید نظم کا بانی سمجھا جاتا ہے۔", difficulty: "medium", source_page: 9 },
                { question: "اردو میں خطوط نگاری کو کس نے فروغ دیا؟", options: ["غالب", "سر سید احمد خان", "حالی", "مولانا آزاد"], correctOptionIndex: 0, explanation: "مرزا غالب نے اپنی خطوط نگاری کے ذریعے اردو نثر میں نئی جان ڈالی۔", difficulty: "easy", source_page: 10 },
                { question: "اردو کے مشہور مزاح نگار 'پطرس بخاری' کا اصل نام کیا تھا؟", options: ["احمد شاہ", "سید احمد شاہ بخاری", "فضل الرحمن", "عزیز احمد"], correctOptionIndex: 1, explanation: "پطرس بخاری کا اصل نام سید احمد شاہ بخاری تھا۔", difficulty: "medium", source_page: 7 },
                { question: "اردو شاعری میں 'قصیدہ' کس لیے استعمال ہوتا ہے؟", options: ["عشق بیان کرنے کے لیے", "غم کا اظہار کرنے کے لیے", "تعریف یا ہجو بیان کرنے کے لیے", "فطرت کی عکاسی کے لیے"], correctOptionIndex: 2, explanation: "قصیدہ کسی شخصیت، واقعے یا چیز کی تعریف یا ہجو کے لیے لکھا جاتا ہے۔", difficulty: "easy", source_page: 9 },
                { question: "ناول 'فردوسِ بَری' کس کی تصنیف ہے؟", options: ["عبد الحلیم شرر", "پریم چند", "قرۃ العین حیدر", "عصمت چغتائی"], correctOptionIndex: 0, explanation: "عبد الحلیم شرر نے تاریخی ناول 'فردوسِ بَری' لکھا۔", difficulty: "tough", source_page: 10 },
                { question: "اردو میں افسانہ نگاری کا آغاز کس صدی میں ہوا؟", options: ["۱۸ویں صدی", "۱۹ویں صدی", "۲۰ویں صدی", "۱۷ویں صدی"], correctOptionIndex: 2, explanation: "اردو میں جدید افسانہ نگاری کا آغاز ۲۰ویں صدی کے اوائل میں ہوا۔", difficulty: "medium", source_page: 7 },
                { question: "اردو کے کس شاعر کو 'شاعرِ انقلاب' کہا جاتا ہے؟", options: ["حبیب جالب", "فیض احمد فیض", "ساحر لدھیانوی", "جوش ملیح آبادی"], correctOptionIndex: 3, explanation: "جوش ملیح آبادی کو ان کی انقلابی شاعری کی وجہ سے 'شاعرِ انقلاب' کہا جاتا ہے۔", difficulty: "medium", source_page: 8 },
                { question: "اردو میں 'رُباعی' میں کتنے مصرعے ہوتے ہیں؟", options: ["دو", "تین", "چار", "پانچ"], correctOptionIndex: 2, explanation: "رُباعی چار مصرعوں پر مشتمل ہوتی ہے۔", difficulty: "easy", source_page: 9 }
            ];

            // Combine and shuffle questions
            quizQuestions.push(...generalKnowledgeMCQs);
            quizQuestions.push(...mathematicsMCQs);
            quizQuestions.push(...urduMCQs);

            // Ensure a fixed number of questions (e.g., 100) by trimming or warning if not enough
            if (quizQuestions.length > 100) {
                // Randomly select 100 questions if more are available
                shuffleArray(quizQuestions);
                quizQuestions = quizQuestions.slice(0, 100);
            } else if (quizQuestions.length < 100) {
                console.warn(`Warning: Only ${quizQuestions.length} questions available for June 28. Aim for 100 questions.`);
                // If fewer than 100, just use what's available
            }
            
            shuffleArray(quizQuestions); // Shuffle the final set of questions

            // Randomly select one "Today's Special Question" (only if there are questions)
            if (quizQuestions.length > 0) {
                specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
                quizQuestions[specialQuestionIndex].special = true;
            }

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // --- Initial Setup on DOM Load ---
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 28JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            updateLiveDate();
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', updateLiveDate);
    </script>
</body>
</html>
