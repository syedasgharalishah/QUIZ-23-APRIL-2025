<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 29, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include seedrandom.js for consistent daily question shuffling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <style>
        /* Base Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Top Bar Styling */
        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Header Section Styling */
        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        /* Progress Bar Styling */
        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Banner Image and Credits */
        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        /* Card Styling (Login, Candidate, Quiz, Results Pages) */
        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        /* Button Styling */
        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Option Button Styling */
        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        /* Special Question Highlight */
        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* Explanation Section */
        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        /* Timer and Question Progress Display */
        .timer-display, .question-progress {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start;
            }
            .top-bar .date-display {
                order: 1;
                font-size: 0.8rem;
                align-self: flex-start;
            }
            .top-bar .whatsapp-link {
                order: 2;
                font-size: 0.8rem;
                align-self: flex-end;
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Keyframe Animations */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        // Disable right-click, copy/paste, and developer tools for security
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault();
            }
            if (e.key === 'F12') {
                e.preventDefault();
            }
        });
        document.addEventListener('copy', event => event.preventDefault());
        document.addEventListener('paste', event => event.preventDefault());
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="free">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 100</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 29, 2025";
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Function to update the live date display and handle responsive positioning
        function updateLiveDate() {
            document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
            document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
            document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.classList.remove('justify-end');
                liveDateElement.classList.add('justify-start');
            } else {
                liveDateElement.classList.remove('justify-start');
                liveDateElement.classList.add('justify-end');
            }
        }


        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 25; // Quiz duration set to 25 minutes
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "20 minutes 30 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            // Score calculation: 2 marks for correct, -1 for incorrect. 100 questions total, so max score 200.
            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 29 quiz: ID is 29JUNE, password is 'free'
            const expectedLoginId = "29JUNE";
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // Seed the random number generator based on the date for consistent daily quizzes
            const dateSeed = parseInt(CURRENT_DATE_STR.replace(/[^0-9]/g, '')); // e.g., 20250629
            Math.seedrandom(dateSeed);

            // June 29, 2025:
            // General Knowledge: World Geography (Part 2: Oceans, Seas, Islands, Gulfs & Bays, Straits): Pages 25-27
            // Mathematics: Problems on Numbers: Pages 513-516
            // Urdu: Correct Words & Urdu Poetry: Urdu Section Pages 11-14

            const generalKnowledgeMCQs = [
                // World Geography (Part 2: Oceans, Seas, Islands, Gulfs & Bays, Straits): Pages 25-27 (34 questions)
                { question: "Which is the smallest ocean in the world?", options: ["Indian Ocean", "Atlantic Ocean", "Arctic Ocean", "Southern Ocean"], correctOptionIndex: 2, explanation: "The Arctic Ocean is the smallest and shallowest of the world's five major oceans.", difficulty: "easy", source_page: 25 },
                { question: "The 'Mediterranean Sea' is bordered by which three continents?", options: ["Europe, Asia, Africa", "Europe, North America, Africa", "Asia, Africa, Australia", "South America, Europe, Africa"], correctOptionIndex: 0, explanation: "The Mediterranean Sea connects Europe to its north, Africa to its south, and Asia to its east.", difficulty: "medium", source_page: 25 },
                { question: "The largest island in the world is:", options: ["New Guinea", "Borneo", "Greenland", "Madagascar"], correctOptionIndex: 2, explanation: "Greenland is the world's largest island, located between the Arctic and Atlantic Oceans.", difficulty: "easy", source_page: 26 },
                { question: "The 'Bay of Bengal' is part of which ocean?", options: ["Atlantic Ocean", "Pacific Ocean", "Indian Ocean", "Southern Ocean"], correctOptionIndex: 2, explanation: "The Bay of Bengal is the northeastern part of the Indian Ocean.", difficulty: "easy", source_page: 26 },
                { question: "The 'Strait of Gibraltar' connects the Atlantic Ocean to which sea?", options: ["Mediterranean Sea", "Black Sea", "Red Sea", "Caribbean Sea"], correctOptionIndex: 0, explanation: "The Strait of Gibraltar connects the Atlantic Ocean to the Mediterranean Sea and separates Europe from Africa.", difficulty: "medium", source_page: 27 },
                { question: "Which ocean is entirely contained in the Northern Hemisphere?", options: ["Indian Ocean", "Southern Ocean", "Arctic Ocean", "Atlantic Ocean"], correctOptionIndex: 2, explanation: "The Arctic Ocean is centered on the North Pole and is mostly in the Northern Hemisphere.", difficulty: "medium", source_page: 25 },
                { question: "The 'Red Sea' is located between Africa and which other continent?", options: ["Europe", "Asia", "South America", "Australia"], correctOptionIndex: 1, explanation: "The Red Sea is a seawater inlet of the Indian Ocean, lying between Africa and Asia.", difficulty: "easy", source_page: 25 },
                { question: "The largest archipelago (group of islands) in the world by area is:", options: ["Japan", "Indonesia", "Philippines", "Caribbean Islands"], correctOptionIndex: 1, explanation: "Indonesia is the world's largest archipelagic state, comprising more than seventeen thousand islands.", difficulty: "medium", source_page: 26 },
                { question: "The 'Persian Gulf' is a body of water located in which region?", options: ["Southeast Asia", "North Africa", "Middle East", "Eastern Europe"], correctOptionIndex: 2, explanation: "The Persian Gulf is a Mediterranean sea in Western Asia. It is an extension of the Indian Ocean through the Strait of Hormuz.", difficulty: "easy", source_page: 26 },
                { question: "The 'Strait of Malacca' is located between the Malay Peninsula and which island?", options: ["Borneo", "Sumatra", "Java", "Luzon"], correctOptionIndex: 1, explanation: "The Strait of Malacca is a narrow stretch of water, 805 km in length, between the Malay Peninsula and the Indonesian island of Sumatra.", difficulty: "tough", source_page: 27 },
                { question: "Which is the warmest ocean on Earth?", options: ["Pacific Ocean", "Atlantic Ocean", "Indian Ocean", "Southern Ocean"], correctOptionIndex: 2, explanation: "The Indian Ocean is the warmest ocean in the world, with average temperatures ranging between 28–30 °C (82.4–86 °F).", difficulty: "medium", source_page: 25 },
                { question: "The 'Caribbean Sea' is part of which ocean?", options: ["Pacific Ocean", "Atlantic Ocean", "Indian Ocean", "Arctic Ocean"], correctOptionIndex: 1, explanation: "The Caribbean Sea is a sea of the Atlantic Ocean in the tropics of the Western Hemisphere.", difficulty: "easy", source_page: 25 },
                { question: "The island of 'Madagascar' is located off the coast of which continent?", options: ["Asia", "South America", "Africa", "Australia"], correctOptionIndex: 2, explanation: "Madagascar is an island country in the Indian Ocean, off the coast of Southeast Africa.", difficulty: "easy", source_page: 26 },
                { question: "The 'Gulf of Mexico' is bordered by which three countries?", options: ["USA, Canada, Mexico", "USA, Mexico, Cuba", "USA, Mexico, Brazil", "Mexico, Cuba, Colombia"], correctOptionIndex: 1, explanation: "The Gulf of Mexico is bordered by the United States, Mexico, and Cuba.", difficulty: "medium", source_page: 26 },
                { question: "The 'Bering Strait' connects the Pacific Ocean to which ocean?", options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Southern Ocean"], correctOptionIndex: 2, explanation: "The Bering Strait connects the Pacific Ocean and the Arctic Ocean, separating Russia and the United States.", difficulty: "medium", source_page: 27 },
                { question: "Which ocean contains the 'Ring of Fire'?", options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Southern Ocean"], correctOptionIndex: 2, explanation: "The Pacific Ocean is home to the 'Ring of Fire', a major area in the basin where a large number of earthquakes and volcanic eruptions occur.", difficulty: "easy", source_page: 25 },
                { question: "The 'Black Sea' is an inland sea located between Europe and which other continent?", options: ["Africa", "Asia", "South America", "Australia"], correctOptionIndex: 1, explanation: "The Black Sea is a marginal sea of the Atlantic Ocean lying between Europe and Asia.", difficulty: "medium", source_page: 25 },
                { question: "The 'Hawaiian Islands' are located in which ocean?", options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Arctic Ocean"], correctOptionIndex: 2, explanation: "The Hawaiian Islands are an archipelago of eight major islands, several atolls, numerous smaller islets, and submerged seamounts in the North Pacific Ocean.", difficulty: "easy", source_page: 26 },
                { question: "The 'Gulf of Guinea' is a large gulf on the coast of which continent?", options: ["Asia", "South America", "Africa", "North America"], correctOptionIndex: 2, explanation: "The Gulf of Guinea is a large gulf of the Atlantic Ocean on the southwest coast of West Africa.", difficulty: "medium", source_page: 26 },
                { question: "The 'Strait of Hormuz' connects the Persian Gulf to which body of water?", options: ["Red Sea", "Arabian Sea", "Mediterranean Sea", "Black Sea"], correctOptionIndex: 1, explanation: "The Strait of Hormuz connects the Persian Gulf with the Arabian Sea and the Gulf of Oman.", difficulty: "easy", source_page: 27 },
                { question: "Which ocean separates Europe and North America?", options: ["Pacific Ocean", "Indian Ocean", "Atlantic Ocean", "Arctic Ocean"], correctOptionIndex: 2, explanation: "The Atlantic Ocean separates Europe and North America.", difficulty: "easy", source_page: 25 },
                { question: "The 'Baltic Sea' is located in which part of Europe?", options: ["Southern Europe", "Western Europe", "Northern Europe", "Eastern Europe"], correctOptionIndex: 2, explanation: "The Baltic Sea is a sea of the Atlantic Ocean, enclosed by Scandinavia, Finland, the Baltic countries, and the North European Plain.", difficulty: "medium", source_page: 25 },
                { question: "The island of 'Borneo' is divided among which three countries?", options: ["Indonesia, Malaysia, Brunei", "Indonesia, Philippines, Vietnam", "Malaysia, Thailand, Singapore", "Brunei, Cambodia, Laos"], correctOptionIndex: 0, explanation: "Borneo is shared by three countries: Malaysia, Indonesia, and Brunei.", difficulty: "tough", source_page: 26 },
                { question: "The 'Gulf of Aden' is located at the southern entrance to which sea?", options: ["Mediterranean Sea", "Red Sea", "Black Sea", "Caspian Sea"], correctOptionIndex: 1, explanation: "The Gulf of Aden is an arm of the Arabian Sea between Yemen on the south coast of the Arabian Peninsula and Somalia in the Horn of Africa.", difficulty: "medium", source_page: 26 },
                { question: "The 'Bosporus Strait' separates which two continents?", options: ["Asia and Australia", "Europe and Asia", "North America and South America", "Africa and Europe"], correctOptionIndex: 1, explanation: "The Bosporus Strait separates the European part of Turkey from its Asian part, connecting the Black Sea to the Sea of Marmara.", difficulty: "easy", source_page: 27 },
                { question: "The 'Sargasso Sea' is unique for having no land boundaries and is located within which ocean?", options: ["Pacific Ocean", "Indian Ocean", "Atlantic Ocean", "Arctic Ocean"], correctOptionIndex: 2, explanation: "The Sargasso Sea is a region of the Atlantic Ocean bounded by four currents.", difficulty: "tough", source_page: 25 },
                { question: "Which sea is considered the largest inland body of water?", options: ["Mediterranean Sea", "Black Sea", "Caspian Sea", "Red Sea"], correctOptionIndex: 2, explanation: "The Caspian Sea is the world's largest inland body of water, variously classed as the world's largest lake or a full-fledged sea.", difficulty: "easy", source_page: 25 },
                { question: "The 'Philippine Sea' is a marginal sea of which ocean?", options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Southern Ocean"], correctOptionIndex: 2, explanation: "The Philippine Sea is a marginal sea of the Western Pacific Ocean.", difficulty: "medium", source_page: 25 },
                { question: "Which group of islands is known as the 'Spice Islands'?", options: ["Hawaii", "Galapagos", "Maluku Islands", "Fiji"], correctOptionIndex: 2, explanation: "The Maluku Islands (or Moluccas) in Indonesia were historically known as the 'Spice Islands'.", difficulty: "medium", source_page: 26 },
                { question: "The 'Great Australian Bight' is a large oceanic bight off the central and western parts of the southern coastline of which continent?", options: ["Africa", "South America", "Australia", "Asia"], correctOptionIndex: 2, explanation: "The Great Australian Bight is a large oceanic bight, or open bay, off the central and western parts of the southern coastline of mainland Australia.", difficulty: "easy", source_page: 26 },
                { question: "The 'Dardanelles Strait' connects the Sea of Marmara to which sea?", options: ["Black Sea", "Aegean Sea", "Mediterranean Sea", "Red Sea"], correctOptionIndex: 1, explanation: "The Dardanelles Strait connects the Sea of Marmara to the Aegean and Mediterranean Seas.", difficulty: "tough", source_page: 27 },
                { question: "Which is the smallest of the world's four oceans?", options: ["Indian Ocean", "Arctic Ocean", "Southern Ocean", "Atlantic Ocean"], correctOptionIndex: 1, explanation: "The Arctic Ocean is the smallest.", difficulty: "easy", source_page: 25 },
                { question: "The 'Bay of Fundy', known for its extreme tides, is located in which country?", options: ["USA", "Canada", "Mexico", "Australia"], correctOptionIndex: 1, explanation: "The Bay of Fundy is a bay between the Canadian provinces of New Brunswick and Nova Scotia.", difficulty: "medium", source_page: 26 },
                { question: "The 'Strait of Magellan' is located at the southern tip of which continent?", options: ["North America", "Africa", "South America", "Antarctica"], correctOptionIndex: 2, explanation: "The Strait of Magellan is a navigable sea route in South America, immediately south of mainland Chile.", difficulty: "medium", source_page: 27 }
            ];

            const mathematicsMCQs = [
                // Problems on Numbers: Pages 513-516 (33 questions)
                { question: "What is the sum of the first 10 natural numbers?", options: ["45", "50", "55", "60"], correctOptionIndex: 2, explanation: "The sum of the first 'n' natural numbers is $n(n+1)/2$. So, $10(10+1)/2 = 10 \\times 11 / 2 = 110 / 2 = 55$.", difficulty: "easy", source_page: 513 },
                { question: "If a number is multiplied by 5 and then 10 is subtracted from the result, the answer is 30. What is the number?", options: ["6", "8", "10", "12"], correctOptionIndex: 1, explanation: "Let the number be $x$. $5x - 10 = 30 \\implies 5x = 40 \\implies x = 8$.", difficulty: "medium", source_page: 513 },
                { question: "The product of two consecutive odd numbers is 63. What are the numbers?", options: ["5, 7", "7, 9", "9, 11", "11, 13"], correctOptionIndex: 1, explanation: "Let the numbers be $x$ and $x+2$. $x(x+2) = 63$. By checking options, $7 \\times 9 = 63$.", difficulty: "medium", source_page: 514 },
                { question: "What is 2/5 of 100?", options: ["20", "40", "50", "60"], correctOptionIndex: 1, explanation: "$(2/5) \\times 100 = 2 \\times 20 = 40$.", difficulty: "easy", source_page: 514 },
                { question: "Find the smallest 3-digit number which is exactly divisible by 7.", options: ["100", "101", "105", "112"], correctOptionIndex: 2, explanation: "The smallest 3-digit number is 100. $100 \\div 7 = 14$ remainder $2$. So, $100 + (7-2) = 105$.", difficulty: "medium", source_page: 515 },
                { question: "If 15% of a number is 60, what is the number?", options: ["300", "350", "400", "450"], correctOptionIndex: 2, explanation: "Let the number be $x$. $0.15x = 60 \\implies x = 60 / 0.15 = 400$.", difficulty: "medium", source_page: 515 },
                { question: "Which of the following is a prime number?", options: ["9", "15", "21", "23"], correctOptionIndex: 3, explanation: "A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself. 23 is prime.", difficulty: "easy", source_page: 516 },
                { question: "The sum of three consecutive even numbers is 42. What is the largest number?", options: ["12", "14", "16", "18"], correctOptionIndex: 2, explanation: "Let the numbers be $x, x+2, x+4$. $x + x+2 + x+4 = 42 \\implies 3x + 6 = 42 \\implies 3x = 36 \\implies x = 12$. The numbers are 12, 14, 16. The largest is 16.", difficulty: "medium", source_page: 513 },
                { question: "What is the value of 0.75 as a fraction in simplest form?", options: ["3/4", "1/2", "3/5", "7/10"], correctOptionIndex: 0, explanation: "$0.75 = 75/100 = 3/4$.", difficulty: "easy", source_page: 514 },
                { question: "If 1/3 of a number is 20, what is 3/4 of that number?", options: ["30", "45", "60", "75"], correctOptionIndex: 1, explanation: "Let the number be $x$. $(1/3)x = 20 \\implies x = 60$. Then $(3/4) \\times 60 = 3 \\times 15 = 45$.", difficulty: "medium", source_page: 515 },
                { question: "Find the least number which when divided by 8, 12, and 15 leaves a remainder of 3 in each case.", options: ["117", "123", "120", "126"], correctOptionIndex: 1, explanation: "Find LCM of 8, 12, 15: $8=2^3$, $12=2^2 \\times 3$, $15=3 \\times 5$. LCM is $2^3 \\times 3 \\times 5 = 8 \\times 3 \\times 5 = 120$. The number is $120 + 3 = 123$.", difficulty: "tough", source_page: 516 },
                { question: "The sum of a number and its half is 30. What is the number?", options: ["15", "20", "25", "30"], correctOptionIndex: 1, explanation: "Let the number be $x$. $x + x/2 = 30 \\implies 3x/2 = 30 \\implies 3x = 60 \\implies x = 20$.", difficulty: "easy", source_page: 513 },
                { question: "What is the largest 4-digit number divisible by 9?", options: ["9990", "9999", "9995", "9900"], correctOptionIndex: 1, explanation: "A number is divisible by 9 if the sum of its digits is divisible by 9. 9999 ($9+9+9+9=36$) is divisible by 9.", difficulty: "medium", source_page: 514 },
                { question: "If the difference between two numbers is 5 and their sum is 19, what are the numbers?", options: ["6, 11", "7, 12", "8, 13", "10, 9"], correctOptionIndex: 1, explanation: "Let the numbers be $x$ and $y$. $x - y = 5$ and $x + y = 19$. Adding the equations: $2x = 24 \\implies x = 12$. Then $12 - y = 5 \\implies y = 7$. The numbers are 7 and 12.", difficulty: "medium", source_page: 515 },
                { question: "What is the cube root of 216?", options: ["4", "5", "6", "7"], correctOptionIndex: 2, explanation: "$6 \\times 6 \\times 6 = 216$, so the cube root is 6.", difficulty: "easy", source_page: 516 },
                { question: "The average of 5 numbers is 10. If the sum of the first four numbers is 38, what is the fifth number?", options: ["8", "10", "12", "15"], correctOptionIndex: 1, explanation: "Sum of 5 numbers = $5 \\times 10 = 50$. Fifth number = $50 - 38 = 12$. My apologies, the correct option should be 12. The options are 8, 10, 12, 15. So the correctOptionIndex is 2.", options: ["8", "10", "12", "15"], correctOptionIndex: 2, difficulty: "medium", source_page: 513 },
                { question: "Which of the following is an even prime number?", options: ["1", "2", "3", "4"], correctOptionIndex: 1, explanation: "2 is the only even prime number.", difficulty: "easy", source_page: 514 },
                { question: "A student scored 75% marks in an exam. If the maximum marks were 800, what was his score?", options: ["500", "550", "600", "650"], correctOptionIndex: 2, explanation: "$0.75 \\times 800 = 600$.", difficulty: "easy", source_page: 515 },
                { question: "Find the HCF (Highest Common Factor) of 12, 18, and 30.", options: ["2", "3", "6", "9"], correctOptionIndex: 2, explanation: "Factors of 12: 1, 2, 3, 4, 6, 12. Factors of 18: 1, 2, 3, 6, 9, 18. Factors of 30: 1, 2, 3, 5, 6, 10, 15, 30. The highest common factor is 6.", difficulty: "medium", source_page: 516 },
                { question: "If a number is decreased by 20% and the result is 80, what is the original number?", options: ["90", "100", "110", "120"], correctOptionIndex: 1, explanation: "Let the number be $x$. $x - 0.20x = 80 \\implies 0.80x = 80 \\implies x = 100$.", difficulty: "medium", source_page: 513 },
                { question: "What is the sum of the first 5 odd numbers?", options: ["20", "25", "30", "35"], correctOptionIndex: 1, explanation: "The first 5 odd numbers are 1, 3, 5, 7, 9. Their sum is $1+3+5+7+9 = 25$. The sum of the first 'n' odd numbers is $n^2$. So $5^2 = 25$.", difficulty: "easy", source_page: 514 },
                { question: "A fraction is equivalent to 3/7. If its numerator is 12, what is its denominator?", options: ["21", "28", "35", "42"], correctOptionIndex: 3, explanation: "If $x/y = 3/7$ and $x=12$, then $12/y = 3/7 \\implies 3y = 12 \\times 7 \\implies y = 4 \\times 7 = 28$. My apologies, the correct option should be 28. The options are 21, 28, 35, 42. So the correctOptionIndex is 1.", options: ["21", "28", "35", "42"], correctOptionIndex: 1, difficulty: "easy", source_page: 515 },
                { question: "The LCM (Least Common Multiple) of 6 and 9 is:", options: ["18", "24", "36", "54"], correctOptionIndex: 0, explanation: "Multiples of 6: 6, 12, 18, 24... Multiples of 9: 9, 18, 27... The LCM is 18.", difficulty: "easy", source_page: 516 },
                { question: "A class has 40 students. If 25% are girls, how many boys are there?", options: ["10", "20", "30", "35"], correctOptionIndex: 2, explanation: "Girls: $0.25 \\times 40 = 10$. Boys: $40 - 10 = 30$.", difficulty: "easy", source_page: 513 },
                { question: "What is the successor of the largest 5-digit number?", options: ["99999", "100000", "100001", "99998"], correctOptionIndex: 1, explanation: "Largest 5-digit number is 99999. Its successor is $99999 + 1 = 100000$.", difficulty: "easy", source_page: 514 },
                { question: "Which of the following is a composite number?", options: ["1", "7", "11", "14"], correctOptionIndex: 3, explanation: "A composite number is a positive integer that has at least one divisor other than 1 and itself. 14 is divisible by 2 and 7.", difficulty: "easy", source_page: 514 },
                { question: "If 4/5 of a number is 40, what is the number?", options: ["32", "40", "48", "50"], correctOptionIndex: 3, explanation: "Let the number be $x$. $(4/5)x = 40 \\implies x = 40 \\times (5/4) = 10 \\times 5 = 50$.", difficulty: "easy", source_page: 515 },
                { question: "Find the smallest number which is a multiple of both 4 and 6.", options: ["12", "18", "24", "30"], correctOptionIndex: 0, explanation: "This is the LCM of 4 and 6, which is 12.", difficulty: "easy", source_page: 516 },
                { question: "The sum of two numbers is 25 and their product is 100. What are the numbers?", options: ["5, 20", "10, 15", "8, 17", "4, 21"], correctOptionIndex: 0, explanation: "Let the numbers be $x$ and $y$. $x+y=25$ and $xy=100$. By checking options, $5+20=25$ and $5 \\times 20 = 100$.", difficulty: "medium", source_page: 515 },
                { question: "What is the average of 10, 20, and 30?", options: ["15", "20", "25", "30"], correctOptionIndex: 1, explanation: "$(10+20+30)/3 = 60/3 = 20$.", difficulty: "easy", source_page: 513 },
                { question: "How many prime numbers are there between 1 and 10?", options: ["3", "4", "5", "6"], correctOptionIndex: 1, explanation: "The prime numbers between 1 and 10 are 2, 3, 5, 7. There are 4.", difficulty: "easy", source_page: 514 },
                { question: "What is 12.5% of 200?", options: ["12.5", "20", "25", "50"], correctOptionIndex: 2, explanation: "$12.5\% = 1/8$. So $1/8 \\times 200 = 25$.", difficulty: "easy", source_page: 515 },
                { question: "The greatest common divisor (GCD) of 15 and 25 is:", options: ["1", "3", "5", "10"], correctOptionIndex: 2, explanation: "Factors of 15: 1, 3, 5, 15. Factors of 25: 1, 5, 25. The greatest common divisor is 5.", difficulty: "easy", source_page: 516 }
            ];

            const urduMCQs = [
                // Correct Words & Urdu Poetry: Urdu Section Pages 11-14 (33 questions)
                { question: "درست لفظ کا انتخاب کریں: 'ہفتہ میں سات دن ہوتے ہیں۔'", options: ["ہفتہ", "حفتہ", "ہفتا", "ہفطہ"], correctOptionIndex: 0, explanation: "درست لفظ 'ہفتہ' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "درست جملے کا انتخاب کریں:", options: ["اس نے کھانا کھایا ہے۔", "وہ کھانا کھایا ہے۔", "اس کو کھانا کھایا ہے۔", "وہ نے کھانا کھایا ہے۔"], correctOptionIndex: 0, explanation: "فاعل کے بعد 'نے' آتا ہے اگر فعل متعدی ہو۔", difficulty: "easy", source_page: 11 },
                { question: "درست لفظ کا انتخاب کریں: 'تعلیم' کا صحیح املا کیا ہے؟", options: ["تعلیم", "تلیم", "تعلیم", "تعلم"], correctOptionIndex: 0, explanation: "درست املا 'تعلیم' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "اردو شاعری میں 'قافیہ' کسے کہتے ہیں؟", options: ["ہم وزن الفاظ", "ہم آواز الفاظ جو ردیف سے پہلے آتے ہیں", "شعر کا آخری لفظ", "تخلص"], correctOptionIndex: 1, explanation: "قافیہ وہ ہم آواز الفاظ ہوتے ہیں جو شعر کے آخری حصے میں ردیف سے پہلے آتے ہیں۔", difficulty: "medium", source_page: 12 },
                { question: "اردو شاعری میں 'ردیف' کی تعریف کیا ہے؟", options: ["ہم قافیہ الفاظ", "وہ الفاظ جو قافیہ کے بعد ہر شعر میں دہرائے جاتے ہیں", "شعر کا پہلا لفظ", "تخلص"], correctOptionIndex: 1, explanation: "ردیف وہ لفظ یا الفاظ کا مجموعہ ہوتا ہے جو قافیہ کے بعد ہر شعر میں بعینہٖ دہرایا جاتا ہے۔", difficulty: "medium", source_page: 12 },
                { question: "اردو غزل میں 'مطلع' کس شعر کو کہتے ہیں؟", options: ["آخری شعر", "پہلا شعر جس کے دونوں مصرعے ہم قافیہ و ہم ردیف ہوں", "ایک اکیلا شعر", "سب سے بہترین شعر"], correctOptionIndex: 1, explanation: "غزل کا پہلا شعر مطلع کہلاتا ہے، اس کے دونوں مصرعے ہم قافیہ و ہم ردیف ہوتے ہیں۔", difficulty: "easy", source_page: 12 },
                { question: "درست لفظ کا انتخاب کریں: 'امتحان' کا صحیح املا کیا ہے؟", options: ["امتحان", "امتہان", "امتحن", "امتےحان"], correctOptionIndex: 0, explanation: "درست املا 'امتحان' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "درست جملے کا انتخاب کریں:", options: ["میں نے ایک خواب دیکھا۔", "میں نے ایک خواب دیکھتا ہوں۔", "میں ایک خواب دیکھنا۔", "میں ایک خواب دیکھا۔"], correctOptionIndex: 0, explanation: "ماضی میں فعل کے مطابق 'دیکھا' درست ہے۔", difficulty: "easy", source_page: 13 },
                { question: "درست لفظ کا انتخاب کریں: 'جذبہ' کا صحیح املا کیا ہے؟", options: ["جذبہ", "جزبہ", "جظبہ", "جذبا"], correctOptionIndex: 0, explanation: "درست املا 'جذبہ' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "تشبیہ کی تعریف کیا ہے؟", options: ["کسی چیز کو اس کی ضد سے ملانا", "ایک چیز کو دوسری چیز جیسا قرار دینا", "کسی چیز کی تعریف کرنا", "اشارہ کرنا"], correctOptionIndex: 1, explanation: "تشبیہ میں ایک چیز کو کسی دوسری چیز کے مشابہ قرار دیا جاتا ہے۔", difficulty: "medium", source_page: 14 },
                { question: "استعارہ کسے کہتے ہیں؟", options: ["کسی چیز کو اس کے اصل معنی کے بجائے مجازی معنی میں استعمال کرنا", "مبالغہ آرائی کرنا", "کسی چیز کی خوبی بیان کرنا", "کسی سے قرض لینا"], correctOptionIndex: 0, explanation: "استعارہ میں کسی لفظ کو اس کے حقیقی معنوں کے بجائے مجازی معنوں میں استعمال کیا جاتا ہے۔", difficulty: "medium", source_page: 14 },
                { question: "درست لفظ کا انتخاب کریں: 'برداشت' کا صحیح املا کیا ہے؟", options: ["برداشت", "بردشت", "برداسٹ", "برداشٹ"], correctOptionIndex: 0, explanation: "درست املا 'برداشت' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "درست جملے کا انتخاب کریں:", options: ["سورج مشرق سے نکلتا ہے ۔", "سورج مشرق سے نکلے گا۔", "سورج مشرق میں نکلتا ہے۔", "سورج مشرق سے نکلتی ہے۔"], correctOptionIndex: 0, explanation: "فطری حقیقت کو سادہ حال میں بیان کیا جاتا ہے۔", difficulty: "easy", source_page: 11 },
                { question: "درست لفظ کا انتخاب کریں: 'معاشرت' کا صحیح املا کیا ہے؟", options: ["معاشرت", "ماشرت", "ماشرت", "معاشرات"], correctOptionIndex: 0, explanation: "درست املا 'معاشرت' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "غزل کے ہر شعر کا موضوع کیا ہو سکتا ہے؟", options: ["ایک ہی موضوع", "مختلف موضوعات", "صرف عشق", "صرف غم"], correctOptionIndex: 1, explanation: "غزل کا ہر شعر اپنے مفہوم میں مکمل ہوتا ہے اور اس کا موضوع پچھلے شعر سے مختلف ہو سکتا ہے۔", difficulty: "medium", source_page: 12 },
                { question: "جو شعر غزل یا قصیدے کے پہلے شعر کے وزن اور قافیہ کی پیروی کرے اسے کیا کہتے ہیں؟", options: ["مطلع ثانی", "حسنِ مطلع", "مقطع", "قافیہ ثانی"], correctOptionIndex: 1, explanation: "اگر مطلع کے بعد بھی کوئی شعر اسی وزن اور قافیہ پر ہو تو اسے 'حسنِ مطلع' کہتے ہیں۔", difficulty: "tough", source_page: 12 },
                { question: "درست لفظ کا انتخاب کریں: 'افسوس' کا صحیح املا کیا ہے؟", options: ["افسوس", "افسوس", "افسوس", "افسوس"], correctOptionIndex: 0, explanation: "درست املا 'افسوس' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "درست جملے کا انتخاب کریں:", options: ["اس نے سبق پڑھا۔", "وہ سبق پڑھا ہے۔", "اس نے سبق پڑھتی ہے۔", "وہ نے سبق پڑھا۔"], correctOptionIndex: 0, explanation: "فاعل کے بعد 'نے' آتا ہے، اور فعل مونث نہیں ہو سکتا۔", difficulty: "easy", source_page: 13 },
                { question: "درست لفظ کا انتخاب کریں: 'وصول' کا صحیح املا کیا ہے؟", options: ["وصول", "وسول", "وصول", "وُصول"], correctOptionIndex: 0, explanation: "درست املا 'وصول' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "شاعری میں 'حسنِ تعلیل' کیا ہے؟", options: ["کسی خوبی کو بڑھا چڑھا کر بیان کرنا", "کسی بات کی ایسی وجہ بیان کرنا جو اصل میں نہ ہو", "کسی چیز کو اس کے مشابہ قرار دینا", "اشارہ کرنا"], correctOptionIndex: 1, explanation: "حسنِ تعلیل میں شاعر کسی چیز کی ایسی وجہ بیان کرتا ہے جو اس کی اصل وجہ نہیں ہوتی بلکہ شاعرانہ خوبی ہوتی ہے۔", difficulty: "tough", source_page: 14 },
                { question: "شاعری میں 'تلمیح' کسے کہتے ہیں؟", options: ["کسی تاریخی یا مذہبی واقعے کی طرف اشارہ", "دو چیزوں کا موازنہ", "کسی کا نام لینا", "اشعار کی تعداد"], correctOptionIndex: 0, explanation: "تلمیح میں کسی مشہور تاریخی، مذہبی یا ادبی واقعے کی طرف مختصر اشارہ کیا جاتا ہے۔", difficulty: "medium", source_page: 14 },
                { question: "درست لفظ کا انتخاب کریں: 'شعبہ' کا صحیح املا کیا ہے؟", options: ["شعبہ", "شوبا", "شوٗبہ", "شُعبہ"], correctOptionIndex: 0, explanation: "درست املا 'شعبہ' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "درست جملے کا انتخاب کریں:", options: ["وہ روزانہ اسکول جاتا ہے ۔", "وہ روزانہ اسکول جائیں گے۔", "وہ روزانہ اسکول جاتے ہیں۔", "وہ روزانہ اسکول جاتی ہیں۔"], correctOptionIndex: 0, explanation: "ایک شخص کے لیے واحد فعل کا استعمال ہوتا ہے۔", difficulty: "easy", source_page: 11 },
                { question: "درست لفظ کا انتخاب کریں: 'بامعنی' کا صحیح املا کیا ہے؟", options: ["بامعنی", "با معنی", "بامعنے", "بامعنئ"], correctOptionIndex: 0, explanation: "درست املا 'بامعنی' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "اردو شاعری میں 'مصرع' کسے کہتے ہیں؟", options: ["ایک شعر کا آدھا حصہ", "دو شعروں کا مجموعہ", "شعر کا آخری لفظ", "شعر کی پہلی سطر"], correctOptionIndex: 0, explanation: "مصرع شعر کا آدھا حصہ یا ایک سطر کہلاتا ہے۔", difficulty: "easy", source_page: 12 },
                { question: "جس شعر میں شاعر اپنا تخلص استعمال کرتا ہے، اسے کیا کہتے ہیں؟", options: ["مطلع", "مقطع", "ردیف", "قافیہ"], correctOptionIndex: 1, explanation: "مقطع غزل کا آخری شعر ہوتا ہے جس میں شاعر اپنا تخلص استعمال کرتا ہے۔", difficulty: "easy", source_page: 12 },
                { question: "درست لفظ کا انتخاب کریں: 'حصول' کا صحیح املا کیا ہے؟", options: ["حصول", "حصول", "حصول", "حصول"], correctOptionIndex: 0, explanation: "درست املا 'حصول' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "درست جملے کا انتخاب کریں:", options: ["تم کب آئو گے؟", "تم کب آؤ گے؟", "تم کب آئیں گے؟", "تم کب آئوگے؟"], correctOptionIndex: 1, explanation: "صحیح تلفظ اور املا 'آؤ گے' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "درست لفظ کا انتخاب کریں: 'ضرورت' کا صحیح املا کیا ہے؟", options: ["ضرورت", "ضرورت", "زرورت", "زرورط"], correctOptionIndex: 0, explanation: "درست املا 'ضرورت' ہے۔", difficulty: "easy", source_page: 13 },
                { question: "شاعری میں 'مبالغہ' کسے کہتے ہیں؟", options: ["کسی چیز کی حقیقت بیان کرنا", "کسی خوبی یا خامی کو بہت بڑھا چڑھا کر بیان کرنا", "دو چیزوں کو آپس میں ملانا", "اشارہ کرنا"], correctOptionIndex: 1, explanation: "مبالغہ میں کسی چیز کی خوبی یا خامی کو حقیقت سے زیادہ بڑھا چڑھا کر بیان کیا جاتا ہے۔", difficulty: "medium", source_page: 14 },
                { question: "شاعری میں 'کنایہ' کی تعریف کیا ہے؟", options: ["لفظوں کے ذریعے اشارہ کرنا جبکہ اصل معنی چھپے ہوں", "کسی کو گالی دینا", "سیدھی بات کرنا", "طنز کرنا"], correctOptionIndex: 0, explanation: "کنایہ میں بات کو اس طرح بیان کیا جاتا ہے کہ اس کے ظاہری معنی کچھ اور ہوں اور مراد کچھ اور ہو۔", difficulty: "medium", source_page: 14 },
                { question: "درست لفظ کا انتخاب کریں: 'قربانی' کا صحیح املا کیا ہے؟", options: ["قربانی", "قربانی", "قرابنی", "قربانئ"], correctOptionIndex: 0, explanation: "درست املا 'قربانی' ہے۔", difficulty: "easy", source_page: 11 },
                { question: "درست جملے کا انتخاب کریں:", options: ["بچے کھیل رہے ہیں۔", "بچے کھیل رہا ہے۔", "بچے کھیل رہے۔", "بچے کھیل رہے گا۔"], correctOptionIndex: 0, explanation: "جمع فاعل کے ساتھ جمع فعل استعمال ہوتا ہے۔", difficulty: "easy", source_page: 13 }
            ];

            // Combine and shuffle questions
            quizQuestions.push(...generalKnowledgeMCQs);
            quizQuestions.push(...mathematicsMCQs);
            quizQuestions.push(...urduMCQs);

            // Ensure a fixed number of questions (e.g., 100) by trimming or warning if not enough
            if (quizQuestions.length > 100) {
                // Randomly select 100 questions if more are available
                shuffleArray(quizQuestions);
                quizQuestions = quizQuestions.slice(0, 100);
            } else if (quizQuestions.length < 100) {
                console.warn(`Warning: Only ${quizQuestions.length} questions available for June 29. Aim for 100 questions.`);
                // If fewer than 100, just use what's available
            }
            
            shuffleArray(quizQuestions); // Shuffle the final set of questions

            // Randomly select one "Today's Special Question" (only if there are questions)
            if (quizQuestions.length > 0) {
                specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
                quizQuestions[specialQuestionIndex].special = true;
            }

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // --- Initial Setup on DOM Load ---
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 29JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            updateLiveDate();
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', updateLiveDate);
    </script>
</body>
</html>
