<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 26, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include seedrandom.js for consistent daily question shuffling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <style>
        /* Base Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Top Bar Styling */
        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Header Section Styling */
        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        /* Progress Bar Styling */
        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        /* Banner Image and Credits */
        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        /* Card Styling (Login, Candidate, Quiz, Results Pages) */
        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        /* Button Styling */
        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Option Button Styling */
        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        /* Special Question Highlight */
        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        /* Explanation Section */
        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        /* Timer and Question Progress Display */
        .timer-display, .question-progress {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start;
            }
            .top-bar .date-display {
                order: 1;
                font-size: 0.8rem;
                align-self: flex-start;
            }
            .top-bar .whatsapp-link {
                order: 2;
                font-size: 0.8rem;
                align-self: flex-end;
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Keyframe Animations */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        // Disable right-click, copy/paste, and developer tools for security
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault();
            }
            if (e.key === 'F12') {
                e.preventDefault();
            }
        });
        document.addEventListener('copy', event => event.preventDefault());
        document.addEventListener('paste', event => event.preventDefault());
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="free">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 100</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 26, 2025";
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Function to update the live date display and handle responsive positioning
        function updateLiveDate() {
            document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
            document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
            document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.classList.remove('justify-end');
                liveDateElement.classList.add('justify-start');
            } else {
                liveDateElement.classList.remove('justify-start');
                liveDateElement.classList.add('justify-end');
            }
        }


        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 25; // Quiz duration set to 25 minutes
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "20 minutes 30 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            // Score calculation: 2 marks for correct, -1 for incorrect. 100 questions total, so max score 200.
            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 26 quiz: ID is 26JUNE, password is 'free'
            const expectedLoginId = "26JUNE";
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // Seed the random number generator based on the date for consistent daily quizzes
            // (Note: A simple seedable PRNG for consistent question order on a given day, not for cryptographic security)
            const dateSeed = parseInt(CURRENT_DATE_STR.replace(/[^0-9]/g, '')); // e.g., 20250626
            Math.seedrandom(dateSeed);

            // June 26, 2025:
            // General Knowledge: General Information (Pages 1-12)
            // English: Correct/Incorrect With Solved Exercise (Pages 420-422)
            // Psychological Tests: Analogies (Pages 498-502)

            const generalKnowledgeMCQs = [
                // General Information: Pages 1-12 (34 questions)
                { question: "What is the capital city of Canada?", options: ["Toronto", "Ottawa", "Vancouver", "Montreal"], correctOptionIndex: 1, explanation: "Ottawa is the capital city of Canada.", difficulty: "easy", source_page: 1 },
                { question: "The largest desert in the world is the:", options: ["Sahara Desert", "Arabian Desert", "Gobi Desert", "Antarctic Polar Desert"], correctOptionIndex: 3, explanation: "The Antarctic Polar Desert is the largest desert in the world, covering most of the continent of Antarctica.", difficulty: "medium", source_page: 2 },
                { question: "Which is the longest river in the world?", options: ["Amazon River", "Nile River", "Yangtze River", "Mississippi River"], correctOptionIndex: 1, explanation: "The Nile River is traditionally considered the longest river in the world.", difficulty: "easy", source_page: 3 },
                { question: "Mount Everest is located in which mountain range?", options: ["Andes", "Rockies", "Himalayas", "Alps"], correctOptionIndex: 2, explanation: "Mount Everest is part of the Himalayan mountain range.", difficulty: "easy", source_page: 4 },
                { question: "The 'Land of the Rising Sun' is the nickname for which country?", options: ["China", "South Korea", "Japan", "Vietnam"], correctOptionIndex: 2, explanation: "Japan is often referred to as the 'Land of the Rising Sun'.", difficulty: "easy", source_page: 5 },
                { question: "Which continent is the largest by land area?", options: ["Africa", "Europe", "Asia", "North America"], correctOptionIndex: 2, explanation: "Asia is the Earth's largest continent by land area and population.", difficulty: "easy", source_page: 6 },
                { question: "The Great Barrier Reef is off the coast of which country?", options: ["India", "Australia", "Brazil", "South Africa"], correctOptionIndex: 1, explanation: "The Great Barrier Reef is located off the coast of Queensland, Australia.", difficulty: "medium", source_page: 7 },
                { question: "What is the chemical symbol for water?", options: ["O2", "CO2", "H2O", "N2"], correctOptionIndex: 2, explanation: "H2O is the chemical formula for water.", difficulty: "easy", source_page: 8 },
                { question: "Who painted the Mona Lisa?", options: ["Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Claude Monet"], correctOptionIndex: 2, explanation: "Leonardo da Vinci painted the Mona Lisa.", difficulty: "easy", source_page: 9 },
                { question: "The instrument used to measure atmospheric pressure is:", options: ["Thermometer", "Barometer", "Anemometer", "Hydrometer"], correctOptionIndex: 1, explanation: "A barometer is used to measure atmospheric pressure.", difficulty: "medium", source_page: 10 },
                { question: "Which planet is known as the 'Red Planet'?", options: ["Venus", "Mars", "Jupiter", "Saturn"], correctOptionIndex: 1, explanation: "Mars is often called the 'Red Planet' due to its reddish appearance.", difficulty: "easy", source_page: 11 },
                { question: "The process by which plants make their own food is called:", options: ["Respiration", "Transpiration", "Photosynthesis", "Digestion"], correctOptionIndex: 2, explanation: "Photosynthesis is the process used by plants to convert light energy into chemical energy.", difficulty: "easy", source_page: 12 },
                { question: "What is the currency of Japan?", options: ["Yuan", "Won", "Yen", "Rupee"], correctOptionIndex: 2, explanation: "The currency of Japan is the Japanese Yen.", difficulty: "easy", source_page: 1 },
                { question: "Which ocean is the largest and deepest?", options: ["Atlantic Ocean", "Indian Ocean", "Southern Ocean", "Pacific Ocean"], correctOptionIndex: 3, explanation: "The Pacific Ocean is the largest and deepest of Earth's oceanic divisions.", difficulty: "easy", source_page: 2 },
                { question: "The Suez Canal connects which two bodies of water?", options: ["Red Sea and Mediterranean Sea", "Atlantic Ocean and Pacific Ocean", "Black Sea and Aegean Sea", "Baltic Sea and North Sea"], correctOptionIndex: 0, explanation: "The Suez Canal is an artificial sea-level waterway in Egypt, connecting the Mediterranean Sea to the Red Sea.", difficulty: "medium", source_page: 3 },
                { question: "Which country is famous for its pyramids?", options: ["China", "Mexico", "Egypt", "Peru"], correctOptionIndex: 2, explanation: "Egypt is renowned for its ancient pyramids.", difficulty: "easy", source_page: 4 },
                { question: "The Amazon rainforest is primarily located in which continent?", options: ["Africa", "South America", "Asia", "Australia"], correctOptionIndex: 1, explanation: "The Amazon rainforest covers much of northwestern South America.", difficulty: "easy", source_page: 5 },
                { question: "What is the smallest continent by land area?", options: ["Europe", "Australia", "Antarctica", "South America"], correctOptionIndex: 1, explanation: "Australia is the smallest continent by land area.", difficulty: "easy", source_page: 6 },
                { question: "The study of earthquakes is called:", options: ["Geology", "Meteorology", "Seismology", "Biology"], correctOptionIndex: 2, explanation: "Seismology is the scientific study of earthquakes and the propagation of elastic waves through the Earth or through other planet-like bodies.", difficulty: "medium", source_page: 7 },
                { question: "Which gas do plants absorb from the atmosphere for photosynthesis?", options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"], correctOptionIndex: 2, explanation: "Plants absorb carbon dioxide from the atmosphere during photosynthesis.", difficulty: "easy", source_page: 8 },
                { question: "Who developed the theory of relativity?", options: ["Isaac Newton", "Galileo Galilei", "Albert Einstein", "Stephen Hawking"], correctOptionIndex: 2, explanation: "Albert Einstein developed the theory of relativity.", difficulty: "easy", source_page: 9 },
                { question: "The largest organ in the human body is the:", options: ["Heart", "Brain", "Skin", "Liver"], correctOptionIndex: 2, explanation: "The skin is the largest organ of the human body.", difficulty: "easy", source_page: 10 },
                { question: "Which country is home to the 'Great Wall'?", options: ["Japan", "India", "China", "Mongolia"], correctOptionIndex: 2, explanation: "The Great Wall of China is a series of fortifications built across the historical northern borders of ancient Chinese states and Imperial China.", difficulty: "easy", source_page: 11 },
                { question: "The process of converting sugar into alcohol and carbon dioxide is called:", options: ["Oxidation", "Fermentation", "Digestion", "Combustion"], correctOptionIndex: 1, explanation: "Fermentation is the process that converts sugar to acids, gases, or alcohol.", difficulty: "medium", source_page: 12 },
                { question: "The official language of Brazil is:", options: ["Spanish", "Portuguese", "English", "French"], correctOptionIndex: 1, explanation: "Portuguese is the official and national language of Brazil.", difficulty: "easy", source_page: 1 },
                { question: "The deepest point in the Earth's oceans is the:", options: ["Puerto Rico Trench", "Java Trench", "Mariana Trench", "Philippine Trench"], correctOptionIndex: 2, explanation: "The Mariana Trench, located in the western Pacific Ocean, is the deepest oceanic trench on Earth.", difficulty: "tough", source_page: 2 },
                { question: "Which famous structure was built by the Romans for gladiatorial contests?", options: ["Pantheon", "Colosseum", "Aqueduct", "Forum"], correctOptionIndex: 1, explanation: "The Colosseum is an elliptical amphitheatre in the centre of the city of Rome, Italy, built by the Flavian dynasty for gladiatorial contests and public spectacles.", difficulty: "easy", source_page: 3 },
                { question: "Which mountain is the highest in Africa?", options: ["Mount Kilimanjaro", "Mount Kenya", "Mount Stanley", "Mount Elgon"], correctOptionIndex: 0, explanation: "Mount Kilimanjaro is the highest mountain in Africa.", difficulty: "easy", source_page: 4 },
                { question: "The 'Big Apple' is a nickname for which city?", options: ["Los Angeles", "Chicago", "New York City", "Boston"], correctOptionIndex: 2, explanation: "New York City is famously known as 'The Big Apple'.", difficulty: "easy", source_page: 5 },
                { question: "Which continent is known as the 'Dark Continent'?", options: ["Asia", "Africa", "South America", "Antarctica"], correctOptionIndex: 1, explanation: "Africa was historically referred to as the 'Dark Continent' by Europeans due to its perceived mystery and unexplored interior.", difficulty: "medium", source_page: 6 },
                { question: "The study of climate and weather is called:", options: ["Hydrology", "Oceanography", "Climatology", "Pathology"], correctOptionIndex: 2, explanation: "Climatology is the scientific study of climate, meteorology is the study of weather.", difficulty: "medium", source_page: 7 },
                { question: "What is the primary gas in Earth's atmosphere?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Argon"], correctOptionIndex: 2, explanation: "Nitrogen makes up about 78% of Earth's atmosphere.", difficulty: "easy", source_page: 8 },
                { question: "Who wrote 'Hamlet'?", options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Mark Twain"], correctOptionIndex: 1, explanation: "William Shakespeare wrote the play 'Hamlet'.", difficulty: "easy", source_page: 9 },
                { question: "The human heart has how many chambers?", options: ["Two", "Three", "Four", "Five"], correctOptionIndex: 2, explanation: "The human heart has four chambers: two atria and two ventricles.", difficulty: "easy", source_page: 10 }
            ];

            const englishMCQs = [
                // Correct/Incorrect With Solved Exercise: Pages 420-422 (33 questions)
                // Focusing on common grammatical errors and sentence structure
                { question: "Identify the INCORRECT sentence: 'He is junior than me.'", options: ["He is junior to me.", "He is junior than me.", "He is junior to I.", "He is more junior than me."], correctOptionIndex: 1, explanation: "'Junior' takes the preposition 'to', not 'than'.", difficulty: "easy", source_page: 420 },
                { question: "Identify the CORRECT sentence: 'The news are true.'", options: ["The news are true.", "The news is true.", "The news were true.", "The news be true."], correctOptionIndex: 1, explanation: "'News' is an uncountable noun and takes a singular verb.", difficulty: "easy", source_page: 420 },
                { question: "Choose the CORRECT sentence: 'Each of the boys play cricket.'", options: ["Each of the boys play cricket.", "Each of the boys plays cricket.", "Each of the boy play cricket.", "Each of the boys playing cricket."], correctOptionIndex: 1, explanation: "'Each of' takes a singular verb.", difficulty: "medium", source_page: 420 },
                { question: "Identify the INCORRECT sentence: 'He has fear from the dog.'", options: ["He has fear of the dog.", "He has fear from the dog.", "He is fearful from the dog.", "He has fear about the dog."], correctOptionIndex: 1, explanation:"The correct preposition is 'of', not 'from'.", difficulty: "easy", source_page: 421 },
                { question: "Choose the CORRECT sentence: 'Neither of them were present.'", options: ["Neither of them were present.", "Neither of them was present.", "Neither of them are present.", "Neither of them present."], correctOptionIndex: 1, explanation: "'Neither of' takes a singular verb.", difficulty: "medium", source_page: 421 },
                { question: "Identify the INCORRECT sentence: 'I prefer coffee than tea.'", options: ["I prefer coffee to tea.", "I prefer coffee than tea.", "I prefer coffee and tea.", "I prefer coffee then tea."], correctOptionIndex: 1, explanation: "'Prefer' is followed by 'to', not 'than'.", difficulty: "easy", source_page: 421 },
                { question: "Choose the CORRECT sentence: 'He is good in English.'", options: ["He is good in English.", "He is good at English.", "He is good for English.", "He is good with English."], correctOptionIndex: 1, explanation: "'Good at' is the correct idiom for proficiency.", difficulty: "easy", source_page: 422 },
                { question: "Identify the INCORRECT sentence: 'One of my friend is a doctor.'", options: ["One of my friends is a doctor.", "One of my friend is a doctor.", "One of my friend are a doctor.", "One of friends is a doctor."], correctOptionIndex: 1, explanation: "'One of' should be followed by a plural noun.", difficulty: "medium", source_page: 422 },
                { question: "Choose the CORRECT sentence: 'She entered into the room.'", options: ["She entered into the room.", "She entered the room.", "She entered in the room.", "She entered at the room."], correctOptionIndex: 1, explanation: "The verb 'enter' does not require a preposition like 'into' when referring to a physical space.", difficulty: "easy", source_page: 422 },
                { question: "Identify the INCORRECT sentence: 'He is suffering with fever.'", options: ["He is suffering from fever.", "He is suffering with fever.", "He suffer from fever.", "He is suffering by fever."], correctOptionIndex: 1, explanation: "'Suffering' takes the preposition 'from'.", difficulty: "easy", source_page: 420 },
                { question: "Choose the CORRECT sentence: 'The climate of Karachi is better than Hyderabad.'", options: ["The climate of Karachi is better than Hyderabad.", "The climate of Karachi is better than that of Hyderabad.", "Karachi climate is better than Hyderabad.", "The climate of Karachi is better than Hyderabad's."], correctOptionIndex: 1, explanation: "Comparison should be between similar things (climate of Karachi vs. climate of Hyderabad), requiring 'that of'.", difficulty: "tough", source_page: 420 },
                { question: "Identify the INCORRECT sentence: 'He is confident to success.'", options: ["He is confident of success.", "He is confident to success.", "He is confident for success.", "He is confident on success."], correctOptionIndex: 1, explanation: "'Confident' takes the preposition 'of'.", difficulty: "easy", source_page: 421 },
                { question: "Choose the CORRECT sentence: 'The reason why he failed is because he did not study.'", options: ["The reason why he failed is because he did not study.", "The reason why he failed is that he did not study.", "He failed because he did not study.", "The reason he failed is because he did not study."], correctOptionIndex: 1, explanation: "Avoid using 'the reason... is because'; use 'the reason... is that' or simply 'because'.", difficulty: "medium", source_page: 421 },
                { question: "Identify the INCORRECT sentence: 'I am accustomed with hard work.'", options: ["I am accustomed to hard work.", "I am accustomed with hard work.", "I am accustomed by hard work.", "I am accustomed for hard work."], correctOptionIndex: 1, explanation: "'Accustomed' takes the preposition 'to'.", difficulty: "easy", source_page: 422 },
                { question: "Choose the CORRECT sentence: 'She is capable for doing this.'", options: ["She is capable for doing this.", "She is capable of doing this.", "She is capable to doing this.", "She is capable in doing this."], correctOptionIndex: 1, explanation: "'Capable' takes the preposition 'of'.", difficulty: "easy", source_page: 420 },
                { question: "Identify the INCORRECT sentence: 'He prevented me to go.'", options: ["He prevented me from going.", "He prevented me to go.", "He prevented me not to go.", "He prevented me going."], correctOptionIndex: 1, explanation: "'Prevent' is followed by 'from' + '-ing' form.", difficulty: "medium", source_page: 420 },
                { question: "Choose the CORRECT sentence: 'He enjoys to play cricket.'", options: ["He enjoys to play cricket.", "He enjoys playing cricket.", "He enjoys for playing cricket.", "He enjoys of playing cricket."], correctOptionIndex: 1, explanation: "The verb 'enjoy' is followed by a gerund (-ing form).", difficulty: "easy", source_page: 421 },
                { question: "Identify the INCORRECT sentence: 'She is desirous for knowledge.'", options: ["She is desirous of knowledge.", "She is desirous for knowledge.", "She is desirous to knowledge.", "She is desirous with knowledge."], correctOptionIndex: 1, explanation: "'Desirous' takes the preposition 'of'.", difficulty: "easy", source_page: 421 },
                { question: "Choose the CORRECT sentence: 'He is senior than all others.'", options: ["He is senior than all others.", "He is senior to all others.", "He is senior from all others.", "He is senior with all others."], correctOptionIndex: 1, explanation: "'Senior' takes the preposition 'to'.", difficulty: "easy", source_page: 422 },
                { question: "Identify the INCORRECT sentence: 'The committee is divided in their opinion.'", options: ["The committee are divided in their opinion.", "The committee is divided in their opinion.", "The committee is divided in its opinion.", "The committee are divided in its opinion."], correctOptionIndex: 1, explanation: "When a collective noun refers to individual members acting separately, it takes a plural verb and pronoun.", difficulty: "tough", source_page: 422 },
                { question: "Choose the CORRECT sentence: 'I have ordered for a book.'", options: ["I have ordered for a book.", "I have ordered a book.", "I have ordered to a book.", "I have ordered with a book."], correctOptionIndex: 1, explanation: "The verb 'order' is transitive and does not require 'for' when referring to ordering something.", difficulty: "easy", source_page: 420 },
                { question: "Identify the INCORRECT sentence: 'She insisted on me to go.'", options: ["She insisted on my going.", "She insisted on me to go.", "She insisted me to go.", "She insisted for me to go."], correctOptionIndex: 1, explanation: "'Insist on' is followed by a possessive pronoun + gerund.", difficulty: "tough", source_page: 420 },
                { question: "Choose the CORRECT sentence: 'Despite of being rich, he is unhappy.'", options: ["Despite of being rich, he is unhappy.", "Despite being rich, he is unhappy.", "In spite being rich, he is unhappy.", "Despite of rich, he is unhappy."], correctOptionIndex: 1, explanation: "'Despite' is not followed by 'of'. Use 'in spite of' or just 'despite'.", difficulty: "easy", source_page: 421 },
                { question: "Identify the INCORRECT sentence: 'He died from cancer.'", options: ["He died of cancer.", "He died from cancer.", "He died due to cancer.", "He died because of cancer."], correctOptionIndex: 1, explanation: "'Die of' is used for diseases.", difficulty: "easy", source_page: 421 },
                { question: "Choose the CORRECT sentence: 'He gave me a good advice.'", options: ["He gave me a good advice.", "He gave me a good piece of advice.", "He gave me good advises.", "He gave me good advice."], correctOptionIndex: 1, explanation: "'Advice' is an uncountable noun and cannot be used with 'a'; use 'a piece of advice'.", difficulty: "medium", source_page: 422 },
                { question: "Identify the INCORRECT sentence: 'The patient is admitted in the hospital.'", options: ["The patient is admitted to the hospital.", "The patient is admitted in the hospital.", "The patient is admitted into the hospital.", "The patient is admitted at the hospital."], correctOptionIndex: 1, explanation: "For admission to an institution, 'admitted to' is usually preferred.", difficulty: "easy", source_page: 422 },
                { question: "Choose the CORRECT sentence: 'He is accused with theft.'", options: ["He is accused with theft.", "He is accused of theft.", "He is accused for theft.", "He is accused by theft."], correctOptionIndex: 1, explanation: "'Accused' takes the preposition 'of'.", difficulty: "easy", source_page: 420 },
                { question: "Identify the INCORRECT sentence: 'She refrained to tell me the truth.'", options: ["She refrained from telling me the truth.", "She refrained to tell me the truth.", "She refrained not to tell me the truth.", "She refrained of telling me the truth."], correctOptionIndex: 1, explanation: "'Refrain' is followed by 'from' + '-ing' form.", difficulty: "medium", source_page: 420 },
                { question: "Choose the CORRECT sentence: 'They complied to my request.'", options: ["They complied to my request.", "They complied with my request.", "They complied for my request.", "They complied in my request."], correctOptionIndex: 1, explanation: "'Comply' takes the preposition 'with'.", difficulty: "easy", source_page: 421 },
                { question: "Identify the INCORRECT sentence: 'He is senior from me.'", options: ["He is senior to me.", "He is senior from me.", "He is senior than me.", "He is senior by me."], correctOptionIndex: 1, explanation: "'Senior' takes the preposition 'to'.", difficulty: "easy", source_page: 421 },
                { question: "Choose the CORRECT sentence: 'His manners are polite.'", options: ["His manners are polite.", "His manner is polite.", "His manner are polite.", "His manners is polite."], correctOptionIndex: 0, explanation: "'Manners' refers to overall behavior and is a plural noun.", difficulty: "medium", source_page: 422 },
                { question: "Identify the INCORRECT sentence: 'He has no control on his temper.'", options: ["He has no control over his temper.", "He has no control on his temper.", "He has no control with his temper.", "He has no control for his temper."], correctOptionIndex: 1, explanation: "'Control' takes the preposition 'over'.", difficulty: "easy", source_page: 422 },
                { question: "Choose the CORRECT sentence: 'The dog ran at a high speed.'", options: ["The dog ran at a high speed.", "The dog ran with a high speed.", "The dog ran in a high speed.", "The dog ran by a high speed."], correctOptionIndex: 0, explanation: "'At a speed' is the correct idiom.", difficulty: "easy", source_page: 420 }
            ];

            const psychologicalTestsMCQs = [
                // Analogies: Pages 498-502 (33 questions)
                { question: "OXYGEN : BURN :: FOOD : ?", options: ["Eat", "Digest", "Cook", "Grow"], correctOptionIndex: 1, explanation: "Oxygen is essential for burning; food is essential for digestion.", difficulty: "easy", source_page: 498 },
                { question: "DOCTOR : PATIENT :: LAWYER : ?", options: ["Client", "Court", "Judge", "Law"], correctOptionIndex: 0, explanation: "A doctor serves a patient; a lawyer serves a client.", difficulty: "easy", source_page: 498 },
                { question: "TAILOR : SUIT :: CHEF : ?", options: ["Food", "Restaurant", "Knife", "Recipe"], correctOptionIndex: 0, explanation: "A tailor makes a suit; a chef makes food.", difficulty: "easy", source_page: 498 },
                { question: "BOOK : PAGE :: LADDER : ?", options: ["Step", "Wood", "Climb", "Tall"], correctOptionIndex: 0, explanation: "A book is made of pages; a ladder is made of steps.", difficulty: "easy", source_page: 499 },
                { question: "COW : MILK :: HEN : ?", options: ["Egg", "Feather", "Chicken", "Nest"], correctOptionIndex: 0, explanation: "A cow gives milk; a hen gives eggs.", difficulty: "easy", source_page: 499 },
                { question: "FRUIT : TREE :: FLOWER : ?", options: ["Vase", "Root", "Plant", "Garden"], correctOptionIndex: 2, explanation: "Fruit grows on a tree; a flower grows on a plant.", difficulty: "easy", source_page: 499 },
                { question: "BIRD : NEST :: ANIMAL : ?", options: ["Cave", "Den", "Zoo", "Shelter"], correctOptionIndex: 3, explanation: "A bird lives in a nest; an animal lives in a shelter (general term for habitat).", difficulty: "medium", source_page: 500 },
                { question: "HOT : COLD :: LIGHT : ?", options: ["Dark", "Heavy", "Bulb", "Day"], correctOptionIndex: 0, explanation: "Hot is the opposite of cold; light is the opposite of dark.", difficulty: "easy", source_page: 500 },
                { question: "SHOE : FOOT :: GLOVE : ?", options: ["Hand", "Finger", "Wrist", "Arm"], correctOptionIndex: 0, explanation: "A shoe is worn on the foot; a glove is worn on the hand.", difficulty: "easy", source_page: 500 },
                { question: "WATER : DRINK :: BREAD : ?", options: ["Eat", "Bake", "Wheat", "Butter"], correctOptionIndex: 0, explanation: "You drink water; you eat bread.", difficulty: "easy", source_page: 501 },
                { question: "LEAF : TREE :: BRICK : ?", options: ["Wall", "Clay", "House", "Cement"], correctOptionIndex: 0, explanation: "Leaves are parts of a tree; bricks are parts of a wall.", difficulty: "medium", source_page: 501 },
                { question: "EAR : LISTEN :: EYE : ?", options: ["See", "Glasses", "Blind", "Look"], correctOptionIndex: 0, explanation: "You use your ear to listen; you use your eye to see.", difficulty: "easy", source_page: 501 },
                { question: "FARMER : FIELD :: TEACHER : ?", options: ["School", "Student", "Book", "Classroom"], correctOptionIndex: 3, explanation: "A farmer works in a field; a teacher works in a classroom.", difficulty: "medium", source_page: 502 },
                { question: "SUN : DAY :: MOON : ?", options: ["Night", "Star", "Light", "Sky"], correctOptionIndex: 0, explanation: "The sun is associated with day; the moon is associated with night.", difficulty: "easy", source_page: 502 },
                { question: "GRASS : GREEN :: BLOOD : ?", options: ["Red", "Blue", "White", "Vein"], correctOptionIndex: 0, explanation: "Grass is green; blood is red.", difficulty: "easy", source_page: 498 },
                { question: "KEY : LOCK :: PASSWORD : ?", options: ["Unlock", "Computer", "Security", "Access"], correctOptionIndex: 3, explanation: "A key grants access to a lock; a password grants access to a system (e.g., computer).", difficulty: "medium", source_page: 499 },
                { question: "TRAIN : TRACK :: CAR : ?", options: ["Road", "Wheel", "Driver", "Engine"], correctOptionIndex: 0, explanation: "A train moves on a track; a car moves on a road.", difficulty: "easy", source_page: 499 },
                { question: "PIG : PIGLET :: DOG : ?", options: ["Cat", "Puppy", "Bark", "Kennel"], correctOptionIndex: 1, explanation: "A pig's young one is a piglet; a dog's young one is a puppy.", difficulty: "easy", source_page: 500 },
                { question: "EDITOR : NEWSPAPER :: FILMMAKER : ?", options: ["Movie", "Actor", "Camera", "Studio"], correctOptionIndex: 0, explanation: "An editor produces a newspaper; a filmmaker produces a movie.", difficulty: "medium", source_page: 500 },
                { question: "PEN : WRITE :: KNIFE : ?", options: ["Cut", "Sharp", "Blade", "Fork"], correctOptionIndex: 0, explanation: "You use a pen to write; you use a knife to cut.", difficulty: "easy", source_page: 501 },
                { question: "TEETH : CHEW :: FINGER : ?", options: ["Point", "Touch", "Nail", "Ring"], correctOptionIndex: 1, explanation: "Teeth are used to chew; fingers are used to touch.", difficulty: "easy", source_page: 501 },
                { question: "UMPIRE : BASEBALL :: REFEREE : ?", options: ["Football", "Basketball", "Tennis", "Cricket"], correctOptionIndex: 0, explanation: "An umpire officiates baseball; a referee officiates football (soccer).", difficulty: "medium", source_page: 502 },
                { question: "WARM : HOT :: COOL : ?", options: ["Cold", "Freezing", "Chill", "Windy"], correctOptionIndex: 0, explanation: "Warm is a lesser degree of hot; cool is a lesser degree of cold.", difficulty: "medium", source_page: 498 },
                { question: "GRAPE : WINE :: POTATO : ?", options: ["Chips", "Vegetable", "Mash", "Grow"], correctOptionIndex: 0, explanation: "Wine is made from grapes; chips are made from potatoes.", difficulty: "medium", source_page: 499 },
                { question: "AUTHOR : BOOK :: COMPOSER : ?", options: ["Music", "Song", "Orchestra", "Melody"], correctOptionIndex: 0, explanation: "An author creates a book; a composer creates music.", difficulty: "easy", source_page: 500 },
                { question: "CLOTHES : WARDROBE :: BOOKS : ?", options: ["Shelf", "Library", "Read", "Paper"], correctOptionIndex: 0, explanation: "Clothes are kept in a wardrobe; books are kept on a shelf.", difficulty: "easy", source_page: 500 },
                { question: "CAPTAIN : SHIP :: LEADER : ?", options: ["Team", "Follower", "Guide", "Group"], correctOptionIndex: 0, explanation: "A captain leads a ship; a leader leads a team.", difficulty: "easy", source_page: 501 },
                { question: "CLOCK : TIME :: THERMOMETER : ?", options: ["Temperature", "Fever", "Heat", "Weather"], correctOptionIndex: 0, explanation: "A clock measures time; a thermometer measures temperature.", difficulty: "easy", source_page: 501 },
                { question: "POISON : DEATH :: MEDICINE : ?", options: ["Cure", "Sickness", "Pill", "Doctor"], correctOptionIndex: 0, explanation: "Poison leads to death; medicine leads to cure.", difficulty: "easy", source_page: 502 },
                { question: "EARTH : PLANET :: MOON : ?", options: ["Star", "Satellite", "Orbit", "Night"], correctOptionIndex: 1, explanation: "Earth is a planet; the Moon is a satellite.", difficulty: "easy", source_page: 502 },
                { question: "FRANCE : PARIS :: JAPAN : ?", options: ["Tokyo", "Kyoto", "Osaka", "Beijing"], correctOptionIndex: 0, explanation: "Paris is the capital of France; Tokyo is the capital of Japan.", difficulty: "easy", source_page: 498 },
                { question: "WOOD : FURNITURE :: CLAY : ?", options: ["Pottery", "Brick", "Mud", "Sculpture"], correctOptionIndex: 0, explanation: "Furniture is made from wood; pottery is made from clay.", difficulty: "medium", source_page: 499 },
                { question: "WOOL : SHEEP :: SILK : ?", options: ["Worm", "Fabric", "Cocoon", "Thread"], correctOptionIndex: 0, explanation: "Wool comes from sheep; silk comes from a worm (silkworm).", difficulty: "medium", source_page: 500 }
            ];


            // Combine and shuffle questions
            quizQuestions.push(...generalKnowledgeMCQs);
            quizQuestions.push(...englishMCQs);
            quizQuestions.push(...psychologicalTestsMCQs);

            // Ensure a fixed number of questions (e.g., 100) by trimming or warning if not enough
            if (quizQuestions.length > 100) {
                // Randomly select 100 questions if more are available
                shuffleArray(quizQuestions);
                quizQuestions = quizQuestions.slice(0, 100);
            } else if (quizQuestions.length < 100) {
                console.warn(`Warning: Only ${quizQuestions.length} questions available for June 26. Aim for 100 questions.`);
                // If fewer than 100, just use what's available
            }
            
            shuffleArray(quizQuestions); // Shuffle the final set of questions

            // Randomly select one "Today's Special Question" (only if there are questions)
            if (quizQuestions.length > 0) {
                specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
                quizQuestions[specialQuestionIndex].special = true;
            }

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // --- Initial Setup on DOM Load ---
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 26JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            updateLiveDate();
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', updateLiveDate);
    </script>
</body>
</html>
