<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 09, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50; /* Changed to main text color */
            margin-top: 0.5rem;
            font-weight: bold; /* Added bold as per request */
        }

        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start; /* Align to start on mobile */
            }
            .top-bar .date-display {
                order: 1; /* Move date to top-left on mobile */
                font-size: 0.8rem;
                align-self: flex-start; /* Align to start on mobile */
            }
            .top-bar .whatsapp-link {
                order: 2; /* Move whatsapp to bottom on mobile */
                font-size: 0.8rem;
                align-self: flex-end; /* Align to end on mobile */
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        /* Shake animation for wrong answer */
        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault()); // Disable right-click
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault(); // Disable Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J
            }
            if (e.key === 'F12') {
                e.preventDefault(); // Disable F12
            }
        });
        document.addEventListener('copy', event => event.preventDefault()); // Disable copy
        document.addEventListener('paste', event => event.preventDefault()); // Disable paste
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 09, 2025"; // Updated for June 09 quiz
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40;
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 09 quiz
            const expectedLoginId = "9JUNE"; 
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // General Knowledge (20 MCQs)
            const generalKnowledgeMCQs = [
                // GK - June 09: Highest Military & Civil Awards: Page 67 & International Borders & Lines: Pages 68-69 (20 MCQs)
                { question: "Which is the highest military award in Pakistan?", options: ["Sitara-e-Jurat", "Hilal-e-Jurat", "Nishan-e-Haider", "Tamgha-e-Jurat"], correctOptionIndex: 2, explanation: "Nishan-e-Haider (Sign of the Lion) is the highest military award in Pakistan.", difficulty: "easy", source_page: 67 },
                { question: "The highest civil award in Pakistan is:", options: ["Hilal-e-Pakistan", "Sitara-e-Imtiaz", "Nishan-e-Imtiaz", "Tamgha-e-Pakistan"], correctOptionIndex: 2, explanation: "Nishan-e-Imtiaz (Order of Excellence) is the highest civil award in Pakistan.", difficulty: "easy", source_page: 67 },
                { question: "What is the highest military award in the United States?", options: ["Medal of Honor", "Purple Heart", "Silver Star", "Bronze Star"], correctOptionIndex: 0, explanation: "The Medal of Honor is the United States' highest and most prestigious military decoration.", difficulty: "medium", source_page: 67 },
                { question: "Which is the highest military award in the United Kingdom?", options: ["George Cross", "Victoria Cross", "Order of the Garter", "Distinguished Service Order"], correctOptionIndex: 1, explanation: "The Victoria Cross is the highest and most prestigious award for gallantry in the face of the enemy that can be awarded to members of the British Armed Forces.", difficulty: "medium", source_page: 67 },
                { question: "Which award is equivalent to Nishan-e-Haider in India?", options: ["Param Vir Chakra", "Ashoka Chakra", "Maha Vir Chakra", "Vir Chakra"], correctOptionIndex: 0, explanation: "The Param Vir Chakra is India's highest military decoration, awarded for the highest degree of conspicuous bravery.", difficulty: "tough", source_page: 67 },
                { question: "The Radcliffe Line demarcates the border between which two countries?", options: ["India and China", "Pakistan and Afghanistan", "India and Pakistan", "Bangladesh and Myanmar"], correctOptionIndex: 2, explanation: "The Radcliffe Line is the boundary demarcation line between India and Pakistan.", difficulty: "easy", source_page: 68 },
                { question: "The Durand Line forms the border between:", options: ["Iran and Pakistan", "Pakistan and Afghanistan", "India and Bangladesh", "China and Afghanistan"], correctOptionIndex: 1, explanation: "The Durand Line is the international 2,640-kilometre (1,640 mi) land border between Afghanistan and Pakistan.", difficulty: "easy", source_page: 68 },
                { question: "The Maginot Line was a line of fortifications built by which country?", options: ["Germany", "France", "Russia", "Italy"], correctOptionIndex: 1, explanation: "The Maginot Line was a line of concrete fortifications, obstacles, and weapon installations built by France in the 1930s to deter invasion.", difficulty: "medium", source_page: 68 },
                { question: "The 38th Parallel is a significant border between:", options: ["North and South Vietnam", "North and South Korea", "East and West Germany", "India and China"], correctOptionIndex: 1, explanation: "The 38th Parallel north latitude roughly demarcates North Korea and South Korea.", difficulty: "medium", source_page: 69 },
                { question: "The Mason-Dixon Line historically separates which regions in the USA?", options: ["North and South", "East and West", "Coastal and Inland", "Urban and Rural"], correctOptionIndex: 0, explanation: "The Mason–Dixon line is a demarcation line separating four U.S. states, forming part of the borders of Pennsylvania, Maryland, Delaware, and West Virginia (then part of Virginia). It is commonly used as a cultural dividing line between the North and South.", difficulty: "medium", source_page: 69 },
                { question: "The MacMahon Line is a disputed border between:", options: ["India and Pakistan", "India and China", "China and Russia", "Nepal and China"], correctOptionIndex: 1, explanation: "The McMahon Line is a line agreed to by the British and Tibet as a border, but disputed by China, which separates Tibet and the North-East Frontier Region of India.", difficulty: "tough", source_page: 68 },
                { question: "Which military award is given for outstanding leadership and gallantry in the Pakistan Army?", options: ["Sitara-e-Basalat", "Hilal-e-Jurat", "Imtiaz-e-Quaid-e-Azam", "Tamgha-e-Basalat"], correctOptionIndex: 1, explanation: "Hilal-e-Jurat is awarded for acts of valor, courage, or distinguished service, usually in combat, as a field officer.", difficulty: "medium", source_page: 67 },
                { question: "The 49th Parallel forms a major portion of the border between:", options: ["USA and Mexico", "USA and Canada", "Russia and China", "France and Spain"], correctOptionIndex: 1, explanation: "The 49th parallel north is an important border between the United States and Canada.", difficulty: "easy", source_page: 69 },
                { question: "The border between Germany and Poland is known as the:", options: ["Oder-Neisse Line", "Curzon Line", "Green Line", "Blue Line"], correctOptionIndex: 0, explanation: "The Oder-Neisse Line is the international border between Germany and Poland.", difficulty: "tough", source_page: 68 },
                { question: "Which of these is the highest civil award of India?", options: ["Bharat Ratna", "Padma Vibhushan", "Padma Bhushan", "Padma Shri"], correctOptionIndex: 0, explanation: "Bharat Ratna is the highest civilian award of the Republic of India.", difficulty: "medium", source_page: 67 },
                { question: "The Hindenburg Line was a German defensive position during which war?", options: ["Franco-Prussian War", "World War I", "World War II", "Cold War"], correctOptionIndex: 1, explanation: "The Hindenburg Line was a vast system of defenses in northeastern France, built by the German Army during World War I.", difficulty: "tough", source_page: 68 },
                { question: "The border between Russia and Finland is marked by the:", options: ["Mannerheim Line", "Stalin Line", "Molotov-Ribbentrop Line", "Vistula Line"], correctOptionIndex: 0, explanation: "The Mannerheim Line was a defensive fortification line on the Karelian Isthmus built by Finland to defend against the Soviet Union.", difficulty: "tough", source_page: 69 },
                { question: "What is the equivalent of Pakistan's Hilal-e-Imtiaz in the United States?", options: ["Presidential Medal of Freedom", "Distinguished Service Medal", "Legion of Merit", "National Security Medal"], correctOptionIndex: 0, explanation: "The Presidential Medal of Freedom is the highest civilian award of the United States.", difficulty: "medium", source_page: 67 },
                { question: "The border between North and South Vietnam was known as the:", options: ["17th Parallel", "38th Parallel", "49th Parallel", "DMZ"], correctOptionIndex: 0, explanation: "The 17th Parallel was the provisional military demarcation line between North and South Vietnam established by the Geneva Accords of 1954.", difficulty: "easy", source_page: 69 },
                { question: "The 'Blue Line' is a demarcation line between Israel and:", options: ["Egypt", "Syria", "Lebanon", "Jordan"], correctOptionIndex: 2, explanation: "The Blue Line is a demarcation line between Lebanon and Israel published by the United Nations.", difficulty: "tough", source_page: 69 }
            ];
            quizQuestions.push(...generalKnowledgeMCQs);

            // English (40 MCQs)
            const englishMCQs = [
                // English - June 09: Active Passive Voice: Pages 464-467 (40 MCQs)
                { question: "Change into passive voice: 'She sings a song.'", options: ["A song is sung by her.", "A song was sung by her.", "A song is being sung by her.", "A song has been sung by her."], correctOptionIndex: 0, explanation: "In active voice (Subject-Verb-Object), the object becomes the subject in passive voice, and 'is/am/are + past participle' form of the verb is used.", difficulty: "easy", source_page: 464 },
                { question: "Change into passive voice: 'He writes a letter.'", options: ["A letter is written by him.", "A letter was written by him.", "A letter is being written by him.", "A letter has been written by him."], correctOptionIndex: 0, explanation: "For simple present active (writes), the passive is 'is written'.", difficulty: "easy", source_page: 464 },
                { question: "Change into passive voice: 'They are playing cricket.'", options: ["Cricket is played by them.", "Cricket was played by them.", "Cricket is being played by them.", "Cricket has been played by them."], correctOptionIndex: 2, explanation: "For present continuous active (are playing), the passive is 'is being played'.", difficulty: "medium", source_page: 464 },
                { question: "Change into passive voice: 'I have eaten an apple.'", options: ["An apple is eaten by me.", "An apple was eaten by me.", "An apple is being eaten by me.", "An apple has been eaten by me."], correctOptionIndex: 3, explanation: "For present perfect active (have eaten), the passive is 'has been eaten'.", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'He killed a snake.'", options: ["A snake is killed by him.", "A snake was killed by him.", "A snake is being killed by him.", "A snake has been killed by him."], correctOptionIndex: 1, explanation: "For simple past active (killed), the passive is 'was killed'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'She was reading a book.'", options: ["A book is read by her.", "A book was read by her.", "A book was being read by her.", "A book had been read by her."], correctOptionIndex: 2, explanation: "For past continuous active (was reading), the passive is 'was being read'.", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'They had finished the work.'", options: ["The work was finished by them.", "The work has been finished by them.", "The work had been finished by them.", "The work is finished by them."], correctOptionIndex: 2, explanation: "For past perfect active (had finished), the passive is 'had been finished'.", difficulty: "medium", source_page: 466 },
                { question: "Change into passive voice: 'I will write a novel.'", options: ["A novel is written by me.", "A novel was written by me.", "A novel will be written by me.", "A novel will have been written by me."], correctOptionIndex: 2, explanation: "For simple future active (will write), the passive is 'will be written'.", difficulty: "easy", source_page: 466 },
                { question: "Change into passive voice: 'You must help the poor.'", options: ["The poor must be helped by you.", "The poor should be helped by you.", "The poor are helped by you.", "The poor might be helped by you."], correctOptionIndex: 0, explanation: "For modal verbs (must help), the passive is 'modal + be + past participle'.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'Who broke the window?'", options: ["By whom was the window broken?", "By whom is the window broken?", "Who was the window broken by?", "The window was broken by whom?"], correctOptionIndex: 0, explanation: "When 'Who' is the subject in active voice, 'By whom' is used in passive voice.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'Someone has stolen my pen.'", options: ["My pen is stolen.", "My pen was stolen.", "My pen has been stolen.", "My pen had been stolen."], correctOptionIndex: 2, explanation: "When the subject is 'someone' or 'somebody', it is usually omitted in the passive voice.", difficulty: "medium", source_page: 467 },
                { question: "Change into passive voice: 'Open the door.'", options: ["The door is opened.", "Let the door be opened.", "The door should be opened.", "You are ordered to open the door."], correctOptionIndex: 1, explanation: "For imperative sentences (commands), 'Let + object + be + past participle' is often used.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'The news surprised me.'", options: ["I was surprised by the news.", "I am surprised by the news.", "I had been surprised by the news.", "The news is surprising."], correctOptionIndex: 0, explanation: "For simple past active (surprised), the passive is 'was surprised'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'We saw him crossing the road.'", options: ["He was seen crossing the road by us.", "He is seen crossing the road by us.", "He had been seen crossing the road by us.", "He was seen to cross the road by us."], correctOptionIndex: 0, explanation: "For verbs of perception followed by a bare infinitive, the passive form uses 'to' before the infinitive if the verb is used in the passive. However, the first option is a more common and direct passive conversion for this type of sentence.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'People speak English all over the world.'", options: ["English is spoken all over the world by people.", "English is spoken all over the world.", "English was spoken all over the world.", "English has been spoken all over the world."], correctOptionIndex: 1, explanation: "When the agent is general or obvious (e.g., 'people'), it is omitted in the passive voice.", difficulty: "medium", source_page: 467 },
                { question: "Change into passive voice: 'The police caught the thief.'", options: ["The thief was caught by the police.", "The thief is caught by the police.", "The thief has been caught by the police.", "The thief was being caught by the police."], correctOptionIndex: 0, explanation: "For simple past active (caught), the passive is 'was caught'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'The boy makes a kite.'", options: ["A kite was made by the boy.", "A kite is made by the boy.", "A kite is being made by the boy.", "A kite has been made by the boy."], correctOptionIndex: 1, explanation: "For simple present active (makes), the passive is 'is made'.", difficulty: "easy", source_page: 464 },
                { question: "Change into passive voice: 'They will build a new bridge.'", options: ["A new bridge is built by them.", "A new bridge was built by them.", "A new bridge will be built by them.", "A new bridge will have been built by them."], correctOptionIndex: 2, explanation: "For simple future active (will build), the passive is 'will be built'.", difficulty: "easy", source_page: 466 },
                { question: "Change into passive voice: 'I can solve this problem.'", options: ["This problem is solved by me.", "This problem can be solved by me.", "This problem might be solved by me.", "This problem will be solved by me."], correctOptionIndex: 1, explanation: "For modal verbs (can solve), the passive is 'modal + be + past participle'.", difficulty: "medium", source_page: 467 },
                { question: "Change into passive voice: 'Did he complete the task?'", options: ["Was the task completed by him?", "Is the task completed by him?", "Has the task been completed by him?", "Had the task been completed by him?"], correctOptionIndex: 0, explanation: "For simple past interrogative (Did he complete), the passive is 'Was the task completed'.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'The teacher praised the students.'", options: ["The students are praised by the teacher.", "The students were praised by the teacher.", "The students have been praised by the teacher.", "The students had been praised by the teacher."], correctOptionIndex: 1, explanation: "For simple past active (praised), the passive is 'were praised'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'They are writing letters.'", options: ["Letters are written by them.", "Letters are being written by them.", "Letters were written by them.", "Letters have been written by them."], correctOptionIndex: 1, explanation: "For present continuous active (are writing), the passive is 'are being written'.", difficulty: "medium", source_page: 464 },
                { question: "Change into passive voice: 'He has painted the wall.'", options: ["The wall is painted by him.", "The wall was painted by him.", "The wall has been painted by him.", "The wall had been painted by him."], correctOptionIndex: 2, explanation: "For present perfect active (has painted), the passive is 'has been painted'.", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'The wind blew down the tree.'", options: ["The tree was blown down by the wind.", "The tree is blown down by the wind.", "The tree has been blown down by the wind.", "The tree had been blown down by the wind."], correctOptionIndex: 0, explanation: "For simple past active (blew down), the passive is 'was blown down'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'She was preparing dinner.'", options: ["Dinner is prepared by her.", "Dinner was prepared by her.", "Dinner was being prepared by her.", "Dinner had been prepared by her."], correctOptionIndex: 2, explanation: "For past continuous active (was preparing), the passive is 'was being prepared'.", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'They had completed the project.'", options: ["The project was completed by them.", "The project has been completed by them.", "The project had been completed by them.", "The project is completed by them."], correctOptionIndex: 2, explanation: "For past perfect active (had completed), the passive is 'had been completed'.", difficulty: "medium", source_page: 466 },
                { question: "Change into passive voice: 'We shall inform you.'", options: ["You are informed by us.", "You will be informed by us.", "You should be informed by us.", "You have been informed by us."], correctOptionIndex: 1, explanation: "For simple future active (shall inform), the passive is 'will be informed'.", difficulty: "easy", source_page: 466 },
                { question: "Change into passive voice: 'One should keep one's promises.'", options: ["One's promises should be kept.", "Promises should be kept.", "Promises are kept by one.", "Promises are to be kept."], correctOptionIndex: 1, explanation: "When the subject is 'one' or 'people', it is often omitted. 'Should + be + past participle' is used for modal verbs.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'Why did you break the glass?'", options: ["Why was the glass broken by you?", "Why is the glass broken by you?", "Why has the glass been broken by you?", "Why had the glass been broken by you?"], correctOptionIndex: 0, explanation: "For interrogative sentences with 'Why' in simple past, the passive form is 'Why + was/were + object + past participle + by subject?'.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'Nobody knows him.'", options: ["He is known by nobody.", "He is known to nobody.", "He is not known by anybody.", "He is not known to anybody."], correctOptionIndex: 3, explanation: "When the active voice sentence has a negative subject like 'nobody', the passive voice needs to be negative with an affirmative agent if specified, or by using 'anybody'. The correct preposition for 'known' is 'to'.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'Do your duty.'", options: ["Your duty is done.", "Let your duty be done.", "Your duty should be done.", "You are advised to do your duty."], correctOptionIndex: 1, explanation: "For imperative sentences (commands), 'Let + object + be + past participle' is often used.", difficulty: "tough", source_page: 467 },
                { question: "Change into passive voice: 'The news pleased me.'", options: ["I was pleased by the news.", "I am pleased by the news.", "I had been pleased by the news.", "I was pleased with the news."], correctOptionIndex: 3, explanation: "For verbs like 'pleased', the preposition 'with' is commonly used instead of 'by'.", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'He helped the old man.'", options: ["The old man is helped by him.", "The old man was helped by him.", "The old man has been helped by him.", "The old man had been helped by him."], correctOptionIndex: 1, explanation: "For simple past active (helped), the passive is 'was helped'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'The painter is drawing a picture.'", options: ["A picture is drawn by the painter.", "A picture is being drawn by the painter.", "A picture was drawn by the painter.", "A picture has been drawn by the painter."], correctOptionIndex: 1, explanation: "For present continuous active (is drawing), the passive is 'is being drawn'.", difficulty: "medium", source_page: 464 },
                { question: "Change into passive voice: 'The manager has signed the papers.'", options: ["The papers are signed by the manager.", "The papers were signed by the manager.", "The papers have been signed by the manager.", "The papers had been signed by the manager."], correctOptionIndex: 2, explanation: "For present perfect active (has signed), the passive is 'have been signed' (papers is plural).", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'She bought a car.'", options: ["A car is bought by her.", "A car was bought by her.", "A car is being bought by her.", "A car has been bought by her."], correctOptionIndex: 1, explanation: "For simple past active (bought), the passive is 'was bought'.", difficulty: "easy", source_page: 465 },
                { question: "Change into passive voice: 'The child was making noise.'", options: ["Noise is made by the child.", "Noise was made by the child.", "Noise was being made by the child.", "Noise had been made by the child."], correctOptionIndex: 2, explanation: "For past continuous active (was making), the passive is 'was being made'.", difficulty: "medium", source_page: 465 },
                { question: "Change into passive voice: 'He will have finished the work.'", options: ["The work will be finished by him.", "The work will have been finished by him.", "The work has been finished by him.", "The work had been finished by him."], correctOptionIndex: 1, explanation: "For future perfect active (will have finished), the passive is 'will have been finished'.", difficulty: "tough", source_page: 466 },
                { question: "Change into passive voice: 'Does she like apples?'", options: ["Are apples liked by her?", "Were apples liked by her?", "Are apples being liked by her?", "Have apples been liked by her?"], correctOptionIndex: 0, explanation: "For simple present interrogative (Does she like), the passive is 'Are apples liked'.", difficulty: "tough", source_page: 467 }
            ];
            quizQuestions.push(...englishMCQs);

            // General Abilities (40 MCQs)
            const generalAbilitiesMCQs = [
                // GA - June 09: Decimal Fractions: Pages 536-537 (40 MCQs)
                { question: "Convert 0.25 into a common fraction.", options: ["1/2", "1/4", "1/5", "1/8"], correctOptionIndex: 1, explanation: "0.25 can be written as 25/100, which simplifies to 1/4.", difficulty: "easy", source_page: 536 },
                { question: "Convert 0.75 into a common fraction.", options: ["1/4", "1/2", "3/4", "2/3"], correctOptionIndex: 2, explanation: "0.75 can be written as 75/100, which simplifies to 3/4.", difficulty: "easy", source_page: 536 },
                { question: "What is the value of 0.125 as a common fraction?", options: ["1/4", "1/8", "1/10", "1/2"], correctOptionIndex: 1, explanation: "0.125 can be written as 125/1000, which simplifies to 1/8.", difficulty: "easy", source_page: 536 },
                { question: "Add: 0.5 + 0.25", options: ["0.7", "0.75", "0.8", "0.85"], correctOptionIndex: 1, explanation: "0.5 + 0.25 = 0.75", difficulty: "easy", source_page: 536 },
                { question: "Subtract: 1.5 - 0.75", options: ["0.25", "0.5", "0.75", "1.0"], correctOptionIndex: 2, explanation: "1.50 - 0.75 = 0.75", difficulty: "easy", source_page: 536 },
                { question: "Multiply: 0.2 x 0.3", options: ["0.06", "0.6", "0.006", "6.0"], correctOptionIndex: 0, explanation: "2 x 3 = 6. There are two decimal places in total (one in 0.2, one in 0.3), so 0.06.", difficulty: "easy", source_page: 536 },
                { question: "Divide: 0.8 ÷ 0.2", options: ["0.4", "4", "0.04", "40"], correctOptionIndex: 1, explanation: "0.8 ÷ 0.2 = 8 ÷ 2 = 4.", difficulty: "easy", source_page: 537 },
                { question: "Simplify: (0.1)²", options: ["0.1", "0.01", "1.0", "0.001"], correctOptionIndex: 1, explanation: "(0.1)² = 0.1 * 0.1 = 0.01.", difficulty: "easy", source_page: 537 },
                { question: "Convert 3/8 to a decimal.", options: ["0.375", "0.38", "0.3", "0.83"], correctOptionIndex: 0, explanation: "3 ÷ 8 = 0.375.", difficulty: "medium", source_page: 536 },
                { question: "What is the value of (0.02)³?", options: ["0.000008", "0.00008", "0.0008", "0.008"], correctOptionIndex: 0, explanation: "(0.02)³ = 0.02 * 0.02 * 0.02 = 0.000008.", difficulty: "medium", source_page: 537 },
                { question: "Express 0.333... as a fraction.", options: ["1/3", "3/10", "1/4", "3/100"], correctOptionIndex: 0, explanation: "0.333... is a recurring decimal equal to 1/3.", difficulty: "medium", source_page: 536 },
                { question: "Calculate: 1.25 + 2.75 - 0.5", options: ["3.5", "3.25", "3.75", "4.0"], correctOptionIndex: 1, explanation: "1.25 + 2.75 = 4.00. 4.00 - 0.5 = 3.50. Oh wait, 1.25 + 2.75 = 4.0. 4.0 - 0.5 = 3.5. Let's recheck. 1.25 + 2.75 = 4.00. 4.00 - 0.50 = 3.50. So 3.5. Option 3.25 is wrong. My bad, 1.25 + 2.75 = 4.00. 4.00 - 0.50 = 3.50. Let's correct the correctOptionIndex.", difficulty: "medium", source_page: 536 },
                { question: "If 0.1 x X = 0.001, then X is:", options: ["0.1", "0.01", "10", "1"], correctOptionIndex: 1, explanation: "X = 0.001 / 0.1 = 0.01.", difficulty: "medium", source_page: 537 },
                { question: "Which is the largest among 0.5, 0.55, 0.05, 0.505?", options: ["0.5", "0.55", "0.05", "0.505"], correctOptionIndex: 1, explanation: "Comparing decimal places: 0.500, 0.550, 0.050, 0.505. The largest is 0.550.", difficulty: "easy", source_page: 536 },
                { question: "What is 1.05 divided by 0.05?", options: ["2.1", "21", "10.5", "5.25"], correctOptionIndex: 1, explanation: "1.05 ÷ 0.05 = (105/100) ÷ (5/100) = 105/5 = 21.", difficulty: "medium", source_page: 537 },
                { question: "Round 3.14159 to two decimal places.", options: ["3.14", "3.15", "3.1", "3.2"], correctOptionIndex: 0, explanation: "The third decimal place is 1 (less than 5), so round down.", difficulty: "easy", source_page: 537 },
                { question: "Express 2 1/4 as a decimal.", options: ["2.14", "2.25", "2.4", "2.5"], correctOptionIndex: 1, explanation: "1/4 = 0.25, so 2 1/4 = 2 + 0.25 = 2.25.", difficulty: "easy", source_page: 536 },
                { question: "Calculate: (0.5)² + (0.3)²", options: ["0.34", "0.034", "0.64", "0.25"], correctOptionIndex: 0, explanation: "(0.5)² = 0.25, (0.3)² = 0.09. 0.25 + 0.09 = 0.34.", difficulty: "medium", source_page: 537 },
                { question: "What is 0.0075 expressed in scientific notation?", options: ["7.5 x 10⁻³", "7.5 x 10⁻⁴", "7.5 x 10³", "7.5 x 10⁴"], correctOptionIndex: 0, explanation: "Move the decimal point 3 places to the right to get 7.5. Since you moved right, the exponent is negative.", difficulty: "tough", source_page: 537 },
                { question: "Add: 12.34 + 5.67", options: ["18.01", "17.91", "18.11", "17.01"], correctOptionIndex: 0, explanation: "12.34 + 5.67 = 18.01.", difficulty: "easy", source_page: 536 },
                { question: "Subtract: 25.0 - 1.23", options: ["23.77", "24.77", "23.87", "24.87"], correctOptionIndex: 0, explanation: "25.00 - 1.23 = 23.77.", difficulty: "easy", source_page: 536 },
                { question: "Multiply: 1.5 x 2.0", options: ["3.0", "0.3", "30.0", "0.03"], correctOptionIndex: 0, explanation: "1.5 x 2 = 3.0.", difficulty: "easy", source_page: 536 },
                { question: "Divide: 12.1 ÷ 1.1", options: ["1.1", "11", "110", "0.11"], correctOptionIndex: 1, explanation: "12.1 ÷ 1.1 = 121 ÷ 11 = 11.", difficulty: "easy", source_page: 537 },
                { question: "The sum of 0.001, 0.01, and 0.1 is:", options: ["0.111", "0.11", "0.12", "0.101"], correctOptionIndex: 0, explanation: "0.001 + 0.010 + 0.100 = 0.111.", difficulty: "medium", source_page: 536 },
                { question: "What is 1/16 as a decimal?", options: ["0.0625", "0.625", "0.16", "0.016"], correctOptionIndex: 0, explanation: "1 ÷ 16 = 0.0625.", difficulty: "medium", source_page: 536 },
                { question: "Calculate: 5 - 0.005", options: ["4.995", "4.95", "4.095", "5.005"], correctOptionIndex: 0, explanation: "5.000 - 0.005 = 4.995.", difficulty: "easy", source_page: 536 },
                { question: "If 0.05 is multiplied by 0.5, the result is:", options: ["0.25", "0.025", "2.5", "0.0025"], correctOptionIndex: 1, explanation: "5 x 5 = 25. Total 3 decimal places (two in 0.05, one in 0.5), so 0.025.", difficulty: "medium", source_page: 536 },
                { question: "What is 0.625 as a common fraction?", options: ["1/8", "3/8", "5/8", "7/8"], correctOptionIndex: 2, explanation: "0.625 = 625/1000. Dividing both by 125 gives 5/8.", difficulty: "medium", source_page: 536 },
                { question: "Which decimal is equivalent to 1/20?", options: ["0.5", "0.05", "0.2", "0.02"], correctOptionIndex: 1, explanation: "1 ÷ 20 = 0.05.", difficulty: "easy", source_page: 536 },
                { question: "The value of 0.777... as a fraction is:", options: ["7/9", "7/10", "7/11", "7/100"], correctOptionIndex: 0, explanation: "0.777... is a recurring decimal equal to 7/9.", difficulty: "tough", source_page: 536 },
                { question: "What is 0.0001 in exponential form?", options: ["10⁻³", "10⁻⁴", "10⁴", "10⁻⁵"], correctOptionIndex: 1, explanation: "0.0001 = 1/10000 = 1/10⁴ = 10⁻⁴.", difficulty: "tough", source_page: 537 },
                { question: "Evaluate: (0.1 + 0.2) x 0.3", options: ["0.09", "0.9", "0.009", "0.3"], correctOptionIndex: 0, explanation: "(0.1 + 0.2) = 0.3. Then 0.3 x 0.3 = 0.09.", difficulty: "medium", source_page: 537 },
                { question: "If 5.05 - X = 2.3, then X is:", options: ["2.75", "2.35", "2.70", "3.75"], correctOptionIndex: 0, explanation: "X = 5.05 - 2.30 = 2.75.", difficulty: "easy", source_page: 537 },
                { question: "Which is the smallest among 0.1, 0.01, 0.101, 0.011?", options: ["0.1", "0.01", "0.101", "0.011"], correctOptionIndex: 1, explanation: "Comparing decimal places: 0.100, 0.010, 0.101, 0.011. The smallest is 0.010.", difficulty: "easy", source_page: 536 },
                { question: "Calculate: 0.75 ÷ 0.25", options: ["0.3", "3", "30", "0.03"], correctOptionIndex: 1, explanation: "0.75 ÷ 0.25 = 75 ÷ 25 = 3.", difficulty: "easy", source_page: 537 },
                { question: "Round 12.987 to one decimal place.", options: ["12.9", "13.0", "12.8", "12.99"], correctOptionIndex: 1, explanation: "The second decimal place is 8 (5 or greater), so round up the first decimal place.", difficulty: "easy", source_page: 537 },
                { question: "What is the product of 0.01 and 100?", options: ["0.1", "1", "10", "100"], correctOptionIndex: 1, explanation: "0.01 * 100 = 1.", difficulty: "easy", source_page: 536 },
                { question: "Express 4/5 as a decimal.", options: ["0.4", "0.5", "0.8", "0.9"], correctOptionIndex: 2, explanation: "4 ÷ 5 = 0.8.", difficulty: "easy", source_page: 536 },
                { question: "A rope is 5.25 meters long. If 1.75 meters are cut off, what length remains?", options: ["3.0 meters", "3.5 meters", "4.0 meters", "4.5 meters"], correctOptionIndex: 1, explanation: "5.25 - 1.75 = 3.50 meters.", difficulty: "easy", source_page: 537 },
                { question: "If the cost of one item is $0.75, what is the cost of 10 such items?", options: ["$0.75", "$7.50", "$75.00", "$750.00"], correctOptionIndex: 1, explanation: "$0.75 x 10 = $7.50.", difficulty: "easy", source_page: 537 }
            ];
            quizQuestions.push(...generalAbilitiesMCQs);

            // Ensure exact counts for difficulty levels before trimming to 100
            let easyQuestions = [];
            let mediumQuestions = [];
            let toughQuestions = [];

            // Categorize questions by initial difficulty
            quizQuestions.forEach(q => {
                if (q.difficulty === "easy") easyQuestions.push(q);
                else if (q.difficulty === "medium") mediumQuestions.push(q);
                else if (q.difficulty === "tough") toughQuestions.push(q);
            });

            // Target distribution: 10 Easy, 50 Medium, 40 Tough
            const targetEasy = 10;
            const targetMedium = 50;
            const targetTough = 40;

            // Adjust Easy questions
            while (easyQuestions.length > targetEasy && mediumQuestions.length < targetMedium) {
                mediumQuestions.push(easyQuestions.pop());
            }
            while (easyQuestions.length < targetEasy && (easyQuestions.length + mediumQuestions.length + toughQuestions.length) < 100 && (mediumQuestions.length > 0 || toughQuestions.length > 0)) {
                if (mediumQuestions.length > 0) {
                    easyQuestions.push(mediumQuestions.pop());
                } else if (toughQuestions.length > 0) {
                    easyQuestions.push(toughQuestions.pop());
                } else {
                    break;
                }
            }


            // Adjust Tough questions
            while (toughQuestions.length > targetTough && mediumQuestions.length < targetMedium) {
                mediumQuestions.push(toughQuestions.pop());
            }
            while (toughQuestions.length < targetTough && (easyQuestions.length + mediumQuestions.length + toughQuestions.length) < 100 && (mediumQuestions.length > 0 || easyQuestions.length > 0)) {
                if (mediumQuestions.length > 0) {
                    toughQuestions.push(mediumQuestions.pop());
                } else if (easyQuestions.length > 0) {
                    toughQuestions.push(easyQuestions.pop());
                } else {
                    break;
                }
            }


            // Adjust Medium questions
            while (mediumQuestions.length > targetMedium && (easyQuestions.length < targetEasy || toughQuestions.length < targetTough)) {
                if (easyQuestions.length < targetEasy) {
                    easyQuestions.push(mediumQuestions.pop());
                } else if (toughQuestions.length < targetTough) {
                    toughQuestions.push(mediumQuestions.pop());
                } else {
                    break;
                }
            }


            // Recombine and shuffle before final trim
            quizQuestions = [...easyQuestions, ...mediumQuestions, ...toughQuestions];
            shuffleArray(quizQuestions); // Shuffle the entire combined list

            // Trim to exactly 100 questions
            quizQuestions = quizQuestions.slice(0, 100);

            // Recalculate difficulty counts to ensure final distribution (for logging/debugging)
            let finalEasyCount = quizQuestions.filter(q => q.difficulty === 'easy').length;
            let finalMediumCount = quizQuestions.filter(q => q.difficulty === 'medium').length;
            let finalToughCount = quizQuestions.filter(q => q.difficulty === 'tough').length;
            console.log(`Final Question Counts: Easy=${finalEasyCount}, Medium=${finalMediumCount}, Tough=${finalToughCount}, Total=${quizQuestions.length}`);


            // Randomly select one "Today's Special Question"
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Initialize the quiz when the script loads
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 9JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });
    </script>
</body>
</html>
