<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIZ FOR CSS ASPIRANTS 05 MAY 2025 - SYED ASGHAR ALI SHAH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Apply Inter font */
        body {
            font-family: 'Inter', sans-serif;
            /* Disable text selection */
            user-select: none;
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* IE/Edge */
        }
        /* Custom styles for quiz options */
        .quiz-option label {
            display: block;
            padding: 10px 15px;
            margin-bottom: 8px;
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        .quiz-option input[type="radio"] {
            display: none; /* Hide the actual radio button */
        }
        .quiz-option input[type="radio"]:checked + label {
            background-color: #bfdbfe; /* blue-200 */
            border-color: #3b82f6; /* blue-500 */
            font-weight: 600;
        }
        .quiz-option label:hover {
            background-color: #e5e7eb; /* gray-200 */
        }
        /* Header/Footer basic styling */
        header, footer {
            background-color: #1f2937; /* gray-800 */
            color: white;
        }
        /* Ensure image fits well */
        .header-img {
            width: 80px; /* Adjust as needed */
            height: 80px; /* Adjust as needed */
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }
        /* Add some margin below the fixed timer */
         #quiz-section {
             padding-top: 60px; /* Adjust based on timer height */
         }
         #timer-container {
             position: fixed;
             top: 100px; /* Adjust based on header height */
             left: 0;
             right: 0;
             background-color: rgba(255, 255, 255, 0.95);
             z-index: 50;
             padding: 10px 0;
             box-shadow: 0 2px 4px rgba(0,0,0,0.1);
             border-bottom: 1px solid #e5e7eb; /* gray-200 */
         }

    </style>
</head>
<body class="bg-gray-100">

    <header class="py-4 shadow-md sticky top-0 z-40">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            <div class="text-center md:text-left mb-2 md:mb-0">
                <h1 class="text-xl md:text-2xl font-bold text-amber-400">QUIZ FOR CSS ASPIRANTS</h1>
                <p class="text-lg md:text-xl font-semibold">05 MAY 2025</p>
                <p class="text-md md:text-lg font-medium mt-1">SYED ASGHAR ALI SHAH</p>
            </div>
            <img src="https://media-hosting.imagekit.io//0b9a4af30efb4482/WhatsApp%20Image%202025-02-28%20at%203.15.19%20AM.jpeg?Expires=1835349432&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=jwJPYv24ynvpiPUADnh2kUGPUbG6OBggLpvXOj6~ZZAgts7lamWPTIZKmuIaQ5WaRUAG568acIjSbBE1XrKsIPvCHTXKNA-XF6ppaM~tacD0TMTVoTFd7-EsYFsesMaR~5AK7n5qr33hIwKVawluJ1rkdqmuQokM~T~W~O~6Yo-qXgYGio2IvfBsu1u~wEi1Cnk-5pAOavMUb9IfeY7E4FNwGBgiLCiHugKJD9sAY8As7S0szpehWI8WIQzMzNUFN4wvtPAamSART1m5nlUT4uLcvwdr-C1pk4kJN6I0itWzZEbZN04ANZexY3dpBhUDO0~UvQBCps64LPKIQBRYtA__"
                 alt="Syed Asghar Ali Shah"
                 class="header-img"
                 onerror="this.onerror=null; this.src='https://placehold.co/80x80/1f2937/FFFFFF?text=SAS'; this.alt='Placeholder Image';">
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">

        <section id="name-section" class="bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto text-center">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Enter Your Name</h2>
            <p class="mb-4 text-gray-600">Please enter your full name to start the quiz.</p>
            <input type="text" id="student-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Full Name">
            <button id="start-quiz-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300">Start Quiz</button>
            <p id="name-error" class="text-red-500 mt-2 text-sm hidden">Please enter your name.</p>
        </section>

        <div id="timer-container" class="text-center hidden">
             <span id="timer" class="text-xl font-bold text-red-600">40:00</span>
        </div>

        <section id="quiz-section" class="hidden bg-white p-6 rounded-lg shadow-md mt-6">
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Quiz Questions</h2>
            <form id="quiz-form">
                </form>
            <div class="text-center mt-8">
                <button type="button" id="submit-quiz-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 text-lg">Submit Quiz</button>
            </div>
        </section>

        <section id="results-section" class="hidden bg-white p-6 rounded-lg shadow-md mt-6 max-w-2xl mx-auto text-center">
            <h2 class="text-3xl font-bold mb-4 text-blue-700">Quiz Results</h2>
            <div class="text-left space-y-3 text-lg text-gray-700">
                <p><strong class="font-semibold text-gray-800">Name:</strong> <span id="result-name"></span></p>
                <p><strong class="font-semibold text-gray-800">Time Taken:</strong> <span id="result-time"></span></p>
                <p><strong class="font-semibold text-gray-800">Questions Attempted:</strong> <span id="result-attempted"></span> / <span class="total-questions-display">100</span></p>
                <p><strong class="font-semibold text-gray-800">Correct Answers:</strong> <span id="result-score"></span> / <span class="total-questions-display">100</span></p>
                <p><strong class="font-semibold text-gray-800">Percentage:</strong> <span id="result-percentage"></span>%</p>
            </div>
             <p class="mt-6 text-gray-600">Your results have been recorded. Thank you for participating!</p>
        </section>

        <form id="results-formspree" action="https://formspree.io/f/xwpvddea" method="POST" class="hidden">
            <input type="text" name="name" id="formspree-name">
            <input type="text" name="time_taken" id="formspree-time">
            <input type="number" name="attempted" id="formspree-attempted">
            <input type="number" name="score" id="formspree-score">
            <input type="text" name="percentage" id="formspree-percentage">
        </form>

    </main>

    <footer class="py-6 mt-12 text-center">
        <div class="container mx-auto px-4">
            <p class="text-gray-400 mb-2">Need assistance or have questions?</p>
            <p class="text-lg font-semibold text-amber-400 mb-3">Contact: 03265762698</p>
            <p class="text-gray-300">&copy; 2025 SYED ASGHAR ALI SHAH - CSS Aspirant Resources. All rights reserved.</p>
            <p class="text-sm text-gray-500 mt-2">Designed for dedicated CSS aspirants.</p>
        </div>
    </footer>

    <script>
        // --- Quiz Data (Updated with 100 Questions) ---
        const quizData = [
             // --- Grammar & Vocabulary MCQs (50 Questions) ---
            // Parts of Speech & Word Functions (From Grammar Analysis PDF)
            { question: "In 'The latest crisis... is the fifth...', what part of speech is 'fifth'?", options: { a: "Adjective", b: "Noun", c: "Adverb", d: "Pronoun" }, answer: "a" }, // Modifies 'crisis' (implied) or acts as ordinal adjective
            { question: "Identify the function of 'to launch' in 'India is preparing to launch a military strike.'", options: { a: "Adjective", b: "Adverb", c: "Noun (infinitive phrase as object)", d: "Verb (main)" }, answer: "c" }, // Infinitive phrase as object of 'preparing'
            { question: "What is the part of speech of 'swiftly' in '...it has engaged swiftly...'?", options: { a: "Adjective", b: "Adverb", c: "Preposition", d: "Conjunction" }, answer: "b" }, // Modifies 'has engaged'
            { question: "In '...credible intelligence...', 'credible' functions as a(n):", options: { a: "Noun", b: "Verb", c: "Adverb", d: "Adjective" }, answer: "d" }, // Modifies 'intelligence'
            { question: "Which word is a coordinating conjunction in '...put ties back on track and return to any normalcy'?", options: { a: "to", b: "back", c: "and", d: "any" }, answer: "c" }, // Connects two parallel phrases
            { question: "What function does the phrase 'in India-Pakistan relations' serve in 'The latest crisis in India-Pakistan relations...'?", options: { a: "Adverbial phrase (time)", b: "Adjectival phrase (modifying crisis)", c: "Noun phrase (subject)", d: "Verb phrase" }, answer: "b" }, // Prepositional phrase acting as adjective
            { question: "Identify the pronoun in: 'He has given the army operational freedom.'", options: { a: "army", b: "operational", c: "He", d: "given" }, answer: "c" },
            { question: "The word 'Protracted' in 'Protracted periods of diplomatic disengagement...' functions as a(n):", options: { a: "Verb", b: "Adverb", c: "Noun", d: "Adjective" }, answer: "d" }, // Modifies 'periods'

            // Prepositions (From Grammar Analysis & Idioms PDF)
            { question: "Choose the correct preposition: 'Exchange of small-arms fire continues ______ the Line of Control.'", options: { a: "on", b: "at", c: "along", d: "through" }, answer: "c" },
            { question: "Fill the blank: 'The decision was fraught ______ difficulties from the start.'", options: { a: "of", b: "with", c: "by", d: "in" }, answer: "b" },
            { question: "Complete: 'His actions do not align ______ his stated values.'", options: { a: "to", b: "on", c: "with", d: "by" }, answer: "c" },
            { question: "Choose the correct preposition: 'The building is badly in need ______ repair.'", options: { a: "for", b: "with", c: "to", d: "of" }, answer: "d" },
            { question: "He offered some advice ______ way of apology.", options: { a: "in", b: "by", c: "as", d: "for" }, answer: "b" },

            // Idioms (From Idioms PDF)
            { question: "What does 'fall on deaf ears' mean?", options: { a: "To be listened to carefully", b: "To be whispered secretly", c: "To be ignored or disregarded", d: "To cause an argument" }, answer: "c" },
            { question: "'Keep pace with' means to:", options: { a: "Set a new record", b: "Fall behind", c: "Move or progress at the same speed", d: "Lead the group" }, answer: "c" },
            { question: "The idiom 'capture the public imagination' implies something has become:", options: { a: "Widely criticized", b: "Secretly planned", c: "Forgotten quickly", d: "Very popular and fascinating" }, answer: "d" },
            { question: "If a situation is 'in a shambles', it is:", options: { a: "Perfectly organized", b: "Highly profitable", c: "In a state of great disorder", d: "Under construction" }, answer: "c" },
            { question: "To 'keep people in thrall' means to:", options: { a: "Hold their complete attention or fascinate them", b: "Imprison them physically", c: "Criticize them constantly", d: "Ignore their opinions" }, answer: "a" },
            { question: "'Learn to walk before we can run' advises:", options: { a: "Taking big risks immediately", b: "Mastering basics before attempting advanced tasks", c: "Avoiding any difficult challenges", d: "Focusing only on speed" }, answer: "b" },
            { question: "What does 'tit-for-tat' describe?", options: { a: "Acts of kindness", b: "Retaliatory actions", c: "Collaborative efforts", d: "Random events" }, answer: "b" },
            { question: "To 'stop short of' doing something means to:", options: { a: "Complete it quickly", b: "Do it excessively", c: "Almost do it, but then refrain", d: "Forget to do it" }, answer: "c" },
            { question: "If an idea 'takes hold', it:", options: { a: "Is immediately rejected", b: "Becomes established or starts to have an effect", c: "Is proven wrong", d: "Causes confusion" }, answer: "b" },
            { question: "To 'connect the dots' means to:", options: { a: "Draw a picture", b: "Create confusion", c: "Understand the relationship between different pieces of information", d: "Ignore important details" }, answer: "c" },

            // Synonyms (From Idioms PDF & General Vocab)
            { question: "A synonym for 'abhorrent' (related to 'anathema') is:", options: { a: "Desirable", b: "Attractive", c: "Repugnant", d: "Pleasant" }, answer: "c" },
            { question: "Which word is a synonym for 'imminent' (related to 'in the offing')?", options: { a: "Distant", b: "Unlikely", c: "Forthcoming", d: "Past" }, answer: "c" },
            { question: "Find a synonym for 'paralyze' (related to 'bring to a standstill').", options: { a: "Facilitate", b: "Initiate", c: "Halt", d: "Accelerate" }, answer: "c" },
            { question: "A synonym for 'repercussions' is:", options: { a: "Causes", b: "Beginnings", c: "Consequences", d: "Rewards" }, answer: "c" }, // General challenging vocab
            { question: "Which word means the same as 'clandestine'?", options: { a: "Open", b: "Public", c: "Secret", d: "Honest" }, answer: "c" }, // General challenging vocab

            // Antonyms (From Idioms PDF & General Vocab)
            { question: "What is the antonym of 'facilitate' (related to 'bring to a standstill')?", options: { a: "Hinder", b: "Help", c: "Ease", d: "Stop" }, answer: "a" },
            { question: "Choose the antonym for 'repugnant' (related to 'anathema').", options: { a: "Hateful", b: "Abhorrent", c: "Desirable", d: "Offensive" }, answer: "c" },
            { question: "The antonym of 'conviction' (related to 'ring hollow') is:", options: { a: "Certainty", b: "Belief", c: "Doubt", d: "Faith" }, answer: "c" },
            { question: "Find the antonym for 'mitigate'.", options: { a: "Alleviate", b: "Soothe", c: "Lessen", d: "Aggravate" }, answer: "d" }, // General challenging vocab
            { question: "What is the opposite of 'taciturn'?", options: { a: "Silent", b: "Reserved", c: "Talkative", d: "Quiet" }, answer: "c" }, // General challenging vocab

            // Sentence Rearrangement
            { question: "Rearrange: (P) for the economy (Q) the new policy (R) far-reaching implications (S) has", options: { a: "QSRP", b: "SQRP", c: "QSPR", d: "SPQR" }, answer: "c" }, // Q: the new policy S: has R: far-reaching implications P: for the economy
            { question: "Arrange: (1) was fraught with issues (2) the negotiation process (3) from the start (4) right", options: { a: "2143", b: "4321", c: "2413", d: "1234" }, answer: "a" }, // 2: the negotiation process 1: was fraught with issues 4: right 3: from the start

            // Verb Tenses & Voice (From Grammar Analysis PDF)
            { question: "Identify the tense: 'The Indian Navy has been conducting long-range missile drills.'", options: { a: "Present Perfect", b: "Past Perfect Continuous", c: "Present Perfect Continuous", d: "Present Continuous" }, answer: "c" },
            { question: "What is the voice and tense of 'were killed' in '...40 Indian security personnel were killed'?", options: { a: "Active Past Simple", b: "Passive Past Simple", c: "Active Past Perfect", d: "Passive Present Perfect" }, answer: "b" },
            { question: "Which tense is used in 'Exchange of small-arms fire continues...'?", options: { a: "Present Continuous", b: "Past Simple", c: "Present Perfect", d: "Present Simple" }, answer: "d" },
            { question: "The structure 'Can... be averted?' is an example of:", options: { a: "Active Future Simple", b: "Passive Future Simple (with modal)", c: "Active Present Perfect", d: "Passive Past Simple" }, answer: "b" },
            { question: "Identify the tense in 'The February 2019 crisis erupted...'", options: { a: "Past Perfect", b: "Present Simple", c: "Past Simple", d: "Present Perfect" }, answer: "c" },

            // Sentence Structure & Clauses (From Grammar Analysis PDF)
            { question: "What type of clause is 'which made it hard...' in the first paragraph?", options: { a: "Independent Clause", b: "Noun Clause", c: "Adverbial Clause", d: "Dependent (Relative) Clause" }, answer: "d" },
            { question: "'Protracted periods of diplomatic disengagement followed these crises.' is a:", options: { a: "Simple Sentence", b: "Compound Sentence", c: "Complex Sentence", d: "Compound-Complex Sentence" }, answer: "a" },
            { question: "The sentence 'Messaging... might be helpful but will not eliminate that risk.' is:", options: { a: "Simple", b: "Complex", c: "Compound", d: "Compound-Complex" }, answer: "c" }, // Two independent clauses joined by 'but'
            { question: "Identify the dependent clause in: 'While standard Past Perfect isn't prominent, understanding it is crucial.'", options: { a: "understanding it is crucial", b: "While standard Past Perfect isn't prominent", c: "it is crucial", d: "standard Past Perfect" }, answer: "b" },

            // Advanced Grammar/Vocab & Concepts
            { question: "Choose the sentence with correct parallelism: ", options: { a: "He likes swimming, hiking, and to ride bicycles.", b: "She is responsible for coding, testing, and deployment.", c: "The report was informative, concise, and written well.", d: "To learn is understanding." }, answer: "b" },
            { question: "The word 'pernicious' means:", options: { a: "Beneficial", b: "Harmless", c: "Subtly harmful or destructive", d: "Temporary" }, answer: "c" },
            { question: "Identify the appositive: 'My brother, a skilled engineer, fixed the machine.'", options: { a: "My brother", b: "a skilled engineer", c: "fixed the machine", d: "the machine" }, answer: "b" },
            { question: "Which sentence uses 'affect' and 'effect' correctly?", options: { a: "The rain will effect the picnic.", b: "His mood effected his performance.", c: "The new law will affect everyone.", d: "What affect did the speech have?" }, answer: "c" }, // Affect=verb (influence), Effect=noun (result) or verb (bring about)
            { question: "The phrase 'prima facie' means:", options: { a: "Conclusive proof", b: "Beyond doubt", c: "Based on the first impression", d: "A final verdict" }, answer: "c" },
            { question: "A 'panacea' is a:", options: { a: "Serious illness", b: "Complex problem", c: "Cure-all or remedy for all difficulties", d: "Specific antidote" }, answer: "c" },

            // --- One Paper MCQs (Pages 141-160 - 50 Questions) ---
            // Sourced/Based on content from pages 141-160: General Knowledge & Current Affairs: Frequently Asked Questions from Previous MCQs Papers
            { question: "Which country is known as the 'Land of the Rising Sun'?", options: { a: "China", b: "South Korea", c: "Japan", d: "Thailand" }, answer: "c" }, // (Page 141, Q1)
            { question: "What is the largest desert in the world?", options: { a: "Sahara", b: "Gobi", c: "Kalahari", d: "Antarctic Desert" }, answer: "d" }, // (Page 141, Q2 - Note: Sahara is largest *hot* desert, Antarctica is largest overall)
            { question: "Which is the highest mountain peak in the world?", options: { a: "K2", b: "Kangchenjunga", c: "Mount Everest", d: "Makalu" }, answer: "c" }, // (Page 141, Q3)
            { question: "Which country is the largest by area?", options: { a: "China", b: "USA", c: "Canada", d: "Russia" }, answer: "d" }, // (Page 141, Q4)
            { question: "What is the capital of Canada?", options: { a: "Toronto", b: "Vancouver", c: "Montreal", d: "Ottawa" }, answer: "d" }, // (Page 141, Q5)
            { question: "Which is the longest river in the world?", options: { a: "Amazon", b: "Nile", c: "Mississippi", d: "Yangtze" }, answer: "b" }, // (Page 141, Q6)
            { question: "Which is the most populous country in the world?", options: { a: "China", b: "India", c: "USA", d: "Indonesia" }, answer: "b" }, // (Page 141, Q7 - Note: India overtook China)
            { question: "Where are the headquarters of the United Nations located?", options: { a: "Geneva", b: "Vienna", c: "New York", d: "The Hague" }, answer: "c" }, // (Page 141, Q8)
            { question: "Which is the largest ocean in the world?", options: { a: "Atlantic", b: "Indian", c: "Arctic", d: "Pacific" }, answer: "d" }, // (Page 141, Q9)
            { question: "What is the currency of Japan?", options: { a: "Dollar", b: "Euro", c: "Yen", d: "Won" }, answer: "c" }, // (Page 141, Q10)
            { question: "Who painted the Mona Lisa?", options: { a: "Michelangelo", b: "Raphael", c: "Donatello", d: "Leonardo da Vinci" }, answer: "d" }, // (Page 142, Q11)
            { question: "Which gas is most abundant in the Earth's atmosphere?", options: { a: "Oxygen", b: "Carbon Dioxide", c: "Nitrogen", d: "Argon" }, answer: "c" }, // (Page 142, Q12)
            { question: "What is the hardest natural substance on Earth?", options: { a: "Gold", b: "Iron", c: "Diamond", d: "Platinum" }, answer: "c" }, // (Page 142, Q13)
            { question: "Which planet is known as the Red Planet?", options: { a: "Jupiter", b: "Mars", c: "Venus", d: "Saturn" }, answer: "b" }, // (Page 142, Q14)
            { question: "What is the chemical symbol for Gold?", options: { a: "Go", b: "Ag", c: "Au", d: "Gd" }, answer: "c" }, // (Page 142, Q15)
            { question: "Who wrote 'Hamlet'?", options: { a: "Charles Dickens", b: "Jane Austen", c: "Leo Tolstoy", d: "William Shakespeare" }, answer: "d" }, // (Page 142, Q16)
            { question: "What is the boiling point of water in Celsius?", options: { a: "0째C", b: "100째C", c: "50째C", d: "212째C" }, answer: "b" }, // (Page 142, Q17)
            { question: "Which continent is known as the 'Dark Continent'?", options: { a: "Asia", b: "Africa", c: "South America", d: "Australia" }, answer: "b" }, // (Page 142, Q18)
            { question: "What is the main function of the kidneys?", options: { a: "Digestion", b: "Pumping blood", c: "Filtering blood and producing urine", d: "Respiration" }, answer: "c" }, // (Page 142, Q19)
            { question: "Who invented the telephone?", options: { a: "Thomas Edison", b: "Alexander Graham Bell", c: "Nikola Tesla", d: "Guglielmo Marconi" }, answer: "b" }, // (Page 142, Q20)
            { question: "What is the study of earthquakes called?", options: { a: "Geology", b: "Meteorology", c: "Seismology", d: "Volcanology" }, answer: "c" }, // (Page 143, Q21)
            { question: "Which country gifted the Statue of Liberty to the USA?", options: { a: "United Kingdom", b: "Germany", c: "Italy", d: "France" }, answer: "d" }, // (Page 143, Q22)
            { question: "What is the largest bone in the human body?", options: { a: "Femur", b: "Humerus", c: "Tibia", d: "Skull" }, answer: "a" }, // (Page 143, Q23)
            { question: "Who was the first President of the United States?", options: { a: "Thomas Jefferson", b: "Abraham Lincoln", c: "George Washington", d: "John Adams" }, answer: "c" }, // (Page 143, Q24)
            { question: "Which element is essential for combustion?", options: { a: "Nitrogen", b: "Carbon Dioxide", c: "Hydrogen", d: "Oxygen" }, answer: "d" }, // (Page 143, Q25)
            { question: "What is the capital of Egypt?", options: { a: "Alexandria", b: "Cairo", c: "Giza", d: "Luxor" }, answer: "b" }, // (Page 143, Q26)
            { question: "Which famous scientist developed the theory of relativity?", options: { a: "Isaac Newton", b: "Galileo Galilei", c: "Albert Einstein", d: "Stephen Hawking" }, answer: "c" }, // (Page 143, Q27)
            { question: "What is the primary language spoken in Brazil?", options: { a: "Spanish", b: "English", c: "French", d: "Portuguese" }, answer: "d" }, // (Page 143, Q28)
            { question: "In which year did World War I begin?", options: { a: "1912", b: "1914", c: "1916", d: "1918" }, answer: "b" }, // (Page 143, Q29)
            { question: "What is the largest mammal in the world?", options: { a: "Elephant", b: "Blue Whale", c: "Giraffe", d: "Hippopotamus" }, answer: "b" }, // (Page 143, Q30)
            { question: "Which country is famous for the Eiffel Tower?", options: { a: "Italy", b: "Spain", c: "France", d: "Germany" }, answer: "c" }, // (Page 144, Q31)
            { question: "What is the process by which plants make their food called?", options: { a: "Respiration", b: "Transpiration", c: "Photosynthesis", d: "Pollination" }, answer: "c" }, // (Page 144, Q32)
            { question: "Who is known as the 'Father of Computers'?", options: { a: "Bill Gates", b: "Steve Jobs", c: "Alan Turing", d: "Charles Babbage" }, answer: "d" }, // (Page 144, Q33)
            { question: "What is the currency of the United Kingdom?", options: { a: "Euro", b: "Dollar", c: "Pound Sterling", d: "Franc" }, answer: "c" }, // (Page 144, Q34)
            { question: "Which desert is the largest hot desert in the world?", options: { a: "Gobi", b: "Kalahari", c: "Sahara", d: "Arabian" }, answer: "c" }, // (Page 144, Q35)
            { question: "What is the main ingredient in traditional Japanese sushi?", options: { a: "Bread", b: "Pasta", c: "Rice", d: "Potato" }, answer: "c" }, // (Page 144, Q36)
            { question: "Who discovered penicillin?", options: { a: "Marie Curie", b: "Louis Pasteur", c: "Alexander Fleming", d: "Robert Koch" }, answer: "c" }, // (Page 144, Q37)
            { question: "Which is the smallest continent by area?", options: { a: "Europe", b: "South America", c: "Australia", d: "Antarctica" }, answer: "c" }, // (Page 144, Q38)
            { question: "What is the capital of Russia?", options: { a: "Saint Petersburg", b: "Moscow", c: "Kazan", d: "Novosibirsk" }, answer: "b" }, // (Page 144, Q39)
            { question: "Which sport is associated with Wimbledon?", options: { a: "Golf", b: "Cricket", c: "Tennis", d: "Football" }, answer: "c" }, // (Page 144, Q40)
            // Questions based on topics likely covered in pages 145-160 (more specific GK/CA)
            { question: "The 'Kyoto Protocol' is related to:", options: { a: "Nuclear disarmament", b: "Global trade agreements", c: "Climate change and greenhouse gas emissions", d: "International fishing rights" }, answer: "c" }, // Environmental agreements often feature
            { question: "Which country hosted the 2022 FIFA World Cup?", options: { a: "Brazil", b: "Germany", c: "Russia", d: "Qatar" }, answer: "d" }, // Recent major sporting event
            { question: "SAARC (South Asian Association for Regional Cooperation) headquarters is located in:", options: { a: "New Delhi, India", b: "Islamabad, Pakistan", c: "Dhaka, Bangladesh", d: "Kathmandu, Nepal" }, answer: "d" }, // Regional organizations
            { question: "The Panama Canal connects which two oceans?", options: { a: "Atlantic and Indian", b: "Pacific and Indian", c: "Atlantic and Pacific", d: "Arctic and Atlantic" }, answer: "c" }, // Major geographical features/man-made structures
            { question: "Who was the first woman to fly solo across the Atlantic Ocean?", options: { a: "Bessie Coleman", b: "Harriet Quimby", c: "Amelia Earhart", d: "Jacqueline Cochran" }, answer: "c" }, // Historical figures/achievements
            { question: "What does 'NATO' stand for?", options: { a: "North African Treaty Organization", b: "North Atlantic Treaty Organization", c: "Northern Alliance Treaty Organization", d: "Neutral Axis Treaty Organization" }, answer: "b" }, // International alliances
            { question: "The 'Renaissance' period originated primarily in which country?", options: { a: "France", b: "England", c: "Spain", d: "Italy" }, answer: "d" }, // Historical periods/movements
            { question: "Which vitamin is primarily obtained from sunlight?", options: { a: "Vitamin A", b: "Vitamin C", c: "Vitamin D", d: "Vitamin B12" }, answer: "c" }, // Basic science/health GK
            { question: "The Great Wall of China was primarily built to protect against invasions from which group?", options: { a: "Mongols", b: "Japanese", c: "Russians", d: "Koreans" }, answer: "a" }, // World history
            { question: "What is the approximate percentage of Earth's surface covered by water?", options: { a: "50%", b: "60%", c: "70%", d: "80%" }, answer: "c" }, // Geography/Earth science GK
        ];

        // --- DOM Elements ---
        const nameSection = document.getElementById('name-section');
        const studentNameInput = document.getElementById('student-name');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const nameError = document.getElementById('name-error');
        const quizSection = document.getElementById('quiz-section');
        const quizForm = document.getElementById('quiz-form');
        const submitQuizBtn = document.getElementById('submit-quiz-btn');
        const resultsSection = document.getElementById('results-section');
        const timerDisplay = document.getElementById('timer');
        const timerContainer = document.getElementById('timer-container');

        // Result display elements
        const resultName = document.getElementById('result-name');
        const resultTime = document.getElementById('result-time');
        const resultAttempted = document.getElementById('result-attempted');
        const resultScore = document.getElementById('result-score');
        const resultPercentage = document.getElementById('result-percentage');
        const totalQuestionsDisplay = document.querySelectorAll('.total-questions-display'); // Get all elements to display total questions


        // Formspree hidden form elements
        const formspreeForm = document.getElementById('results-formspree');
        const formspreeName = document.getElementById('formspree-name');
        const formspreeTime = document.getElementById('formspree-time');
        const formspreeAttempted = document.getElementById('formspree-attempted');
        const formspreeScore = document.getElementById('formspree-score');
        const formspreePercentage = document.getElementById('formspree-percentage');


        // --- Quiz State ---
        let currentStudentName = '';
        let timerInterval;
        let timeRemaining = 40 * 60; // 40 minutes in seconds
        let quizSubmitted = false;
        let totalQuestions = quizData.length; // FIX: Changed from const to let
        let startTime;

        // --- Functions ---

        // Shuffle options for a question (Fisher-Yates Shuffle)
        function shuffleOptions(options) {
            const optionsArray = Object.entries(options); // [ ['a', 'Option A'], ['b', 'Option B'], ... ]
            for (let i = optionsArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [optionsArray[i], optionsArray[j]] = [optionsArray[j], optionsArray[i]]; // Swap
            }
            return Object.fromEntries(optionsArray); // Convert back to object
        }

        // Load questions into the form
        function loadQuiz() {
            quizForm.innerHTML = ''; // Clear previous questions if any
            // Ensure we only load 100 questions even if quizData has more/less
            const questionsToLoad = quizData.slice(0, 100);
            totalQuestions = questionsToLoad.length; // Update total questions count (This is now allowed)

            // Update the total questions display in the results section header
            totalQuestionsDisplay.forEach(el => el.textContent = totalQuestions);


            questionsToLoad.forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.classList.add('mb-8', 'p-4', 'border', 'border-gray-200', 'rounded-lg', 'bg-gray-50');
                questionElement.setAttribute('data-question-index', index); // Store index

                // Add question number and text
                const questionTitle = document.createElement('p');
                questionTitle.classList.add('text-lg', 'font-semibold', 'mb-4', 'text-gray-800');
                // Sanitize question text potentially? For now, assume it's safe.
                questionTitle.textContent = `${index + 1}. ${q.question}`;
                questionElement.appendChild(questionTitle);

                // Shuffle options before displaying
                const shuffledOptions = shuffleOptions(q.options);

                // Add options (radio buttons)
                const optionsContainer = document.createElement('div');
                optionsContainer.classList.add('space-y-2');

                Object.entries(shuffledOptions).forEach(([key, value]) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.classList.add('quiz-option');

                    const radioInput = document.createElement('input');
                    radioInput.type = 'radio';
                    radioInput.name = `question_${index}`;
                    radioInput.value = key; // Use the original key (a, b, c, d) as the value
                    radioInput.id = `q${index}_${key}`;

                    const radioLabel = document.createElement('label');
                    radioLabel.htmlFor = `q${index}_${key}`;
                    radioLabel.textContent = value; // Sanitize option text potentially?

                    optionDiv.appendChild(radioInput);
                    optionDiv.appendChild(radioLabel);
                    optionsContainer.appendChild(optionDiv);
                });

                questionElement.appendChild(optionsContainer);
                quizForm.appendChild(questionElement);
            });
        }

        // Format time (MM:SS)
        function formatTime(seconds) {
             if (isNaN(seconds) || seconds < 0) seconds = 0; // Handle potential NaN or negative values
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        // Start the timer
        function startTimer() {
            startTime = new Date(); // Record start time
            timeRemaining = 40 * 60; // Reset timer
            timerDisplay.textContent = formatTime(timeRemaining);
            timerContainer.classList.remove('hidden'); // Show timer

            // Clear any existing interval before starting a new one
            clearInterval(timerInterval);

            timerInterval = setInterval(() => {
                timeRemaining--;
                timerDisplay.textContent = formatTime(timeRemaining);

                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    // Check if already submitted before auto-submitting
                    if (!quizSubmitted) {
                         submitQuiz(true); // Auto-submit when time runs out
                    }
                }
            }, 1000);
        }

        // Calculate and display results
        function calculateResults() {
            let score = 0;
            let attempted = 0;
            const formData = new FormData(quizForm);
            const userAnswers = {};

            // Iterate through form data to get selected answers and count attempted
            for (let i = 0; i < totalQuestions; i++) {
                 const selectedAnswer = formData.get(`question_${i}`);
                 if (selectedAnswer) {
                     attempted++;
                     userAnswers[i] = selectedAnswer;
                     // Ensure quizData[i] exists before accessing its answer
                     if (quizData[i] && selectedAnswer === quizData[i].answer) {
                         score++;
                     }
                 } else {
                     userAnswers[i] = null; // Mark as unanswered
                 }
            }

            // Calculate time taken
            const endTime = new Date();
            let timeTakenFormatted = 'N/A';
             if (startTime) {
                 const timeDiff = Math.max(0, Math.round((endTime - startTime) / 1000)); // Ensure non-negative time
                 // If timer ran out, time taken is full duration, otherwise calculate difference
                 const actualTimeSpent = timeRemaining <= 0 ? (40 * 60) : timeDiff;
                 timeTakenFormatted = formatTime(actualTimeSpent);
             } else {
                 // Fallback if start time wasn't recorded
                 const timeFromTimer = (40 * 60) - Math.max(0, timeRemaining);
                 timeTakenFormatted = formatTime(timeFromTimer);
             }


            const percentage = totalQuestions > 0 ? ((score / totalQuestions) * 100).toFixed(1) : 0;

            // Display results
            resultName.textContent = currentStudentName;
            resultTime.textContent = timeTakenFormatted;
            resultAttempted.textContent = attempted;
            resultScore.textContent = score;
            resultPercentage.textContent = percentage;


            // Populate hidden form for Formspree
            formspreeName.value = currentStudentName;
            formspreeTime.value = timeTakenFormatted;
            formspreeAttempted.value = attempted;
            formspreeScore.value = score;
            formspreePercentage.value = percentage;

            return { name: currentStudentName, time: timeTakenFormatted, attempted, score, percentage };
        }

        // Submit the quiz (manually or automatically)
        function submitQuiz(isAutoSubmit = false) {
            if (quizSubmitted) return; // Prevent multiple submissions
            quizSubmitted = true;

            clearInterval(timerInterval); // Stop timer
            timerContainer.classList.add('hidden'); // Hide timer

            const results = calculateResults();

            // Hide quiz, show results
            quizSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');
            window.scrollTo(0, 0); // Scroll to top to show results

            // Submit the hidden Formspree form
             try {
                 formspreeForm.submit();
             } catch (error) {
                 console.error("Formspree submission failed:", error);
                 // Optionally display a message to the user that submission might have failed
             }


            if (isAutoSubmit && typeof alert === 'function') { // Check if alert exists
                alert("Time's up! Your quiz has been automatically submitted.");
            }
        }

        // --- Event Listeners ---

        // Start Quiz Button
        startQuizBtn.addEventListener('click', () => {
            const name = studentNameInput.value.trim();
            if (name) {
                currentStudentName = name;
                quizSubmitted = false; // Reset submission status for a new quiz attempt
                nameError.classList.add('hidden');
                nameSection.classList.add('hidden');
                resultsSection.classList.add('hidden'); // Hide results from previous attempt
                loadQuiz(); // Load questions into the form
                quizSection.classList.remove('hidden');
                startTimer(); // Start the countdown
            } else {
                nameError.classList.remove('hidden');
            }
        });

        // Submit Quiz Button
        submitQuizBtn.addEventListener('click', () => submitQuiz(false));

        // Disable Right Click (Basic deterrent)
        document.addEventListener('contextmenu', event => event.preventDefault());

        // Optional: Disable specific keys like F12 (Inspect Element) - Often annoying for users
        // document.addEventListener('keydown', function(event) {
        //     if (event.key === "F12" || (event.ctrlKey && event.shiftKey && event.key === 'I') || (event.ctrlKey && event.shiftKey && event.key === 'J') || (event.ctrlKey && event.key === 'U')) {
        //         event.preventDefault();
        //     }
        // });

    </script>

</body>
</html>
