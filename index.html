<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 19, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex; /* Added for icon */
            align-items: center; /* Added for icon */
            gap: 0.5rem; /* Added for icon */
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #2C3E50; /* Changed to main text color */
            margin-top: 0.5rem;
            font-weight: bold; /* Added bold as per request */
        }

        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                align-items: flex-start; /* Align to start on mobile */
            }
            .top-bar .date-display {
                order: 1; /* Move date to top-left on mobile */
                font-size: 0.8rem;
                align-self: flex-start; /* Align to start on mobile */
            }
            .top-bar .whatsapp-link {
                order: 2; /* Move whatsapp to bottom on mobile */
                font-size: 0.8rem;
                align-self: flex-end; /* Align to end on mobile */
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        /* Shake animation for wrong answer */
        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault()); // Disable right-click
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault(); // Disable Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J
            }
            if (e.key === 'F12') {
                e.preventDefault(); // Disable F12
            }
        });
        document.addEventListener('copy', event => event.preventDefault()); // Disable copy
        document.addEventListener('paste', event => event.preventDefault()); // Disable paste
    </script>

    <div class="top-bar">
        <div class="date-display" id="liveDate">
            <i class="fas fa-calendar-alt"></i> <span id="currentDateText"></span>
        </div>
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 19, 2025"; // Updated for June 19 quiz
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('currentDateText').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40;
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Login credentials for June 19 quiz
            const expectedLoginId = "19JUNE"; 
            const expectedPassword = "free";

            if (id === expectedLoginId && password === expectedPassword) {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // General Knowledge (50 MCQs) - Pages 151-170 from Previous MCQs Papers
            const generalKnowledgeMCQs = [
                { question: "When did Pakistan become a member of the United Nations?", options: ["1947", "1948", "1949", "1950"], correctOptionIndex: 0, explanation: "Pakistan became a member of the United Nations on September 30, 1947.", difficulty: "easy", source_page: 151 },
                { question: "The 'Durand Line' is the border between Pakistan and which country?", options: ["India", "Afghanistan", "Iran", "China"], correctOptionIndex: 1, explanation: "The Durand Line demarcates the border between Pakistan and Afghanistan.", difficulty: "easy", source_page: 152 },
                { question: "Which mountain range is located in Pakistan?", options: ["Himalayas", "Andes", "Alps", "Rocky Mountains"], correctOptionIndex: 0, explanation: "The Himalayas, Karakoram, and Hindu Kush mountain ranges are partly located in Pakistan.", difficulty: "easy", source_page: 153 },
                { question: "What is the capital of Canada?", options: ["Toronto", "Vancouver", "Ottawa", "Montreal"], correctOptionIndex: 2, explanation: "The capital city of Canada is Ottawa.", difficulty: "easy", source_page: 154 },
                { question: "Which river is the longest in the world?", options: ["Amazon", "Nile", "Yangtze", "Mississippi"], correctOptionIndex: 1, explanation: "The Nile River is generally considered the longest river in the world.", difficulty: "easy", source_page: 155 },
                { question: "What is the currency of Japan?", options: ["Yuan", "Won", "Yen", "Rupee"], correctOptionIndex: 2, explanation: "The official currency of Japan is the Japanese Yen.", difficulty: "easy", source_page: 156 },
                { question: "Which continent is known as the 'Dark Continent'?", options: ["Asia", "Africa", "South America", "Europe"], correctOptionIndex: 1, explanation: "Africa was historically referred to as the 'Dark Continent' by Europeans, mainly due to the challenges of exploration.", difficulty: "medium", source_page: 157 },
                { question: "The headquarters of the International Monetary Fund (IMF) are located in:", options: ["London", "New York", "Washington D.C.", "Geneva"], correctOptionIndex: 2, explanation: "The IMF's headquarters are located in Washington, D.C., United States.", difficulty: "medium", source_page: 158 },
                { question: "Which country is the largest producer of coffee in the world?", options: ["Colombia", "Vietnam", "Brazil", "Ethiopia"], correctOptionIndex: 2, explanation: "Brazil is the largest producer of coffee globally.", difficulty: "medium", source_page: 159 },
                { question: "The Suez Canal connects which two bodies of water?", options: ["Mediterranean Sea and Atlantic Ocean", "Red Sea and Arabian Sea", "Mediterranean Sea and Red Sea", "Black Sea and Aegean Sea"], correctOptionIndex: 2, explanation: "The Suez Canal connects the Mediterranean Sea to the Red Sea, providing a direct route for maritime trade.", difficulty: "medium", source_page: 160 },
                { question: "What is the deepest ocean trench in the world?", options: ["Puerto Rico Trench", "Java Trench", "Mariana Trench", "Kermadec Trench"], correctOptionIndex: 2, explanation: "The Mariana Trench, located in the western Pacific Ocean, is the deepest known oceanic trench on Earth.", difficulty: "medium", source_page: 161 },
                { question: "Which city is known as the 'City of Seven Hills'?", options: ["Rome", "Athens", "Istanbul", "Jerusalem"], correctOptionIndex: 0, explanation: "Rome is famously known as the 'City of Seven Hills' due to its geographical location.", difficulty: "medium", source_page: 162 },
                { question: "What is the primary function of the World Health Organization (WHO)?", options: ["To promote tourism", "To provide financial aid to developing countries", "To coordinate international health efforts", "To regulate global trade"], correctOptionIndex: 2, explanation: "The WHO is a specialized agency of the United Nations responsible for international public health.", difficulty: "easy", source_page: 163 },
                { question: "Which desert is the largest hot desert in the world?", options: ["Gobi Desert", "Kalahari Desert", "Arabian Desert", "Sahara Desert"], correctOptionIndex: 3, explanation: "The Sahara Desert is the largest hot desert and the third-largest desert in the world after the polar deserts.", difficulty: "medium", source_page: 164 },
                { question: "The highest waterfall in the world is:", options: ["Niagara Falls", "Victoria Falls", "Angel Falls", "Iguazu Falls"], correctOptionIndex: 2, explanation: "Angel Falls in Venezuela is the world's highest uninterrupted waterfall.", difficulty: "medium", source_page: 165 },
                { question: "Which continent has the most countries?", options: ["Asia", "Africa", "Europe", "South America"], correctOptionIndex: 1, explanation: "Africa has 54 recognized countries, more than any other continent.", difficulty: "medium", source_page: 166 },
                { question: "What is the official language of Brazil?", options: ["Spanish", "English", "Portuguese", "French"], correctOptionIndex: 2, explanation: "The official language of Brazil is Portuguese.", difficulty: "medium", source_page: 167 },
                { question: "The 'Statue of Liberty' is located in which city?", options: ["Los Angeles", "Chicago", "New York City", "Washington D.C."], correctOptionIndex: 2, explanation: "The Statue of Liberty is a colossal neoclassical sculpture on Liberty Island in New York Harbor.", difficulty: "easy", source_page: 168 },
                { question: "Which international body's primary objective is to maintain international peace and security?", options: ["UNICEF", "World Bank", "NATO", "UN Security Council"], correctOptionIndex: 3, explanation: "The United Nations Security Council (UNSC) has primary responsibility for the maintenance of international peace and security.", difficulty: "tough", source_page: 169 },
                { question: "Which of the following is an artificial satellite?", options: ["Moon", "Sun", "Mars", "Sputnik 1"], correctOptionIndex: 3, explanation: "Sputnik 1 was the first artificial Earth satellite.", difficulty: "easy", source_page: 170 },
                { question: "Who was the first female Prime Minister of a Muslim country?", options: ["Indira Gandhi", "Benazir Bhutto", "Golda Meir", "Margaret Thatcher"], correctOptionIndex: 1, explanation: "Benazir Bhutto of Pakistan was the first woman elected to head a democratic government in a Muslim-majority country.", difficulty: "easy", source_page: 151 },
                { question: "Which organization was founded to promote economic cooperation among Muslim countries?", options: ["Arab League", "OIC", "ECO", "SAARC"], correctOptionIndex: 1, explanation: "The Organization of Islamic Cooperation (OIC) aims to promote Islamic solidarity and economic cooperation.", difficulty: "medium", source_page: 152 },
                { question: "The highest peak of the Himalayan range in Pakistan is:", options: ["K2", "Nanga Parbat", "Broad Peak", "Gasherbrum I"], correctOptionIndex: 1, explanation: "Nanga Parbat is the second highest mountain in Pakistan and the ninth highest in the world, located in the Himalayas. K2 is in the Karakoram range.", difficulty: "tough", source_page: 153 },
                { question: "What is the capital of Australia?", options: ["Sydney", "Melbourne", "Canberra", "Perth"], correctOptionIndex: 2, explanation: "The capital city of Australia is Canberra.", difficulty: "easy", source_page: 154 },
                { question: "Which river is often called the 'Yellow River' and is significant to Chinese civilization?", options: ["Yangtze", "Mekong", "Huang He", "Indus"], correctOptionIndex: 2, explanation: "The Huang He, or Yellow River, is the second-longest river in China and is considered the cradle of Chinese civilization.", difficulty: "medium", source_page: 155 },
                { question: "Which sea is located between Europe and Africa?", options: ["Red Sea", "Black Sea", "Mediterranean Sea", "Caspian Sea"], correctOptionIndex: 2, explanation: "The Mediterranean Sea is located between Europe to the north, Africa to the south, and Asia to the east.", difficulty: "easy", source_page: 160 },
                { question: "The deepest point on Earth's land surface is:", options: ["Dead Sea", "Lake Baikal", "Mariana Trench (ocean)", "Bentley Subglacial Trench (Antarctica)"], correctOptionIndex: 3, explanation: "The Bentley Subglacial Trench in Antarctica is considered the lowest point on the surface of the Earth not under open ocean.", difficulty: "tough", source_page: 161 },
                { question: "Which city is known as the 'Silicon Valley of India'?", options: ["Mumbai", "Delhi", "Bengaluru", "Chennai"], correctOptionIndex: 2, explanation: "Bengaluru (formerly Bangalore) is known as the 'Silicon Valley of India' due to its role as the nation's leading information technology exporter.", difficulty: "medium", source_page: 162 },
                { question: "Which UN agency deals with refugee protection?", options: ["UNDP", "UNHCR", "UNICEF", "FAO"], correctOptionIndex: 1, explanation: "The United Nations High Commissioner for Refugees (UNHCR) is a UN agency with the mandate to protect refugees, forcibly displaced communities, and stateless people.", difficulty: "medium", source_page: 163 },
                { question: "The largest desert in Asia is:", options: ["Thar Desert", "Gobi Desert", "Arabian Desert", "Karakum Desert"], correctOptionIndex: 1, explanation: "The Gobi Desert is the largest desert in Asia.", difficulty: "medium", source_page: 164 }
            ];
            quizQuestions.push(...generalKnowledgeMCQs);

            // Urdu (25 MCQs) - Sir Allama Muhammad Iqbal & Grammar: Urdu Section Pages 39-42
            const urduMCQs = [
                { question: "علامہ اقبال کس زبان میں شاعری کرتے تھے؟", options: ["عربی اور فارسی", "فارسی اور اردو", "اردو اور پنجابی", "اردو اور سندھی"], correctOptionIndex: 1, explanation: "علامہ اقبال نے بنیادی طور پر فارسی اور اردو دونوں زبانوں میں شاعری کی۔", difficulty: "easy", source_page: 39 },
                { question: "علامہ اقبال کا پہلا شعری مجموعہ کون سا تھا؟", options: ["بانگ درا", "بال جبریل", "ضرب کلیم", "ارمغان حجاز"], correctOptionIndex: 0, explanation: "بانگ درا علامہ اقبال کا پہلا اردو شعری مجموعہ تھا جو 1924 میں شائع ہوا۔", difficulty: "medium", source_page: 39 },
                { question: "علامہ اقبال نے ڈاکٹریٹ کی ڈگری کس موضوع پر حاصل کی؟", options: ["اسلامی فلسفہ", "فارسی ادب", "فلسفہ عجم", "علم اقتصادیات"], correctOptionIndex: 2, explanation: "علامہ اقبال نے میونخ یونیورسٹی سے 'فلسفہ عجم' (The Development of Metaphysics in Persia) پر ڈاکٹریٹ کی ڈگری حاصل کی۔", difficulty: "tough", source_page: 40 },
                { question: "'خودی کا تصور' کس کے فلسفے کا بنیادی جزو ہے؟", options: ["مرزا غالب", "علامہ اقبال", "میر تقی میر", "فیض احمد فیض"], correctOptionIndex: 1, explanation: "علامہ اقبال کے فلسفے کا مرکزی نقطہ 'خودی' کا تصور ہے جو انسان کی انفرادی اور اجتماعی خود شناسی اور ترقی پر زور دیتا ہے۔", difficulty: "easy", source_page: 40 },
                { question: "علامہ اقبال کی تاریخ پیدائش کیا ہے؟", options: ["9 نومبر 1877", "25 دسمبر 1876", "21 اپریل 1879", "11 نومبر 1888"], correctOptionIndex: 0, explanation: "علامہ محمد اقبال 9 نومبر 1877 کو سیالکوٹ میں پیدا ہوئے۔", difficulty: "easy", source_page: 39 },
                { question: "علامہ اقبال کی وفات کب ہوئی؟", options: ["21 اپریل 1938", "9 نومبر 1947", "14 اگست 1937", "23 مارچ 1940"], correctOptionIndex: 0, explanation: "علامہ اقبال کا انتقال 21 اپریل 1938 کو ہوا۔", difficulty: "easy", source_page: 39 },
                { question: "علامہ اقبال کو 'حکیم الامت' کا خطاب کیوں دیا گیا؟", options: ["ان کی طبابت کی وجہ سے", "ان کی فقہی بصیرت کی وجہ سے", "امت کے مسائل کا حل پیش کرنے پر", "ان کی فلسفہ دانی پر"], correctOptionIndex: 2, explanation: "علامہ اقبال کو 'حکیم الامت' اس لیے کہا جاتا ہے کہ انہوں نے اپنی شاعری اور فلسفے کے ذریعے امت مسلمہ کے مسائل کا حل پیش کیا۔", difficulty: "medium", source_page: 40 },
                { question: "'بال جبریل' کب شائع ہوئی؟", options: ["1924", "1935", "1936", "1938"], correctOptionIndex: 1, explanation: "علامہ اقبال کا مشہور شعری مجموعہ 'بال جبریل' 1935 میں شائع ہوا۔", difficulty: "tough", source_page: 39 },
                { question: "'سیرت النبی' علامہ اقبال کے کس شعری مجموعے میں شامل ہے؟", options: ["بانگ درا", "ارمغان حجاز", "زبور عجم", "یہ کسی مجموعے میں شامل نہیں ہے"], correctOptionIndex: 3, explanation: "'سیرت النبی' علامہ اقبال کی تصنیف نہیں ہے بلکہ علامہ شبلی نعمانی اور سید سلیمان ندوی کی مشترکہ تصنیف ہے۔", difficulty: "tough", source_page: 40 },
                { question: "اسم کی تعریف کیا ہے؟", options: ["کسی کام کا نام (Name of an action)", "کسی شخص، جگہ یا چیز کا نام (Name of a person, place, or thing)", "کسی صفت کا نام (Name of a quality)", "کسی حالت کا نام (Name of a state)"], correctOptionIndex: 1, explanation: "اسم (Noun) وہ لفظ ہے جو کسی شخص، جگہ یا چیز کے نام کو ظاہر کرے۔", difficulty: "easy", source_page: 41 },
                { question: "فعل کی تعریف کیا ہے؟", options: ["کسی نام کو ظاہر کرنا (To show a name)", "کسی کام کا ہونا یا کرنا (To do or be an action)", "کسی کی صفت بیان کرنا (To describe a quality)", "دو جملوں کو جوڑنا (To join two sentences)"], correctOptionIndex: 1, explanation: "فعل (Verb) وہ لفظ ہے جو کسی کام کا ہونا، کرنا یا سہنا ظاہر کرے۔", difficulty: "easy", source_page: 41 },
                { question: "حرف کی تعریف کیا ہے؟", options: ["وہ لفظ جو اسم اور فعل کے درمیان تعلق پیدا کرے (A word that creates a relationship between noun and verb)", "وہ لفظ جو کسی کام کو ظاہر کرے (A word that shows an action)", "وہ لفظ جو کسی شخص کا نام ہو (A word that is a person's name)", "وہ لفظ جو کسی جگہ کو ظاہر کرے (A word that shows a place)"], correctOptionIndex: 0, explanation: "حرف (Preposition/Conjunction) وہ لفظ ہے جو دو اسموں، دو فعلوں یا اسم اور فعل کے درمیان تعلق پیدا کرے۔", difficulty: "medium", source_page: 42 },
                { question: "'نظم' کے لغوی معنی کیا ہیں؟", options: ["بکھیرنا (To scatter)", "ترتیب دینا (To arrange)", "اکٹھا کرنا (To gather)", "توڑنا (To break)"], correctOptionIndex: 1, explanation: "نظم کے لغوی معنی 'ترتیب دینا' یا 'موتی پرونا' ہیں۔", difficulty: "medium", source_page: 42 },
                { question: "علامہ اقبال کے والد کا نام کیا تھا؟", options: ["نور محمد", "شیخ عطا محمد", "محمد رفیق", "شیخ فضل الدین"], correctOptionIndex: 1, explanation: "علامہ اقبال کے والد کا نام شیخ عطا محمد تھا۔", difficulty: "easy", source_page: 39 },
                { question: "'پیام مشرق' علامہ اقبال کے کس زبان کے مجموعے میں شامل ہے؟", options: ["اردو", "فارسی", "پنجابی", "عربی"], correctOptionIndex: 1, explanation: "'پیام مشرق' علامہ اقبال کا ایک مشہور فارسی شعری مجموعہ ہے۔", difficulty: "tough", source_page: 40 },
                { question: "'مذکر' اور 'مؤنث' کس کے اقسام ہیں؟", options: ["فعل", "اسم", "حرف", "صفت"], correctOptionIndex: 1, explanation: "مذکر (Masculine) اور مؤنث (Feminine) اسم کی جنس کو ظاہر کرتے ہیں۔", difficulty: "easy", source_page: 41 },
                { question: "فاعل کسے کہتے ہیں؟", options: ["جس پر کام واقع ہو (On whom the action happens)", "کام کرنے والا (Doer of the action)", "کام (Action)", "حالت (State)"], correctOptionIndex: 1, explanation: "فاعل (Subject) وہ اسم ہوتا ہے جو کسی کام کو کرنے والا ہو۔", difficulty: "medium", source_page: 42 },
                { question: "مفعول کسے کہتے ہیں؟", options: ["کام کرنے والا (Doer of the action)", "جس پر کام واقع ہو (On whom the action happens)", "کام (Action)", "جگہ (Place)"], correctOptionIndex: 1, explanation: "مفعول (Object) وہ اسم ہوتا ہے جس پر کوئی کام واقع ہو۔", difficulty: "medium", source_page: 42 },
                { question: "'جاوید نامہ' کس شاعر کی تصنیف ہے؟", options: ["مرزا غالب", "فیض احمد فیض", "علامہ اقبال", "ناصر کاظمی"], correctOptionIndex: 2, explanation: "'جاوید نامہ' علامہ اقبال کی ایک اہم فارسی مثنوی ہے جو ان کے بیٹے جاوید کے نام پر ہے۔", difficulty: "tough", source_page: 40 },
                { question: "علامہ اقبال نے کس کالج سے تعلیم حاصل کی؟", options: ["گورنمنٹ کالج لاہور", "کینرڈ کالج لاہور", "ایچیسن کالج لاہور", "فارمن کرسچن کالج لاہور"], correctOptionIndex: 0, explanation: "علامہ اقبال نے گورنمنٹ کالج لاہور سے فلسفہ، انگریزی ادب اور عربی میں ماسٹرز کی ڈگری حاصل کی۔", difficulty: "medium", source_page: 39 },
                { question: "'ضرب کلیم' کب شائع ہوئی؟", options: ["1924", "1935", "1936", "1938"], correctOptionIndex: 2, explanation: "علامہ اقبال کا شعری مجموعہ 'ضرب کلیم' 1936 میں شائع ہوا۔", difficulty: "tough", source_page: 39 },
                { question: "'اسلوب' سے کیا مراد ہے؟", options: ["شاعری کا وزن (Meter of poetry)", "لکھنے کا انداز یا طریقہ (Style or manner of writing)", "گرامر کا اصول (Grammar rule)", "کہانی کا پلاٹ (Plot of a story)"], correctOptionIndex: 1, explanation: "اسلوب (Style) سے مراد لکھنے یا بیان کرنے کا مخصوص انداز یا طریقہ ہے۔", difficulty: "medium", source_page: 42 },
                { question: "'اسم معرفہ' کسے کہتے ہیں؟", options: ["عام نام (Common name)", "خاص نام (Proper name)", "صفت کا نام (Name of quality)", "فعل کا نام (Name of action)"], correctOptionIndex: 1, explanation: "اسم معرفہ (Proper Noun) وہ اسم ہے جو کسی خاص شخص، جگہ یا چیز کا نام ہو۔", difficulty: "easy", source_page: 41 },
                { question: "'اسم نکرہ' کسے کہتے ہیں؟", options: ["خاص نام (Proper name)", "عام نام (Common name)", "صفت کا نام (Name of quality)", "فعل کا نام (Name of action)"], correctOptionIndex: 1, explanation: "اسم نکرہ (Common Noun) وہ اسم ہے جو کسی عام شخص، جگہ یا چیز کا نام ہو۔", difficulty: "easy", source_page: 41 },
                { question: "'فعل لازم' کسے کہتے ہیں؟", options: ["وہ فعل جسے مفعول کی ضرورت ہو (A verb that needs an object)", "وہ فعل جسے مفعول کی ضرورت نہ ہو (A verb that does not need an object)", "مددگار فعل (Helping verb)", "ماضی کا فعل (Past verb)"], correctOptionIndex: 1, explanation: "فعل لازم (Intransitive Verb) وہ فعل ہوتا ہے جس کے لیے مفعول کی ضرورت نہ ہو۔", difficulty: "tough", source_page: 42 }
            ];
            quizQuestions.push(...urduMCQs);

            // English (25 MCQs) - Comprehensive Review
            const englishMCQs = [
                // Vocabulary
                { question: "Choose the synonym for 'Benevolent':", options: ["Cruel", "Kind", "Selfish", "Angry"], correctOptionIndex: 1, explanation: "Benevolent means well meaning and kindly.", difficulty: "easy" },
                { question: "Choose the antonym for 'Ephemeral':", options: ["Lasting", "Temporary", "Fleeting", "Short-lived"], correctOptionIndex: 0, explanation: "Ephemeral means lasting for a very short time. Lasting is its antonym.", difficulty: "medium" },
                { question: "What does the idiom 'break a leg' mean?", options: ["To actually break a leg", "To wish good luck", "To run fast", "To stop performing"], correctOptionIndex: 1, explanation: "'Break a leg' is an idiom used to wish someone good luck, especially before a performance.", difficulty: "easy" },
                { question: "Choose the synonym for 'Ubiquitous':", options: ["Rare", "Common", "Scarce", "Unique"], correctOptionIndex: 1, explanation: "Ubiquitous means present, appearing, or found everywhere; common.", difficulty: "tough" },
                { question: "Choose the antonym for 'Pernicious':", options: ["Harmful", "Beneficial", "Malicious", "Destructive"], correctOptionIndex: 1, explanation: "Pernicious means having a harmful effect, especially in a gradual or subtle way. Beneficial is its antonym.", difficulty: "tough" },
                { question: "What does the phrasal verb 'call off' mean?", options: ["To shout loudly", "To cancel something", "To make a phone call", "To postpone indefinitely"], correctOptionIndex: 1, explanation: "'Call off' means to cancel an event or agreement.", difficulty: "easy" },
                // Grammar
                { question: "Identify the part of speech of the underlined word: She sings **beautifully**.", options: ["Noun", "Verb", "Adjective", "Adverb"], correctOptionIndex: 3, explanation: "Beautifully describes how she sings, making it an adverb.", difficulty: "easy" },
                { question: "Which tense is used in the sentence: 'They **have been studying** for three hours.'?", options: ["Present Simple", "Present Continuous", "Present Perfect", "Present Perfect Continuous"], correctOptionIndex: 3, explanation: "The structure 'have/has been + verb-ing' indicates the Present Perfect Continuous tense.", difficulty: "medium" },
                { question: "Choose the correct preposition: He is good _____ mathematics.", options: ["at", "in", "on", "for"], correctOptionIndex: 0, explanation: "The correct preposition to use with 'good' when referring to a subject or skill is 'at'.", difficulty: "easy" },
                { question: "Change into passive voice: 'The students wrote the essay.'", options: ["The essay is written by the students.", "The essay was written by the students.", "The students are writing the essay.", "The essay had been written by the students."], correctOptionIndex: 1, explanation: "To change to passive voice, the object becomes the subject, the verb changes to 'be' + past participle, and the original subject becomes the agent (optional). 'Wrote' is past simple, so 'was written'.", difficulty: "medium" },
                { question: "Choose the correct article: She is _____ honest person.", options: ["a", "an", "the", "no article"], correctOptionIndex: 1, explanation: "Although 'honest' starts with 'h', the 'h' is silent, and it sounds like it begins with a vowel sound, so 'an' is used.", difficulty: "easy" },
                { question: "Identify the type of sentence: 'Although it was raining, we went for a walk.'", options: ["Simple", "Compound", "Complex", "Compound-Complex"], correctOptionIndex: 2, explanation: "This is a complex sentence because it contains an independent clause ('we went for a walk') and a dependent clause ('Although it was raining') introduced by a subordinating conjunction ('Although').", difficulty: "tough" },
                { question: "Correct the sentence: 'Neither John nor his brothers is coming.'", options: ["Neither John nor his brothers are coming.", "Neither John nor his brothers comes.", "Neither John nor his brothers came.", "Neither John nor his brothers have come."], correctOptionIndex: 0, explanation: "When 'neither...nor' connects two subjects, the verb agrees with the subject closer to it. 'Brothers' is plural, so 'are' is correct.", difficulty: "medium" },
                { question: "Change into indirect speech: He said, 'I am going to the market.'", options: ["He said that he was going to the market.", "He said that I am going to the market.", "He said that he is going to the market.", "He asked if he was going to the market."], correctOptionIndex: 0, explanation: "In indirect speech, the tense shifts (present continuous to past continuous) and pronouns change.", difficulty: "medium" },
                { question: "Fill in the blank with the appropriate modal verb: You _____ try harder if you want to succeed.", options: ["might", "would", "should", "could"], correctOptionIndex: 2, explanation: "'Should' implies a recommendation or obligation, which fits the context of advice for success.", difficulty: "easy" },
                // Comprehension/General
                { question: "The primary purpose of a 'thesis statement' in an essay is:", options: ["To provide background information", "To state the main argument or purpose of the essay", "To summarize the conclusion", "To introduce the author"], correctOptionIndex: 1, explanation: "A thesis statement is a sentence that expresses the main idea of a research paper or essay. It is typically found at the end of the introduction.", difficulty: "medium" },
                { question: "What is the function of a topic sentence in a paragraph?", options: ["To conclude the paragraph", "To introduce the main idea of the paragraph", "To provide evidence for the main idea", "To transition to the next paragraph"], correctOptionIndex: 1, explanation: "A topic sentence states the main idea of a paragraph and guides the reader on what the paragraph will be about.", difficulty: "easy" },
                { question: "Which literary device involves a contrast between what is said and what is actually meant?", options: ["Metaphor", "Simile", "Irony", "Allusion"], correctOptionIndex: 2, explanation: "Irony is a literary device where there is a contradiction between appearance and reality, or between expectation and outcome.", difficulty: "tough" },
                { question: "What does 'plagiarism' refer to?", options: ["Using your own original ideas", "Citing sources correctly", "Presenting someone else's work or ideas as your own without proper attribution", "Collaborating on a project"], correctOptionIndex: 2, explanation: "Plagiarism is the act of presenting another's work or ideas as your own without proper acknowledgement.", difficulty: "easy" },
                { question: "In academic writing, what is the purpose of 'referencing' or 'citing sources'?", options: ["To make the essay longer", "To show off how many books you've read", "To give credit to original authors and avoid plagiarism", "To confuse the reader"], correctOptionIndex: 2, explanation: "Citing sources is essential for academic integrity, allowing readers to find the original work and giving credit to the creators.", difficulty: "easy" },
                { question: "What is the common structure of a typical essay?", options: ["Introduction, Body, Conclusion", "Thesis, Evidence, Counter-argument", "Beginning, Middle, End", "Question, Answer, Summary"], correctOptionIndex: 0, explanation: "The standard essay structure includes an introduction (with thesis), body paragraphs (with supporting arguments and evidence), and a conclusion (summarizing and restating the thesis).", difficulty: "easy" },
                { question: "What is the purpose of a 'summary'?", options: ["To criticize a text", "To provide a brief overview of the main points of a text", "To analyze every detail of a text", "To introduce new information"], correctOptionIndex: 1, explanation: "A summary condenses the essential information of a text into a shorter form, highlighting key points without including minor details or personal opinions.", difficulty: "medium" },
                { question: "Which of the following is an example of a 'compound sentence'?", options: ["She sings.", "She sings beautifully and he plays well.", "Although she sings, he plays.", "She sings and plays the piano."], correctOptionIndex: 3, explanation: "A compound sentence consists of two or more independent clauses joined by a coordinating conjunction (e.g., 'and', 'but', 'or'). 'She sings' is an independent clause, and 'plays the piano' is another (with an implied subject 'she').", difficulty: "medium" },
                { question: "What is the main purpose of an 'argumentative essay'?", options: ["To tell a story", "To inform the reader about a topic", "To persuade the reader to accept a particular viewpoint", "To describe a process"], correctOptionIndex: 2, explanation: "An argumentative essay aims to convince the reader of the validity of a particular stance or claim by presenting evidence and reasoning.", difficulty: "medium" },
                { question: "In grammar, what is a 'conjunction'?", options: ["A word that describes a verb", "A word that expresses an action", "A word that joins words, phrases, or clauses", "A word that names a person, place, or thing"], correctOptionIndex: 2, explanation: "A conjunction is a word used to connect clauses or sentences or to coordinate words in the same clause (e.g., and, but, if).", difficulty: "easy" }
            ];
            quizQuestions.push(...englishMCQs);

            // Dynamically adjust counts to meet targets and total 100 questions
            let allQuestions = [];
            allQuestions.push(...generalKnowledgeMCQs, ...urduMCQs, ...englishMCQs);

            // Filter by difficulty
            let easyQuestions = allQuestions.filter(q => q.difficulty === 'easy');
            let mediumQuestions = allQuestions.filter(q => q.difficulty === 'medium');
            let toughQuestions = allQuestions.filter(q => q.difficulty === 'tough');

            // Shuffle each difficulty pool independently
            shuffleArray(easyQuestions);
            shuffleArray(mediumQuestions);
            shuffleArray(toughQuestions);

            // Define target counts
            const targetTotal = 100;
            const targetEasy = 10;
            const targetMedium = 50;
            const targetTough = 40;

            // Initialize final quiz array
            let finalQuiz = [];

            // Add questions from each pool based on target, prioritizing exact match
            // Start with easy questions
            finalQuiz = finalQuiz.concat(easyQuestions.slice(0, Math.min(easyQuestions.length, targetEasy)));

            // Then tough questions (to ensure enough tough questions, as they might be fewer initially)
            finalQuiz = finalQuiz.concat(toughQuestions.slice(0, Math.min(toughQuestions.length, targetTough)));

            // Then medium questions
            finalQuiz = finalQuiz.concat(mediumQuestions.slice(0, Math.min(mediumQuestions.length, targetMedium)));

            // If still short, add remaining questions from any pool
            let remainingQuestions = [...easyQuestions.slice(targetEasy), ...mediumQuestions.slice(targetMedium), ...toughQuestions.slice(targetTough)];
            shuffleArray(remainingQuestions); // Shuffle remaining for randomness
            finalQuiz = finalQuiz.concat(remainingQuestions.slice(0, targetTotal - finalQuiz.length));

            // If somehow exceeded (shouldn't happen with slice), trim to 100
            finalQuiz = finalQuiz.slice(0, targetTotal);

            // Final shuffle of the entire quiz for random order presentation
            shuffleArray(finalQuiz);
            quizQuestions = finalQuiz;


            // Recalculate difficulty counts to ensure final distribution (for logging/debugging)
            let finalEasyCount = quizQuestions.filter(q => q.difficulty === 'easy').length;
            let finalMediumCount = quizQuestions.filter(q => q.difficulty === 'medium').length;
            let finalToughCount = quizQuestions.filter(q => q.difficulty === 'tough').length;
            console.log(`Final Question Counts: Easy=${finalEasyCount}, Medium=${finalMediumCount}, Tough=${finalToughCount}, Total=${quizQuestions.length}`);


            // Randomly select one "Today's Special Question"
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Initialize the quiz when the script loads
        document.addEventListener('DOMContentLoaded', () => {
            // Set the login ID dynamically based on the CURRENT_DATE_STR
            const dateParts = CURRENT_DATE_STR.split(' ');
            const monthName = dateParts[0].toUpperCase().substring(0, 3);
            const day = parseInt(dateParts[1].replace(',', ''));
            document.getElementById('loginId').value = `${day}${monthName}`; // e.g., 19JUNE

            initializeQuiz();
            // Initial call to set correct sticky date position on load
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });
    </script>
</body>
</html>
